<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Elvion AI — Professional Certificate</title>

  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700;900&family=Montserrat:wght@400;500;700&family=Playfair+Display:ital,wght@0,500;0,700;1,400&display=swap" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <style>
    :root {
      --navy: #0a1f44;
      --navy-accent: #1c3a70;
      --gold: #cba554;
      --gold-light: #e6c985;
      --gold-dark: #9e7e38;
      --paper: #fdfbf7;
      --text: #1a1a1a;
      --text-muted: #5c667a;
      --blue-glow: rgba(64, 124, 255, 0.3);
    }

    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: #dce2ed; /* Subtle blue-grey background */
      -webkit-font-smoothing: antialiased;
    }

    .page {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 30px;
      box-sizing: border-box;
    }

    .panel {
      width: 1100px;
      max-width: 100%;
      display: flex;
      gap: 30px;
      align-items: flex-start;
      justify-content: center;
    }

    /* --- The "Fiery Edge" Container --- */
    .cert-frame {
        position: relative;
        width: 800px;
        /* The glowing blue/gold layered border */
        padding: 12px;
        background: linear-gradient(135deg, var(--navy) 0%, var(--navy-accent) 50%, var(--navy) 100%);
        border-radius: 4px;
        box-shadow: 
            0 15px 35px rgba(10, 31, 68, 0.3), /* Deep shadow */
            0 0 30px var(--blue-glow), /* Outer blue glow */
            inset 0 0 15px var(--blue-glow); /* Inner blue glow */
            border: 2px solid var(--gold-dark);
    }

    /* The inner paper area */
    .cert-paper {
        position: relative;
        background: var(--paper);
        padding: 50px 60px;
        border: 3px double var(--gold);
        box-shadow: inset 0 0 20px rgba(203, 165, 84, 0.1);
        overflow: hidden;
    }

    /* Subtle security pattern background */
    .cert-paper::before {
        content: "";
        position: absolute;
        inset: 0;
        background-image: url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M54.627 0l.83.828-1.415 1.415L51.8 0h2.827zM5.373 0l-.83.828L5.96 2.243 8.2 0H5.374zM48.97 0l3.657 3.657-1.414 1.414L46.143 0h2.828zM11.03 0L7.372 3.657 8.787 5.07 13.857 0H11.03zm32.284 0L49.8 6.485 48.384 7.9l-7.9-7.9h2.83zM16.686 0L10.2 6.485 11.616 7.9l7.9-7.9h-2.83zM22.344 0L13.858 8.485 15.272 9.9l7.9-7.9h-.828zm5.656 0L19.515 8.485 18.1 9.9l-7.9-7.9h.828zm5.656 0L25.172 8.485 23.758 9.9l-7.9-7.9h.828zm5.656 0L30.828 8.485 29.415 9.9l-7.9-7.9h.828zM32 59.999l-3 3-3-3 3-3 3 3zm-12-12l-3 3-3-3 3-3 3 3zm24 0l-3 3-3-3 3-3 3 3zm-12 0l-3 3-3-3 3-3 3 3zm-12-12l-3 3-3-3 3-3 3 3zm24 0l-3 3-3-3 3-3 3 3zm-12 0l-3 3-3-3 3-3 3 3zm12 24l-3 3-3-3 3-3 3 3zM20 59.999l-3 3-3-3 3-3 3 3zm24 0l-3 3-3-3 3-3 3 3zm-12 0l-3 3-3-3 3-3 3 3zm0-48l-3 3-3-3 3-3 3 3zm-12 12l-3 3-3-3 3-3 3 3zm24 0l-3 3-3-3 3-3 3 3zm-12 0l-3 3-3-3 3-3 3 3zm0-12l-3 3-3-3 3-3 3 3zm-12 0l-3 3-3-3 3-3 3 3zm24 0l-3 3-3-3 3-3 3 3zm-12 0l-3 3-3-3 3-3 3 3zM20 11.999l-3 3-3-3 3-3 3 3zm24 0l-3 3-3-3 3-3 3 3zm-12 0l-3 3-3-3 3-3 3 3zM32 0l-3 3-3-3 3-3 3 3zM20 0l-3 3-3-3 3-3 3 3zm24 0l-3 3-3-3 3-3 3 3zM26 0l-3 3-3-3 3-3 3 3zm12 0l-3 3-3-3 3-3 3 3z' fill='%230a1f44' fill-opacity='0.02' fill-rule='evenodd'/%3E%3C/svg%3E");
        z-index: 0;
    }

    /* Centered Watermark using the specific URL provided */
    .watermark {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 450px;
      height: 450px;
      background-image: url('https://i.postimg.cc/brGKkFLC/IMG-20251007-234104-159.webp');
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
      opacity: 0.05;
      filter: grayscale(100%) sepia(20%) hue-rotate(200deg); /* Slight navy tint */
      z-index: 0;
    }

    /* --- Content Styling --- */
    .cert-content {
        position: relative;
        z-index: 2;
        text-align: center;
    }

    .org-name {
        font-family: 'Montserrat', sans-serif;
        font-weight: 700;
        letter-spacing: 3px;
        text-transform: uppercase;
        color: var(--navy);
        font-size: 16px;
        margin-bottom: 20px;
        text-shadow: 0 1px 0 var(--gold-light);
    }

    .cert-title {
        font-family: 'Cinzel Decorative', serif;
        font-size: 52px;
        font-weight: 900;
        color: var(--navy);
        text-transform: uppercase;
        letter-spacing: 1px;
        line-height: 1;
        margin: 0 0 15px 0;
        /* Gold shadow for depth */
        text-shadow: 3px 3px 0px var(--gold-light), 4px 4px 0px var(--gold-dark);
    }

    .subtitle {
        font-family: 'Playfair Display', serif;
        font-size: 15px;
        color: var(--text-muted);
        font-style: italic;
        margin-bottom: 30px;
    }

    .intro-text {
        font-family: 'Montserrat', sans-serif;
        text-transform: uppercase;
        letter-spacing: 2px;
        font-size: 12px;
        font-weight: 600;
        color: var(--gold-dark);
        margin-bottom: 10px;
    }

    .recipient {
        font-family: 'Playfair Display', serif;
        font-size: 42px;
        font-weight: 700;
        color: var(--navy);
        margin: 0 0 25px 0;
        padding-bottom: 15px;
        position: relative;
    }
    /* Decorative line below name */
    .recipient::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 200px;
        height: 3px;
        background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }

    .course-label {
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        text-transform: uppercase;
        font-size: 12px;
        color: var(--text-muted);
        margin-bottom: 8px;
    }

    .course-title {
        font-family: 'Playfair Display', serif;
        font-size: 26px;
        font-weight: 700;
        color: var(--navy-accent);
        margin-bottom: 35px;
    }

    .meta-row {
      display: flex;
      gap: 30px;
      justify-content: center;
      align-items: center;
      margin-bottom: 40px;
      font-family: 'Montserrat', sans-serif;
      color: var(--text-muted);
      font-size: 13px;
      border-top: 1px solid rgba(203, 165, 84, 0.3);
      border-bottom: 1px solid rgba(203, 165, 84, 0.3);
      padding: 10px 0;
      display: inline-flex; /* Shrink to fit content */
      padding-left: 30px; padding-right: 30px;
    }
    .meta-row strong { color: var(--navy); }

    /* --- Bottom Section (Signature & Seal) --- */
    .bottom-area {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        margin-top: 20px;
        padding: 0 30px;
        position: relative;
    }

    .sign-block { text-align: center; width: 240px; }
    .signature-image {
      display: block; width: 200px; height: 70px; object-fit: contain; margin: 0 auto -5px auto; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.1));
    }
    .sign-line { height: 2px; background: var(--navy); margin-bottom: 8px; }
    .sign-name { font-family: 'Playfair Display', serif; font-weight: 700; color: var(--navy); font-size: 15px; }
    .sign-title { font-family: 'Montserrat', sans-serif; font-weight: 600; color: var(--text-muted); font-size: 11px; text-transform: uppercase; }

    /* Professional Gold Seal */
    .seal-container {
        position: relative;
        width: 110px;
        height: 110px;
    }
    .seal-gold {
        width: 100%; height: 100%;
        border-radius: 50%;
        background: radial-gradient(ellipse at 30% 30%, var(--gold-light) 0%, var(--gold) 50%, var(--gold-dark) 100%);
        box-shadow: 0 8px 20px rgba(0,0,0,0.2), inset 0 2px 5px rgba(255,255,255,0.7);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--navy);
        border: 4px double var(--navy);
    }
    .seal-content { text-align: center; }
    .seal-year { font-size: 24px; font-weight: 900; letter-spacing: 1px; font-family: 'Cinzel Decorative', serif; text-shadow: 0 1px 0 rgba(255,255,255,0.5); }
    .seal-text { font-size: 10px; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; margin-top: 4px; }


    .disclaimer {
      position: absolute;
      bottom: 15px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 10px;
      color: var(--text-muted);
      width: 80%;
      text-align: center;
      font-family: 'Montserrat', sans-serif;
    }

    .cert-id {
      position: absolute;
      right: 20px;
      bottom: 20px;
      font-family: 'Montserrat', sans-serif;
      color: var(--navy);
      font-weight: 600;
      font-size: 11px;
      background: var(--gold-light);
      padding: 4px 10px;
      border-radius: 4px;
    }

    /* --- Controls Panel --- */
    .controls {
      width: 260px;
      background: #fff;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      display: flex; flex-direction: column; gap: 12px;
      font-family: 'Montserrat', sans-serif;
      height: fit-content;
    }
    .controls h4 { margin: 0 0 10px 0; color: var(--navy); font-size: 14px; text-transform: uppercase; border-bottom: 2px solid var(--gold); padding-bottom: 8px; }
    .control-group label { display: block; font-size: 11px; font-weight: 700; color: var(--navy); margin-bottom: 4px; text-transform: uppercase;}
    .control-group input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 13px; box-sizing: border-box; font-family: 'Montserrat'; }
    .control-group input:focus { outline: none; border-color: var(--navy); }
    .btn { padding: 10px; border: none; border-radius: 4px; font-weight: 700; cursor: pointer; text-transform: uppercase; font-size: 11px; letter-spacing: 1px; transition: all 0.2s;}
    .btn-primary { background: var(--navy); color: var(--gold); }
    .btn-primary:hover { background: var(--navy-accent); box-shadow: 0 4px 12px rgba(10, 31, 68, 0.2); }
    .btn-secondary { background: #f0f0f0; color: var(--text); border: 1px solid #ccc; }
    #sigpad { width: 100%; height: 100px; border: 1px dashed var(--text-muted); background: #fafafa; cursor: crosshair; border-radius: 4px;}

    @media (max-width: 1000px){
      .panel{flex-direction:column; align-items:center;}
      .controls{width:100%; max-width:800px;}
    }
  </style>
</head>
<body>

<div class="page">
  <div class="panel">

    <div class="cert-frame">
        <div class="cert-paper" id="certificate-to-export">
            
            <div class="watermark" id="wm"></div>

            <div class="cert-content">
                <div class="org-name" id="disp-org">Elvion AI Innovations</div>
                <h1 class="cert-title">Certificate of Completion</h1>
                <p class="subtitle">This is to certify that the individual named below has successfully completed the course indicated.</p>

                <div class="intro-text">Awarded To</div>
                <div class="recipient" id="disp-recipient">Kolade Ogunlana</div>

                <div class="course-label">Course</div>
                <div class="course-title" id="disp-course">LAW — Legal Foundations & Modern Practice</div>

                <div class="meta-row">
                    <div><strong>Grade:</strong> <span id="disp-grade">4.75 / 5.00</span></div>
                    <div style="opacity:0.5;">&middot;</div>
                    <div><strong>Date:</strong> <span id="disp-date">Let's fix the date below</span></div>
                </div>

                <div class="bottom-area">
                    <div class="sign-block">
                        <img id="sig-image" class="signature-image" src="" alt="Signature" style="display:none;">
                        <div class="sign-line"></div>
                        <div class="sign-name">Kolade Philip Ogunlana</div>
                        <div class="sign-title">President</div>
                    </div>

                    <div class="seal-container">
                        <div class="seal-gold">
                            <div class="seal-content">
                                <div class="seal-year">2025</div>
                                <div class="seal-text">ELVION<br>OFFICIAL</div>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="disclaimer">This certificate is issued by Elvion AI Innovations for recognition of learning achievement. Not an accreditation for professional licensing.</div>
                <div class="cert-id" id="disp-id">ID: ELV-LAW-2025-987654</div>
            </div>
        </div>
    </div>
    <div class="controls">
      <h4>Edit Details</h4>
      <div class="control-group"><label>Recipient Name</label><input type="text" id="in-recipient" value="Kolade Ogunlana" /></div>
      <div class="control-group"><label>Course Title</label><input type="text" id="in-course" value="LAW — Legal Foundations & Modern Practice" /></div>
      <div class="control-group" style="display:flex; gap:10px;">
        <div style="flex:1"><label>Date</label><input type="date" id="in-date" /></div>
        <div style="flex:1"><label>Grade</label><input type="text" id="in-grade" value="4.75 / 5.00" /></div>
      </div>
       <div class="control-group"><label>Certificate ID</label><input type="text" id="in-id" value="ELV-LAW-2025-987654" /></div>
       <div class="control-group"><label>Organization</label><input type="text" id="in-org" value="Elvion AI Innovations" /></div>

      <hr style="border:none; border-top:1px solid #eee; margin: 8px 0;">

      <div class="control-group">
          <label>Signature (Draw below)</label>
          <canvas id="sigpad"></canvas>
          <div style="margin-top:5px; display:flex; justify-content:space-between; gap:10px;">
              <button class="btn btn-secondary" id="clear-sig" style="flex:1;">Clear</button>
              <button class="btn btn-primary" id="apply-sig" style="flex:2;">Apply Signature</button>
          </div>
      </div>

      <hr style="border:none; border-top:1px solid #eee; margin: 8px 0;">

      <button id="update-btn" class="btn btn-primary" style="background: var(--gold-dark);">Update Text Fields</button>
      <button id="download-btn" class="btn btn-primary" style="padding: 12px; font-size: 12px;">Download Certificate</button>
    </div>
    </div>
</div>

<script>
  // --- Initialization ---
  (function init() {
    const today = new Date();
    document.getElementById('in-date').value = today.toISOString().split('T')[0];
    updateFields();
  })();

  // --- Update Text Fields ---
  function updateFields() {
    document.getElementById('disp-recipient').textContent = document.getElementById('in-recipient').value || '—';
    document.getElementById('disp-course').textContent = document.getElementById('in-course').value || '—';
    document.getElementById('disp-grade').textContent = document.getElementById('in-grade').value || '—';
    document.getElementById('disp-org').textContent = document.getElementById('in-org').value || '—';
    document.getElementById('disp-id').textContent = 'ID: ' + (document.getElementById('in-id').value || '');

    const dVal = document.getElementById('in-date').value;
    if(dVal) {
         const dObj = new Date(dVal);
         document.getElementById('disp-date').textContent = dObj.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
    }
  }
  document.getElementById('update-btn').addEventListener('click', updateFields);


  // --- Signature Pad Logic ---
  const canvas = document.getElementById('sigpad');
  const ctx = canvas.getContext('2d');
  let isDrawing = false;

  function resizeCanvas() {
      const ratio = Math.max(window.devicePixelRatio || 1, 1);
      canvas.width = canvas.offsetWidth * ratio;
      canvas.height = canvas.offsetHeight * ratio;
      ctx.scale(ratio, ratio);
      ctx.strokeStyle = "#0a1f44"; // Navy ink
      ctx.lineWidth = 2.5;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
  }
  window.addEventListener('resize', resizeCanvas);
  // Delay initial resize slightly to ensure container is rendered
  setTimeout(resizeCanvas, 100);

  function getPos(e) {
      const rect = canvas.getBoundingClientRect();
      // handle both mouse and touch events differently
      let cx, cy;
      if (e.touches && e.touches.length > 0) {
        cx = e.touches[0].clientX; cy = e.touches[0].clientY;
      } else {
        cx = e.clientX; cy = e.clientY;
      }
      return { x: cx - rect.left, y: cy - rect.top };
  }

  // Start drawing
  function startDraw(e){ isDrawing = true; const pos = getPos(e); ctx.beginPath(); ctx.moveTo(pos.x, pos.y); e.preventDefault(); }
  canvas.addEventListener('mousedown', startDraw);
  canvas.addEventListener('touchstart', startDraw, {passive: false});

  // Draw move
  function drawMove(e){ if(!isDrawing) return; const pos = getPos(e); ctx.lineTo(pos.x, pos.y); ctx.stroke(); e.preventDefault(); }
  canvas.addEventListener('mousemove', drawMove);
  canvas.addEventListener('touchmove', drawMove, {passive: false});

  // End drawing
  function endDraw(){ isDrawing = false; }
  ['mouseup', 'mouseleave', 'touchend', 'touchcancel'].forEach(ev => canvas.addEventListener(ev, endDraw));

  // Clear/Apply buttons
  document.getElementById('clear-sig').addEventListener('click', () => {
      ctx.clearRect(0, 0, canvas.width / window.devicePixelRatio, canvas.height / window.devicePixelRatio);
      document.getElementById('sig-image').style.display = 'none';
  });

  document.getElementById('apply-sig').addEventListener('click', () => {
      const dataUrl = canvas.toDataURL('image/png');
      const sigImg = document.getElementById('sig-image');
      sigImg.src = dataUrl;
      sigImg.style.display = 'block';
  });


  // --- Download Logic ---
  document.getElementById('download-btn').addEventListener('click', () => {
      updateFields(); // Ensure data is synced before print
      const certElement = document.getElementById('certificate-to-export');

      // temporarily hide the border glow for cleaner export, or keep it.
      // Keeping it requires capturing the parent .cert-frame
      const frameElement = document.querySelector('.cert-frame');

      html2canvas(frameElement, {
          scale: 3, // High resolution export
          useCORS: true,
          backgroundColor: null,
          logging: false
      }).then(canvasResult => {
          const link = document.createElement('a');
          const name = document.getElementById('in-recipient').value.replace(/\s+/g, '_') || 'certificate';
          link.download = `Elvion_Certificate_${name}.png`;
          link.href = canvasResult.toDataURL('image/png');
          link.click();
      });
  });
</script>
</body>
</html>
