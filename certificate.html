<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Elvion AI — Premium Certificate</title>

  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700;900&family=Cinzel:wght@400;600&family=Montserrat:wght@300;400;500;600;700&family=Great+Vibes&display=swap" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <style>
    :root {
      --navy-deep: #051024;
      --navy-mid: #0e2a5c;
      --navy-bright: #1a3c7a;
      
      /* Foil Gradient definition */
      --gold-foil: linear-gradient(45deg, #9e7e38 0%, #f2dda6 20%, #cba554 40%, #f9ebb6 60%, #aa8c2c 80%, #8a6e2f 100%);
      
      --paper-white: #ffffff;
      --paper-cream: #fdfcf8;
      --ink: #121212;
      --muted: #666;
    }

    html, body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: #2c3e50; /* Dark bg to make the certificate pop */
      -webkit-font-smoothing: antialiased;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
      align-items: center;
      padding-top: 20px;
    }

    /* --- Layout Container --- */
    .layout {
      display: flex;
      gap: 40px;
      align-items: flex-start;
      justify-content: center;
      flex-wrap: wrap;
      padding: 20px;
      max-width: 1400px;
    }

    /* --- The Frame (The Bluish Fiery Edge) --- */
    .cert-frame {
      position: relative;
      width: 880px; /* Standard Landscape A4 ratio approx */
      padding: 15px;
      
      /* The "Fiery" Glowing Border Complex */
      background: var(--navy-deep);
      border-radius: 8px;
      box-shadow: 
        0 0 0 2px #0e2a5c, /* Inner rim */
        0 0 30px rgba(55, 114, 255, 0.25), /* Blue Glow */
        0 20px 50px rgba(0,0,0,0.5); /* Deep Drop Shadow */
        
      /* Metallic Border Gradient */
      background: linear-gradient(135deg, #0e2a5c 0%, #1c468e 50%, #0e2a5c 100%);
    }

    /* The Inner Paper */
    .cert-paper {
      position: relative;
      background: var(--paper-cream);
      padding: 40px 50px;
      border: 4px double #cba554; /* Physical inner border */
      outline: 1px solid #0e2a5c;
      outline-offset: -10px;
      overflow: hidden;
      /* Banknote guilloche texture overlay */
      background-image: radial-gradient(circle at center, transparent 0%, rgba(14, 42, 92, 0.03) 100%),
                        repeating-linear-gradient(45deg, rgba(203, 165, 84, 0.05) 0px, rgba(203, 165, 84, 0.05) 1px, transparent 1px, transparent 10px);
    }

    /* The Watermark (Using the User's Image, Centered) */
    .watermark {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 500px; height: 500px;
      /* Using the provided image URL */
      background-image: url('https://i.postimg.cc/brGKkFLC/IMG-20251007-234104-159.webp');
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
      opacity: 0.07; /* Subtle */
      filter: grayscale(100%) sepia(20%) hue-rotate(200deg);
      z-index: 0;
      pointer-events: none;
    }

    /* --- Typography & Content --- */
    .content-layer {
      position: relative;
      z-index: 2;
      text-align: center;
    }

    .org-header {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 15px;
      margin-bottom: 10px;
    }
    
    /* Small version of logo for header */
    .header-logo {
      height: 40px;
      opacity: 0.8;
    }

    .org-name {
      font-family: 'Montserrat', sans-serif;
      font-size: 14px;
      letter-spacing: 4px;
      text-transform: uppercase;
      font-weight: 700;
      color: var(--navy-mid);
    }

    /* THE GOLD FOIL TITLE */
    .main-title {
      font-family: 'Cinzel Decorative', serif;
      font-size: 56px;
      font-weight: 900;
      text-transform: uppercase;
      margin: 10px 0 20px 0;
      line-height: 1;
      letter-spacing: 2px;
      
      /* The Gradient Text Magic */
      background: var(--gold-foil);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      filter: drop-shadow(0 2px 0px rgba(0,0,0,0.1));
    }

    .subtitle {
      font-family: 'Cinzel', serif;
      font-size: 14px;
      color: var(--muted);
      margin-bottom: 40px;
      border-top: 1px solid #ddd;
      border-bottom: 1px solid #ddd;
      display: inline-block;
      padding: 8px 40px;
    }

    .intro {
      font-family: 'Montserrat', sans-serif;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 2px;
      color: var(--navy-mid);
      margin-bottom: 15px;
      font-weight: 600;
    }

    .recipient-name {
      font-family: 'Cinzel', serif;
      font-size: 42px;
      color: var(--navy-deep);
      font-weight: 700;
      padding-bottom: 10px;
      margin-bottom: 25px;
      border-bottom: 2px solid var(--gold-light);
      display: inline-block;
      min-width: 60%;
    }

    .course-section {
      margin-bottom: 40px;
    }
    .course-pre { font-size: 12px; font-style: italic; color: var(--muted); margin-bottom: 5px; }
    .course-name {
      font-family: 'Cinzel', serif;
      font-size: 26px;
      color: #cba554; /* Flat gold for readability */
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* --- Bottom Area (Signatures & Seal) --- */
    .footer-grid {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      align-items: end;
      margin-top: 40px;
      padding: 0 20px;
    }

    .sig-block {
      text-align: center;
    }
    .sig-img {
      height: 60px;
      display: block;
      margin: 0 auto;
    }
    .sig-line {
      height: 1px;
      background: var(--navy-mid);
      margin: 5px auto;
      width: 80%;
    }
    .sig-text {
      font-size: 12px;
      font-weight: 700;
      color: var(--navy-deep);
    }
    .sig-role {
      font-size: 10px;
      text-transform: uppercase;
      color: var(--muted);
      letter-spacing: 1px;
    }

    /* --- The Jagged Seal (Clip Path) --- */
    .seal-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    .jagged-seal {
      width: 110px;
      height: 110px;
      background: var(--gold-foil);
      display: flex;
      align-items: center;
      justify-content: center;
      /* Creating the rosette shape */
      clip-path: polygon(50% 0%, 61% 10%, 75% 6%, 81% 19%, 94% 22%, 93% 36%, 100% 45%, 93% 57%, 98% 70%, 87% 78%, 86% 92%, 72% 92%, 65% 100%, 50% 93%, 35% 100%, 28% 92%, 14% 92%, 13% 78%, 2% 70%, 7% 57%, 0% 45%, 7% 36%, 6% 22%, 19% 19%, 25% 6%, 39% 10%);
      box-shadow: inset 0 0 20px rgba(0,0,0,0.3);
    }
    .seal-inner {
      width: 90px;
      height: 90px;
      border-radius: 50%;
      border: 2px dashed var(--navy-deep);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      color: var(--navy-deep);
    }
    .seal-year { font-size: 22px; font-weight: 900; line-height: 1; }
    .seal-label { font-size: 9px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-top:2px; }

    .cert-id {
      position: absolute;
      bottom: 15px; right: 15px;
      font-size: 10px;
      color: var(--muted);
      font-family: monospace;
    }

    /* --- Controls UI --- */
    .controls {
      background: white;
      width: 300px;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.2);
    }
    .controls h3 { margin-top:0; color: var(--navy-mid); font-size: 18px; border-bottom: 2px solid #eee; padding-bottom: 10px;}
    .form-group { margin-bottom: 12px; }
    .form-group label { display: block; font-size: 11px; font-weight: 700; text-transform: uppercase; color: #888; margin-bottom: 4px; }
    .form-group input { width: 100%; padding: 8px; border: 1px solid #ccc; border-radius: 4px; font-family: inherit; box-sizing: border-box;}
    
    .btn {
      width: 100%;
      padding: 12px;
      border: none;
      border-radius: 4px;
      font-weight: 700;
      cursor: pointer;
      text-transform: uppercase;
      font-size: 12px;
      letter-spacing: 1px;
      margin-top: 10px;
      transition: 0.2s;
    }
    .btn-primary { background: var(--navy-mid); color: white; }
    .btn-primary:hover { background: var(--navy-deep); }
    
    canvas#sigpad {
      width: 100%; height: 100px; border: 1px dashed #ccc; background: #fafafa;
    }

    @media(max-width: 1200px) {
      .layout { flex-direction: column; align-items: center; }
      .controls { width: 100%; max-width: 880px; }
      .cert-frame { max-width: 100vw; overflow-x: hidden; }
    }
  </style>
</head>
<body>

<div class="layout">

  <div class="cert-frame" id="capture-frame">
    <div class="cert-paper">
      
      <div class="watermark"></div>

      <div class="content-layer">
        <div class="org-header">
            <img src="https://i.postimg.cc/brGKkFLC/IMG-20251007-234104-159.webp" class="header-logo" alt="Logo">
            <div class="org-name" id="out-org">Elvion AI Innovations</div>
        </div>

        <h1 class="main-title">Certificate of Completion</h1>
        <div class="subtitle">Official Recognition of Academic Achievement</div>

        <div class="intro">This certificate is proudly awarded to</div>
        <div class="recipient-name" id="out-recipient">Kolade Ogunlana</div>

        <div class="course-section">
          <div class="course-pre">For successfully completing the comprehensive curriculum in</div>
          <div class="course-name" id="out-course">LAW — Legal Foundations & Modern Practice</div>
        </div>

        <div class="footer-grid">
          <div class="sig-block" style="text-align: left; padding-left: 20px;">
            <div style="font-size: 12px; color:var(--muted); margin-bottom: 4px;">GRADE: <strong style="color:var(--navy-deep)" id="out-grade">4.75 / 5.00</strong></div>
            <div style="font-size: 12px; color:var(--muted);">DATE: <strong style="color:var(--navy-deep)" id="out-date">Nov 23, 2025</strong></div>
          </div>

          <div class="seal-wrapper">
            <div class="jagged-seal">
              <div class="seal-inner">
                 <div class="seal-year">2025</div>
                 <div class="seal-label">Official<br>Elvion</div>
              </div>
            </div>
          </div>

          <div class="sig-block">
             <img id="out-sig-img" class="sig-img" src="" style="display:none;">
             <div id="out-sig-text" style="font-family: 'Great Vibes', cursive; font-size: 24px; height: 40px; color: var(--navy-deep);"></div>
             
             <div class="sig-line"></div>
             <div class="sig-text">Kolade Philip Ogunlana</div>
             <div class="sig-role">President & Founder</div>
          </div>
        </div>

        <div class="cert-id" id="out-id">ID: ELV-2025-88429</div>
      </div>
    </div>
  </div>

  <div class="controls">
    <h3>Configuration</h3>
    
    <div class="form-group">
      <label>Recipient Name</label>
      <input type="text" id="in-recipient" value="Kolade Ogunlana">
    </div>
    <div class="form-group">
      <label>Course Title</label>
      <input type="text" id="in-course" value="LAW — Legal Foundations & Modern Practice">
    </div>
    <div class="form-group">
      <label>Grade</label>
      <input type="text" id="in-grade" value="4.75 / 5.00">
    </div>
    <div class="form-group">
      <label>Date</label>
      <input type="date" id="in-date">
    </div>
    <div class="form-group">
      <label>Certificate ID</label>
      <input type="text" id="in-id" value="ELV-2025-88429">
    </div>

    <div class="form-group" style="margin-top:20px;">
      <label>Signature</label>
      <canvas id="sigpad"></canvas>
      <div style="display:flex; gap:10px; margin-top:5px;">
        <button class="btn" style="background:#eee; color:#333; margin-top:0;" id="btn-clear">Clear</button>
        <button class="btn" style="background:var(--navy-mid); color:white; margin-top:0;" id="btn-apply">Apply</button>
      </div>
    </div>

    <button class="btn btn-primary" id="btn-download">Download High-Res</button>
  </div>

</div>

<script>
  // --- 1. Live Updates ---
  const inputs = ['recipient', 'course', 'grade', 'id'];
  inputs.forEach(id => {
    document.getElementById('in-' + id).addEventListener('input', function(e) {
      document.getElementById('out-' + id).textContent = e.target.value;
    });
  });

  // Date handling
  const dateIn = document.getElementById('in-date');
  dateIn.valueAsDate = new Date();
  dateIn.addEventListener('change', function(e){
     const d = new Date(e.target.value);
     document.getElementById('out-date').textContent = d.toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });
  });
  // trigger initial date
  document.getElementById('out-date').textContent = new Date().toLocaleDateString('en-US', { month: 'short', day: 'numeric', year: 'numeric' });


  // --- 2. Signature Pad ---
  const canvas = document.getElementById('sigpad');
  const ctx = canvas.getContext('2d');
  let drawing = false;

  function resizeCanvas() {
    const ratio = Math.max(window.devicePixelRatio || 1, 1);
    canvas.width = canvas.offsetWidth * ratio;
    canvas.height = canvas.offsetHeight * ratio;
    ctx.scale(ratio, ratio);
    ctx.strokeStyle = "#051024";
    ctx.lineWidth = 2;
    ctx.lineCap = "round";
  }
  // Delay resize slightly for layout stability
  setTimeout(resizeCanvas, 500);

  function getPos(e) {
    const rect = canvas.getBoundingClientRect();
    const x = e.touches ? e.touches[0].clientX : e.clientX;
    const y = e.touches ? e.touches[0].clientY : e.clientY;
    return { x: x - rect.left, y: y - rect.top };
  }

  ['mousedown', 'touchstart'].forEach(ev => canvas.addEventListener(ev, (e) => {
    drawing = true; 
    const p = getPos(e); 
    ctx.beginPath(); 
    ctx.moveTo(p.x, p.y); 
    e.preventDefault();
  }));

  ['mousemove', 'touchmove'].forEach(ev => canvas.addEventListener(ev, (e) => {
    if(!drawing) return; 
    const p = getPos(e); 
    ctx.lineTo(p.x, p.y); 
    ctx.stroke(); 
    e.preventDefault();
  }));

  ['mouseup', 'touchend'].forEach(ev => canvas.addEventListener(ev, () => drawing = false));

  document.getElementById('btn-clear').addEventListener('click', () => {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    document.getElementById('out-sig-img').style.display = 'none';
  });

  document.getElementById('btn-apply').addEventListener('click', () => {
    const data = canvas.toDataURL('image/png');
    const img = document.getElementById('out-sig-img');
    img.src = data;
    img.style.display = 'block';
  });


  // --- 3. High-Res Download ---
  document.getElementById('btn-download').addEventListener('click', () => {
    const element = document.getElementById('capture-frame');
    
    // Use high scale for print quality
    html2canvas(element, {
      scale: 4, // 4x resolution (Ultra HD)
      useCORS: true,
      backgroundColor: null // Transparent corners
    }).then(canvas => {
      const link = document.createElement('a');
      link.download = 'Elvion-Certificate-' + document.getElementById('in-recipient').value + '.png';
      link.href = canvas.toDataURL('image/png');
      link.click();
    });
  });
</script>

</body>
</html>
