<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>How to Craft Unforgettable Characters | Elvion AI Blog</title>
    <meta name="description" content="Learn proven techniques to create compelling, three-dimensional characters that readers will remember long after the final page.">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --dark-navy: #00001a;
            --black-bg: #000000;
            --cyan-glow: #00ffff;
            --light-blue-glow: #00aaff;
            --text-color: #e0e0e0;
            --heading-color: #ffffff;
            --gradient-start: #0a1128;
            --gradient-end: #121a30;
            --card-bg: rgba(18, 26, 48, 0.7);
            --border-glow: 0 0 10px var(--cyan-glow), 0 0 20px var(--light-blue-glow);
            --hover-glow: 0 0 15px var(--cyan-glow), 0 0 30px var(--light-blue-glow);
            --button-bg: linear-gradient(45deg, var(--cyan-glow), var(--light-blue-glow));
            --button-text-color: var(--black-bg);
            --star-color: rgba(255, 255, 255, 0.7);
            --input-bg: rgba(0, 0, 0, 0.3);
            --input-border: rgba(0, 255, 255, 0.2);
            --input-focus-border: var(--cyan-glow);
        }

        html { scroll-behavior: smooth; }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding-top: 60px;
            background-color: var(--black-bg);
            color: var(--text-color);
            line-height: 1.7; /* Increased for readability */
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }

        h1, h2, h3, h4 {
            font-family: 'Orbitron', sans-serif;
            color: var(--heading-color);
            margin-top: 0;
            text-shadow: var(--border-glow);
            line-height: 1.3;
        }
        
        a {
            color: var(--cyan-glow);
            text-decoration: none;
            transition: color 0.3s ease, text-shadow 0.3s ease;
        }

        a:hover {
            color: var(--light-blue-glow);
            text-shadow: 0 0 5px var(--cyan-glow);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
        }
        
        .post-container {
             max-width: 800px; /* Optimal width for reading */
             margin: 0 auto;
             padding: 0 1rem;
        }

        #stars-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background-color: var(--star-color);
            border-radius: 50%;
            opacity: 0;
            animation: twinkle 4s infinite ease-in-out;
        }

        @keyframes twinkle {
            0%, 100% { opacity: 0; transform: scale(0.5); }
            50% { opacity: 1; transform: scale(1); }
        }

        /* --- Navbar (Copied from your code) --- */
        .navbar {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(0, 0, 26, 0.95);
            padding: 1rem 0;
            z-index: 1000;
            box-shadow: 0 4px 20px rgba(0, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
        }
        .navbar .container { display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; }
        .navbar-brand { font-family: 'Orbitron', sans-serif; font-size: 1.8rem; font-weight: 700; color: var(--heading-color); text-shadow: var(--border-glow); }
        .nav-links { display: flex; list-style: none; margin: 0; padding: 0; }
        .nav-links li { margin-left: 2rem; }
        .nav-links a { color: var(--text-color); font-weight: 500; padding: 0.5rem 0; position: relative; text-shadow: none; }
        .nav-links .active-link { color: var(--cyan-glow); text-shadow: 0 0 5px var(--cyan-glow); }
        .nav-links a::after { content: ''; position: absolute; width: 0; height: 2px; bottom: 0; left: 0; background: var(--cyan-glow); box-shadow: 0 0 5px var(--cyan-glow); transition: width 0.3s ease-in-out; }
        .nav-links a:hover::after, .nav-links .active-link::after { width: 100%; }
        .hamburger { display: none; flex-direction: column; cursor: pointer; padding: 0.5rem; background: transparent; border: none; position: relative; z-index: 1001; }
        .hamburger .bar { width: 25px; height: 3px; background-color: var(--cyan-glow); margin: 4px 0; transition: 0.4s; box-shadow: 0 0 5px var(--cyan-glow); }
        .hamburger.active .bar:nth-child(2) { opacity: 0; }
        .hamburger.active .bar:nth-child(1) { transform: translateY(7px) rotate(45deg); }
        .hamburger.active .bar:nth-child(3) { transform: translateY(-7px) rotate(-45deg); }

        /* --- Footer (Copied from your code) --- */
        .footer {
            background: var(--dark-navy);
            color: var(--text-color);
            padding: 4rem 0;
            font-size: 0.9rem;
            border-top: 1px solid rgba(0, 255, 255, 0.1);
            text-align: center;
            position: relative;
            overflow: hidden;
            margin-top: 4rem; /* Added margin */
        }
        .footer .container { display: flex; flex-wrap: wrap; justify-content: space-between; align-items: flex-start; gap: 2rem; text-align: left; position: relative; z-index: 2; }
        .footer .col { flex: 1; min-width: 200px; }
        .footer h4 { font-size: 1.2rem; margin-bottom: 1.5rem; color: var(--cyan-glow); text-shadow: 0 0 5px rgba(0,255,255,0.4); }
        .footer ul { list-style: none; padding: 0; }
        .footer ul li { margin-bottom: 0.8rem; }
        .footer ul li a { color: var(--text-color); }
        .footer ul li a:hover { color: var(--light-blue-glow); text-shadow: 0 0 5px var(--cyan-glow); }
        .footer .brand-info { font-family: 'Orbitron', sans-serif; font-size: 1.5rem; font-weight: 700; color: var(--heading-color); text-shadow: var(--border-glow); margin-bottom: 1rem; display: block; }
        .footer .legal-info { margin-top: 2rem; text-align: center; width: 100%; border-top: 1px solid rgba(0, 255, 255, 0.1); padding-top: 1.5rem; color: rgba(224, 224, 224, 0.7); position: relative; z-index: 2; }

        /* --- Media Queries (Copied) --- */
        @media (max-width: 992px) {
            .nav-links { display: none; flex-direction: column; width: 100%; background: rgba(0, 0, 26, 0.95); position: absolute; top: 100%; left: 0; padding: 1rem 0; border-top: 1px solid rgba(0, 255, 255, 0.2); box-shadow: 0 8px 16px rgba(0, 255, 255, 0.1); }
            .nav-links.active { display: flex; }
            .nav-links li { margin: 0.5rem 0; text-align: center; }
            .hamburger { display: flex; }
            .navbar .container { flex-wrap: nowrap; }
            body { padding-top: 55px; }
        }
        @media (max-width: 768px) {
            .footer .container { flex-direction: column; align-items: center; }
            .footer .col { text-align: center; margin-bottom: 2rem; }
            .container { padding: 0 1rem; }
            .post-container { padding: 0 0.5rem; }
        }
        
        /* --- NEW: Single Post Styles --- */
        .post-main {
            padding-top: 3rem;
            padding-bottom: 3rem;
            position: relative;
            z-index: 2;
        }

        .post-header {
            text-align: center;
            margin-bottom: 2.5rem;
            padding-bottom: 2.5rem;
            border-bottom: 1px solid rgba(0, 255, 255, 0.1);
        }

        .post-header .post-tag {
            padding: 0.4rem 1rem;
            background: var(--button-bg);
            color: var(--button-text-color);
            font-weight: 700;
            font-size: 0.8rem;
            border-radius: 4px;
            text-transform: uppercase;
            box-shadow: 0 0 5px var(--cyan-glow);
            display: inline-block;
            margin-bottom: 1.5rem;
        }

        .post-header h1 {
            font-size: 3rem;
            color: var(--cyan-glow);
            text-shadow: var(--border-glow);
            margin-bottom: 1rem;
        }

        .post-meta {
            font-size: 0.9rem;
            color: var(--text-color);
            opacity: 0.8;
        }
        .post-meta span { margin: 0 0.75rem; }
        .post-meta i { margin-right: 0.3rem; color: var(--light-blue-glow); }
        
        .post-thumbnail-placeholder {
            width: 100%;
            height: 350px;
            background: linear-gradient(135deg, #1c0033, #001a33);
            display: flex;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.6);
            font-size: 5rem;
            border-radius: 10px;
            margin-bottom: 2.5rem;
            border: 1px solid rgba(0, 255, 255, 0.1);
        }

        /* --- NEW: Audio Player Styles --- */
        .audio-player {
            background: var(--card-bg);
            border: 1px solid var(--input-border);
            border-radius: 8px;
            padding: 1.25rem;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1.5rem;
            margin-bottom: 2.5rem;
        }

        .audio-player-button {
            background: var(--button-bg);
            border: none;
            color: var(--button-text-color);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 700;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 255, 255, 0.3);
        }
        .audio-player-button:hover {
            box-shadow: var(--hover-glow);
            transform: scale(1.05);
        }
        .audio-player-button:disabled {
            background: grey;
            cursor: not-allowed;
            opacity: 0.7;
        }
        #speech-status {
            font-family: 'Orbitron', sans-serif;
            font-size: 1rem;
            color: var(--light-blue-glow);
            text-shadow: 0 0 5px var(--light-blue-glow);
        }
        
        /* --- NEW: Article Content Styles --- */
        .article-content {
            font-size: 1.1rem;
            color: var(--text-color);
        }
        .article-content p {
            margin-bottom: 1.5rem;
            transition: background-color 0.3s ease;
            padding: 0.2rem;
            border-radius: 4px;
        }
        .article-content h2 {
            font-size: 2rem;
            color: var(--light-blue-glow);
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid rgba(0, 255, 255, 0.2);
            transition: background-color 0.3s ease;
            padding: 0.2rem;
            border-radius: 4px;
        }
        .article-content h3 {
            font-size: 1.5rem;
            color: var(--cyan-glow);
            margin-top: 2rem;
            margin-bottom: 1rem;
            transition: background-color 0.3s ease;
            padding: 0.2rem;
            border-radius: 4px;
        }
        .article-content ul, .article-content ol {
            margin-bottom: 1.5rem;
            padding-left: 2rem;
        }
        .article-content li {
            margin-bottom: 0.5rem;
        }
        .article-content blockquote {
            border-left: 4px solid var(--cyan-glow);
            padding-left: 1.5rem;
            margin: 1.5rem 0;
            font-style: italic;
            color: rgba(255, 255, 255, 0.9);
            background: rgba(0, 255, 255, 0.05);
            border-radius: 0 4px 4px 0;
            padding: 1rem 1.5rem;
        }
        .article-content .highlight-speech {
            background-color: rgba(0, 255, 255, 0.15);
            box-shadow: 0 0 8px rgba(0, 255, 255, 0.2);
        }

        /* --- NEW: Comment Section Styles --- */
        .comments-wrapper {
            margin-top: 4rem;
            padding-top: 3rem;
            border-top: 1px solid rgba(0, 255, 255, 0.1);
        }
        .comments-wrapper h2 {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 2rem;
        }

        /* Auth Form Styles */
        #auth-container {
            background: var(--card-bg);
            border: 1px solid var(--input-border);
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
        }
        .auth-toggle {
            display: flex;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }
        .auth-toggle-btn {
            padding: 0.7rem 1.4rem;
            background: rgba(0, 255, 255, 0.08);
            border: 1px solid var(--cyan-glow);
            color: var(--cyan-glow);
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }
        .auth-toggle-btn.active {
            background: var(--button-bg);
            color: var(--button-text-color);
            box-shadow: 0 0 10px var(--cyan-glow);
        }
        .auth-form input {
            display: block;
            width: 100%;
            padding: 0.8rem;
            margin-bottom: 1rem;
            background: var(--input-bg);
            border: 1px solid var(--input-border);
            border-radius: 4px;
            color: var(--text-color);
            font-size: 1rem;
            box-sizing: border-box; /* Important fix */
        }
        .auth-form input:focus {
            outline: none;
            border-color: var(--input-focus-border);
            box-shadow: var(--border-glow);
        }
        .auth-form button {
            background: var(--button-bg);
            border: none;
            color: var(--button-text-color);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        .auth-form button:hover {
            box-shadow: var(--hover-glow);
        }
        #auth-username-group, #auth-pic-group {
            display: none; /* Hidden by default */
        }

        /* Comment Form Styles */
        .comment-form {
            margin-bottom: 2.5rem;
        }
        #comment-input {
            width: 100%;
            min-height: 100px;
            padding: 0.8rem;
            background: var(--input-bg);
            border: 1px solid var(--input-border);
            border-radius: 4px;
            color: var(--text-color);
            font-size: 1rem;
            font-family: 'Inter', sans-serif;
            margin-bottom: 1rem;
            box-sizing: border-box;
            resize: vertical;
        }
        #comment-input:focus {
            outline: none;
            border-color: var(--input-focus-border);
            box-shadow: var(--border-glow);
        }
        .emoji-suggestions {
            margin-bottom: 1rem;
        }
        .emoji-suggestions span {
            cursor: pointer;
            font-size: 1.2rem;
            margin-right: 0.5rem;
            transition: transform 0.2s;
        }
        .emoji-suggestions span:hover {
            transform: scale(1.3);
        }
        #comment-button {
            background: var(--button-bg);
            border: none;
            color: var(--button-text-color);
            padding: 0.8rem 1.5rem;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 700;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        #comment-button:hover {
            box-shadow: var(--hover-glow);
        }

        /* Comment List Styles */
        .comment-list {
            list-style: none;
            padding: 0;
        }
        .comment {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            background: rgba(0, 0, 0, 0.2);
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid rgba(0, 255, 255, 0.05);
        }
        .comment img {
            width: 45px;
            height: 45px;
            border-radius: 50%;
            border: 2px solid var(--cyan-glow);
            object-fit: cover;
        }
        .comment-content {
            flex: 1;
        }
        .comment-user {
            font-weight: 700;
            color: var(--cyan-glow);
            font-size: 1rem;
            margin-bottom: 0.25rem;
            display: flex;
            align-items: center;
        }
        .comment-text {
            margin: 0.5rem 0;
            color: var(--text-color);
            white-space: pre-wrap; /* Preserves line breaks */
        }
        .comment-meta {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.6);
            margin-bottom: 0.75rem;
        }
        .comment-actions button {
            background: transparent;
            border: 1px solid var(--input-border);
            color: var(--text-color);
            padding: 0.3rem 0.7rem;
            border-radius: 15px;
            cursor: pointer;
            font-size: 0.8rem;
            margin-right: 0.5rem;
            transition: all 0.3s ease;
        }
        .comment-actions button:hover {
            border-color: var(--cyan-glow);
            color: var(--cyan-glow);
        }
        .comment-actions button.active { /* For toggled buttons */
            background: var(--cyan-glow);
            color: var(--black-bg);
            border-color: var(--cyan-glow);
        }
        .custom-verified-badge {
            width: 15px;
            height: 15px;
            background: var(--light-blue-glow);
            border-radius: 50%;
            margin-left: 0.5rem;
            display: inline-block;
            box-shadow: var(--border-glow);
            /* Simple placeholder, you can use an icon */
        }
        
        /* Reply Styles */
        .reply-box {
            margin-top: 1rem;
            display: none; /* Hidden by default */
        }
        .reply-box textarea {
            width: 100%;
            padding: 0.6rem;
            background: var(--input-bg);
            border: 1px solid var(--input-border);
            border-radius: 4px;
            color: var(--text-color);
            font-size: 0.9rem;
            box-sizing: border-box;
            resize: vertical;
        }
        .reply-box button {
            background: var(--button-bg);
            border: none;
            color: var(--button-text-color);
            padding: 0.5rem 1rem;
            border-radius: 20px;
            cursor: pointer;
            font-weight: 600;
            font-size: 0.8rem;
            margin-top: 0.5rem;
        }

        .replies-container {
            margin-top: 1.5rem;
            padding-left: 2rem;
            border-left: 2px solid rgba(0, 255, 255, 0.1);
        }
        .reply {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }
         .reply img {
            width: 35px;
            height: 35px;
        }

    </style>
</head>
<body>
    <div id="stars-container"></div>
    
    <header class="navbar">
        <div class="container">
            <a href="index.html" class="navbar-brand">Elvion AI</a>
            <button class="hamburger" aria-label="Toggle navigation">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </button>
            <nav class="nav-links">
                <li><a href="university.html">Elvion University</a></li>
                <li><a href="philadelphia.html">Chat & Explore Philadelphia AI (Website)</a></li>
                <li><a href="https://t.me/PhiladelphiaAIbot" target="_blank" rel="noopener noreferrer">Chat Philadelphia AI (Telegram)</a></li>
                <li><a href="https://elvionai.github.io/signup-login.html" target="_blank" rel="noopener noreferrer">Try Seraphina AI (Telegram)</a></li>
                <li><a href="https://elvionai.github.io/profile.html" target="_blank" rel="noopener noreferrer">Visit Your Profile</a></li>
                <li><a href="https://elvionai.github.io/signup-login.html" target="_blank" rel="noopener noreferrer">Sign Up / Login</a></li>
                <li><a href="https://elvionai.github.io/privacy.html">Privacy Policy</a></li>
                <li><a href="blog.html" class="active-link">Blog</a></li>
                <li><a href="https://elvionai.github.io/about.html#">Join the Team</a></li>
                <li><a href="about.html">About Us</a></li>
                <li><a href="https://elvionai.github.io/terms.html">Terms and Conditions</a></li>
            </nav>
        </div>
    </header>

    <main class="post-main">
        <div class="post-container">

            <header class="post-header">
                <span class="post-tag">Creative Writing</span>
                <h1>How to Craft Unforgettable Characters: A Writer's Guide</h1>
                <div class="post-meta">
                    <span><i class="fas fa-user-edit"></i> By Elvion AI Staff</span>
                    <span><i class="fas fa-calendar-alt"></i> Nov 4, 2025</span>
                    <span><i class="fas fa-clock"></i> 8 min read</span>
                </div>
            </header>

            <div class="post-thumbnail-placeholder">
                <i class="fas fa-feather-pointed"></i>
            </div>
            
            <section class="audio-player">
                <button id="audio-play-pause-btn" class="audio-player-button">
                    <i class="fas fa-play"></i>
                    <span>Listen to this Article</span>
                </button>
                <span id="speech-status">Ready to play</span>
            </section>

            <article class="article-content" id="article-content">
                <p>Your characters are the heart of your story. They are the vessels through which your reader experiences the world you've built, the conflicts you've crafted, and the emotions you want to evoke. A weak plot can sometimes be saved by compelling characters, but even the most brilliant plot will fall flat if the characters feel like cardboard cutouts. So, how do you create three-dimensional, unforgettable characters that leap off the page?</p>

                <h2>1. Beyond the Surface: The Iceberg Method</h2>
                <p>What we see of a character‚Äîtheir appearance, their job, their actions‚Äîis just the tip of the iceberg. The real substance lies beneath the surface. This is their **backstory**. You don't need to dump all of this information on the reader (in fact, please don't!), but *you* need to know it. What was their childhood like? What's their biggest regret? What is the secret they've never told anyone? This hidden weight informs their every decision, fear, and desire.</p>

                <blockquote>
                    **Pro-Tip:** Ask yourself: What is the single most important event that shaped my character into who they are today? How does it affect their behavior in Chapter 1?
                </blockquote>

                <h2>2. Give Them Flaws (Real Ones)</h2>
                <p>Perfection is boring. A character who is always right, always strong, and always kind is not relatable‚Äîthey're annoying. Real people are messy. They are impatient, they are selfish, they are afraid of spiders, they procrastinate. A flaw makes a character human. More importantly, a character's **fatal flaw** is often the engine of the plot. It's the internal obstacle they must overcome to achieve their external goal. Is your hero brave? Make them reckless. Is your heroine brilliant? Make her arrogant.</p>

                <h2>3. Wants vs. Needs</h2>
                <p>This is a classic writing technique for a reason. Every compelling character has two goals:</p>
                
                <ul>
                    <li><strong>The Want:</strong> This is the external, conscious goal. It's what the character *thinks* they need to be happy. (e.g., "I want to win the championship," "I want to get the promotion," "I want to defeat the villain.")</li>
                    <li><strong>The Need:</strong> This is the internal, often subconscious truth. It's what the character *actually* needs to grow as a person. (e.g., "I need to learn to trust my teammates," "I need to realize my family is more important than work," "I need to forgive myself.")</li>
                </ul>

                <p>The best stories create conflict by putting the Want and the Need at odds. The character's journey (their "arc") is complete when they either sacrifice their Want to achieve their Need, or finally realize that what they Needed was the key to getting what they Wanted all along.</p>
                
                <h2>4. Let Their Voice Be Heard</h2>
                <p>How does your character speak? Their dialogue is a window into their soul. A character's voice is more than just an accent; it's their word choice, their sentence structure, their rhythm, and what they choose to say (or not say).</p>
                
                <h3>Quick Voice Tips:</h3>
                <ul>
                    <li>An educated professor might use complex sentences and precise vocabulary.</li>
                    <li>A nervous teenager might speak in short, halting sentences, using a lot of "like" or "um."</li>
                    <li>A cynical detective might use dry, sarcastic wit.</li>
                </ul>
                <p>Try this exercise: Write a scene with two characters arguing, but remove all dialogue tags ("he said," "she yelled"). Can you tell who is speaking just by their words and rhythm? If so, you're on the right track.</p>

                <h2>5. Make Them Act: Decisions Define Character</h2>
                <p>Don't just *tell* us your character is brave; put them in a situation where they must *choose* to be brave, especially when it's hard. Character is revealed through action and choice, especially choices made under pressure. The harder the choice, the more we learn about who they really are. A character who chooses to run into a burning building is defined by that action in a way no amount of descriptive prose ever could.</p>
                
                <p>Ultimately, an unforgettable character feels *real*. They are a bundle of contradictions, flaws, desires, and secrets, just like us. By digging deep into their past, understanding their internal conflicts, and letting them express themselves through a unique voice, you can create characters that readers will carry with them long after the final page.</p>
            </article>

            <section class="comments-wrapper" id="comments">
                <h2>Join the Conversation</h2>

                <div id="auth-container">
                    <div class="auth-toggle">
                        <button id="auth-toggle-login" class="auth-toggle-btn active">Login</button>
                        <button id="auth-toggle-signup" class="auth-toggle-btn">Sign Up</button>
                    </div>
                    
                    <form id="auth-form" class="auth-form">
                        <div id="auth-username-group">
                            <label for="auth-username">Username</label>
                            <input type="text" id="auth-username" placeholder="Choose a display name">
                        </div>
                        <div id="auth-pic-group">
                            <label for="auth-pic-url">Profile Pic URL (Optional)</label>
                            <input type="text" id="auth-pic-url" placeholder="http://your-image.com/pic.jpg">
                        </div>
                        <div>
                            <label for="auth-email">Email</label>
                            <input type="email" id="auth-email" placeholder="you@example.com" required>
                        </div>
                        <div>
                            <label for="auth-password">Password</label>
                            <input type="password" id="auth-password" placeholder="Min. 6 characters" required>
                        </div>
                        <button type="submit" id="auth-submit-button">Login</button>
                        <p id="auth-error" style="color: red; margin-top: 1rem;"></p>
                    </form>
                </div>

                <div class="comment-form" id="comment-form-container" style="display: none;">
                    <h3>Leave a Comment</h3>
                    <textarea id="comment-input" placeholder="Share your thoughts..."></textarea>
                    <div class="emoji-suggestions" id="emoji-suggestion-box">
                        <span>üëç</span>
                        <span>‚ù§Ô∏è</span>
                        <span>üòÇ</span>
                        <span>üòÆ</span>
                        <span>ü§î</span>
                        <span>üí°</span>
                    </div>
                    <button id="comment-button">Post Comment</button>
                </div>

                <div id="comment-list-container">
                    <h3 id="comment-list-title">Comments</h3>
                    <div id="comment-list">
                        </div>
                </div>

            </section>

        </div>
    </main>

    <footer class="footer">
        <div id="footer-stars"></div>
        <div class="container">
            <div class="col">
                <span class="brand-info">Elvion AI</span>
                <p>Where Assistance Meets Excellence.</p>
            </div>
            <div class="col">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="index.html#hero">Home</a></li>
                    <li><a href="index.html#features">Features</a></li>
                    <li><a href="index.html#products">Products</a></li>
                    <li><a href="university.html">University</a></li>
                    <li><a href="blog.html">Blog</a></li>
                </ul>
            </div>
            <div class="col">
                <h4>Company</h4>
                <ul>
                    <li><a href="about.html">About Us</a></li>
                    <li><a href="https://elvionai.github.io/about.html#">Careers</a></li>
                    <li><a href="mailto:Philipsmith@consultant.com">Contact Us</a></li>
                </ul>
            </div>
            <div class="col">
                <h4>Legal</h4>
                <ul>
                    <li><a href="https://elvionai.github.io/privacy.html">Privacy Policy</a></li>
                    <li><a href="terms.html">Terms of Service</a></li>
                    <li><a href="terms.html">Cookie Policy</a></li>
                </ul>
            </div>
            <div class="legal-info">
                &copy; <span id="current-year-footer"></span> Elvion AI. All rights reserved.
            </div>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const hamburger = document.querySelector('.hamburger');
            const navLinks = document.querySelector('.nav-links');

            hamburger.addEventListener('click', () => {
                hamburger.classList.toggle('active');
                navLinks.classList.toggle('active');
            });

            document.querySelectorAll('.nav-links a').forEach(link => {
                link.addEventListener('click', () => {
                    if (window.innerWidth <= 992) {
                        hamburger.classList.remove('active');
                        navLinks.classList.remove('active');
                    }
                });
            });

            document.getElementById('current-year-footer').textContent = new Date().getFullYear();

            function createStars(container, numStars) {
                const minSize = 1;
                const maxSize = 3;
                
                for (let i = 0; i < numStars; i++) {
                    const star = document.createElement('div');
                    star.className = 'star';
                    container.appendChild(star);
                    
                    const size = Math.random() * (maxSize - minSize) + minSize;
                    star.style.width = `${size}px`;
                    star.style.height = `${size}px`;
                    star.style.left = `${Math.random() * 100}%`;
                    star.style.top = `${Math.random() * 100}%`;
                    star.style.animationDelay = `${Math.random() * 4}s`;
                    star.style.animationDuration = `${3 + Math.random() * 2}s`;
                }
            }

            const starsContainer = document.getElementById('stars-container');
            createStars(starsContainer, 100);

            const footerStars = document.getElementById('footer-stars');
            footerStars.style.position = 'absolute';
            footerStars.style.top = '0';
            footerStars.style.left = '0';
            footerStars.style.width = '100%';
            footerStars.style.height = '100%';
            footerStars.style.overflow = 'hidden';
            footerStars.style.zIndex = '1';
            createStars(footerStars, 50);
        });
    </script>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const playPauseBtn = document.getElementById('audio-play-pause-btn');
            const speechStatus = document.getElementById('speech-status');
            const articleContent = document.getElementById('article-content');
            
            if ('speechSynthesis' in window) {
                let isPlaying = false;
                let isPaused = false;
                let currentUtterance = null;
                let currentElement = null;
                let elementQueue = [];
                let currentElementIndex = 0;

                // 1. Prepare all readable elements
                const elements = articleContent.querySelectorAll('p, h2, h3, li, blockquote');
                elements.forEach(el => {
                    if(el.textContent.trim().length > 0) {
                        elementQueue.push(el);
                    }
                });

                // 2. Function to speak the next element
                function speakNext() {
                    if (currentElementIndex >= elementQueue.length) {
                        resetPlayer();
                        return;
                    }
                    
                    if (currentElement) {
                        currentElement.classList.remove('highlight-speech');
                    }

                    currentElement = elementQueue[currentElementIndex];
                    const textToSpeak = currentElement.textContent;
                    
                    currentElement.classList.add('highlight-speech');
                    currentElement.scrollIntoView({ behavior: 'smooth', block: 'center' });

                    currentUtterance = new SpeechSynthesisUtterance(textToSpeak);
                    
                    currentUtterance.onend = () => {
                        currentElementIndex++;
                        if (isPlaying) {
                            speakNext();
                        }
                    };
                    
                    currentUtterance.onerror = (e) => {
                        console.error('Speech synthesis error:', e);
                        speechStatus.textContent = "Error reading";
                        resetPlayer();
                    };

                    speechSynthesis.speak(currentUtterance);
                }

                // 3. Reset player function
                function resetPlayer() {
                    isPlaying = false;
                    isPaused = false;
                    currentElementIndex = 0;
                    if (currentElement) {
                        currentElement.classList.remove('highlight-speech');
                    }
                    playPauseBtn.innerHTML = '<i class="fas fa-play"></i> <span>Listen to this Article</span>';
                    speechStatus.textContent = "Finished";
                }

                // 4. Play/Pause Button Logic
                playPauseBtn.addEventListener('click', () => {
                    if (!isPlaying && !isPaused) {
                        // Start playing
                        isPlaying = true;
                        isPaused = false;
                        speechSynthesis.cancel(); // Clear any old queue
                        speechStatus.textContent = "Playing...";
                        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i> <span>Pause</span>';
                        speakNext();
                    } else if (isPlaying && !isPaused) {
                        // Pause
                        isPlaying = false;
                        isPaused = true;
                        speechSynthesis.pause();
                        speechStatus.textContent = "Paused";
                        playPauseBtn.innerHTML = '<i class="fas fa-play"></i> <span>Resume</span>';
                    } else if (!isPlaying && isPaused) {
                        // Resume
                        isPlaying = true;
                        isPaused = false;
                        speechSynthesis.resume();
                        speechStatus.textContent = "Playing...";
                        playPauseBtn.innerHTML = '<i class="fas fa-pause"></i> <span>Pause</span>';
                    }
                });

                // 5. Clean up on page leave
                window.onbeforeunload = () => {
                    speechSynthesis.cancel();
                };

            } else {
                // Speech synthesis not supported
                speechStatus.textContent = "Audio playback not supported by your browser.";
                playPauseBtn.disabled = true;
            }
        });
    </script>

    <script type="module">
        // Import Firebase modules
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, updateProfile, signOut } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
        import { getFirestore, collection, addDoc, query, where, onSnapshot, orderBy, updateDoc, doc, arrayUnion, arrayRemove, deleteDoc, getDoc } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

        // --- 1. CONFIGURATION ---
        
        // ** This is the CORRECT config you provided **
        const firebaseConfig = {
            apiKey: "AIzaSyAyROm0aBGjry6NUfhNM3e0qwPcCDoIqSk",
            authDomain: "elvionai.firebaseapp.com",
            projectId: "elvionai",
            storageBucket: "elvionai.firebasestorage.app",
            messagingSenderId: "161078300830",
            appId: "1:161078300830:web:f460df8591704eb0e96b8f"
        };
        
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);

        // --- 2. STATE & CONSTANTS ---
        let currentUser = null;
        const ARTICLE_ID = 'crafting-characters-01'; // Unique ID for this post's comments

        // --- 3. DOM ELEMENTS ---
        const authContainer = document.getElementById('auth-container');
        const authForm = document.getElementById('auth-form');
        const authToggleLogin = document.getElementById('auth-toggle-login');
        const authToggleSignup = document.getElementById('auth-toggle-signup');
        const authUsernameGroup = document.getElementById('auth-username-group');
        const authPicGroup = document.getElementById('auth-pic-group');
        const authEmailInput = document.getElementById('auth-email');
        const authPasswordInput = document.getElementById('auth-password');
        const authUsernameInput = document.getElementById('auth-username');
        const authPicInput = document.getElementById('auth-pic-url');
        const authSubmitButton = document.getElementById('auth-submit-button');
        const authError = document.getElementById('auth-error');

        const commentFormContainer = document.getElementById('comment-form-container');
        const commentButton = document.getElementById('comment-button');
        const commentInput = document.getElementById('comment-input');
        const commentList = document.getElementById('comment-list');
        const emojiSuggestionBox = document.getElementById('emoji-suggestion-box');
        
        // --- 4. AUTHENTICATION ---

        // Toggle between Login and Sign Up forms
        function toggleAuthForm(isLogin) {
            authError.textContent = '';
            if (isLogin) {
                authToggleLogin.classList.add('active');
                authToggleSignup.classList.remove('active');
                authUsernameGroup.style.display = 'none';
                authPicGroup.style.display = 'none';
                authSubmitButton.textContent = 'Login';
            } else {
                authToggleLogin.classList.remove('active');
                authToggleSignup.classList.add('active');
                authUsernameGroup.style.display = 'block';
                authPicGroup.style.display = 'block';
                authSubmitButton.textContent = 'Sign Up';
            }
        }
        
        authToggleLogin.addEventListener('click', () => toggleAuthForm(true));
        authToggleSignup.addEventListener('click', () => toggleAuthForm(false));

        // Handle form submission (Login or Sign Up)
        authForm.addEventListener('submit', async (e) => {
            e.preventDefault();
            const email = authEmailInput.value;
            const password = authPasswordInput.value;
            const isLogin = authSubmitButton.textContent === 'Login';
            authError.textContent = '';

            try {
                if (isLogin) {
                    // Handle Login
                    await signInWithEmailAndPassword(auth, email, password);
                } else {
                    // Handle Sign Up
                    const username = authUsernameInput.value;
                    const picUrl = authPicInput.value || 'https://via.placeholder.com/50'; // Default pic
                    
                    if (!username) {
                        authError.textContent = 'Please enter a username.';
                        return;
                    }

                    const userCredential = await createUserWithEmailAndPassword(auth, email, password);
                    const user = userCredential.user;

                    await updateProfile(user, { 
                        displayName: username, 
                        photoURL: picUrl 
                    });
                    
                    // Note: Storing user info in a 'users' collection is good, 
                    // but for this comment system, it's not strictly required
                    // as we get profile info from auth state.
                }
                // Auth state change will handle hiding the form
            } catch (error) {
                console.error("Auth error:", error);
                authError.textContent = error.message;
            }
        });

        // Listen for auth state changes
        onAuthStateChanged(auth, (user) => {
            if (user) {
                currentUser = user;
                authContainer.style.display = 'none';
                commentFormContainer.style.display = 'block';
                // Add a "Logout" button dynamically if you want
            } else {
                currentUser = null;
                authContainer.style.display = 'block';
                commentFormContainer.style.display = 'none';
                toggleAuthForm(true); // Default to login form
            }
        });

        // --- 5. COMMENTS LOGIC ---

        // Handle Posting New Comments
        commentButton.addEventListener('click', async () => {
            if (!currentUser) {
                alert('Please log in to post a comment.');
                return;
            }

            const commentText = commentInput.value.trim();
            if (!commentText) {
                alert('Please write a comment.');
                return;
            }
            
            const commentData = {
                text: commentText,
                userName: currentUser.displayName,
                userProfilePic: currentUser.photoURL,
                userId: currentUser.uid,
                timestamp: new Date(),
                articleId: ARTICLE_ID,
                replies: [],
                likes: [],
                helpful: [],
                notHelpful: []
                // userLevel: '9jahotblogger' // You can add this back if needed
            };

            try {
                await addDoc(collection(db, 'comments'), commentData);
                commentInput.value = ''; // Clear input
            } catch (error) {
                console.error("Error posting comment: ", error);
                alert("Error posting comment. Please try again.");
            }
        });

        // Add emojis to comment box
        emojiSuggestionBox.addEventListener('click', (e) => {
            if (e.target.tagName === 'SPAN') {
                commentInput.value += e.target.textContent;
                commentInput.focus();
            }
        });

        // --- 6. REAL-TIME COMMENT RENDERING ---

        // Listen for real-time updates to comments
        const q = query(
            collection(db, 'comments'), 
            where("articleId", "==", ARTICLE_ID),
            orderBy("timestamp", "desc") // Show newest comments first
        );

        onSnapshot(q, (snapshot) => {
            commentList.innerHTML = ''; // Clear list before re-rendering
            if (snapshot.empty) {
                document.getElementById('comment-list-title').textContent = 'No comments yet. Be the first!';
                return;
            }
            
            document.getElementById('comment-list-title').textContent = 'Comments';
            snapshot.forEach((doc) => {
                commentList.appendChild(renderComment(doc));
            });
        });

        // Function to create HTML for a single comment
        function renderComment(doc) {
            const comment = doc.data();
            const commentId = doc.id;
            const commentElement = document.createElement('li');
            commentElement.className = 'comment';
            
            // Check if current user has liked/voted
            const hasLiked = currentUser && comment.likes.includes(currentUser.uid);
            const hasFoundHelpful = currentUser && comment.helpful.includes(currentUser.uid);
            const hasFoundNotHelpful = currentUser && comment.notHelpful.includes(currentUser.uid);
            
            // Generate Replies HTML
            let repliesHtml = '';
            if (comment.replies && comment.replies.length > 0) {
                comment.replies.forEach(reply => {
                    repliesHtml += `
                        <div class="reply">
                            <img src="${reply.userProfilePic || 'https://via.placeholder.com/50'}" alt="User Profile Pic" />
                            <div class="comment-content">
                                <span class="comment-user">${reply.userName} <span class="custom-verified-badge"></span></span>
                                <p class="comment-text">${reply.text}</p>
                                <div class="comment-meta">${new Date(reply.timestamp.seconds * 1000).toLocaleString()}</div>
                            </div>
                        </div>
                    `;
                });
            }

            commentElement.innerHTML = `
                <img src="${comment.userProfilePic || 'https://via.placeholder.com/50'}" alt="User Profile Pic" />
                <div class="comment-content">
                    <span class="comment-user">
                        ${comment.userName}
                        <span class="custom-verified-badge"></span>
                    </span>
                    <p class="comment-text">${comment.text}</p>
                    <div class="comment-meta">${new Date(comment.timestamp.seconds * 1000).toLocaleString()}</div>
                    <div class="comment-actions" data-id="${commentId}">
                        <button class="like-button ${hasLiked ? 'active' : ''}" title="Like">
                            <i class="fas fa-thumbs-up"></i> (${comment.likes.length})
                        </button>
                        <button class="helpful-button ${hasFoundHelpful ? 'active' : ''}" title="Helpful">
                            <i class="fas fa-hands-clapping"></i> (${comment.helpful.length})
                        </button>
                        <button class="not-helpful-button ${hasFoundNotHelpful ? 'active' : ''}" title="Not Helpful">
                            <i class="fas fa-thumbs-down"></i> (${comment.notHelpful.length})
                        </button>
                        <button class="reply-button" title="Reply">
                            <i class="fas fa-reply"></i> Reply
                        </button>
                    </div>
                    
                    <div class="reply-box" id="reply-box-${commentId}">
                        <textarea placeholder="Write a reply..."></textarea>
                        <button class="submit-reply-button">Submit Reply</button>
                    </div>

                    <div class="replies-container">
                        ${repliesHtml}
                    </div>
                </div>
            `;
            return commentElement;
        }

        // --- 7. EVENT DELEGATION (for Likes, Replies, etc.) ---
        
        commentList.addEventListener('click', async (e) => {
            if (!currentUser) {
                alert("Please log in to interact with comments.");
                return;
            }
            
            const commentActions = e.target.closest('.comment-actions');
            if (!commentActions) return; // Click was not on an action button area
            
            const commentId = commentActions.dataset.id;
            const commentRef = doc(db, 'comments', commentId);

            // Handle Like Button
            if (e.target.closest('.like-button')) {
                toggleArrayVote(commentRef, 'likes', currentUser.uid);
            }
            
            // Handle Helpful Button
            if (e.target.closest('.helpful-button')) {
                toggleArrayVote(commentRef, 'helpful', currentUser.uid);
            }

            // Handle Not Helpful Button
            if (e.target.closest('.not-helpful-button')) {
                toggleArrayVote(commentRef, 'notHelpful', currentUser.uid);
            }

            // Handle Reply Button (Toggle Box)
            if (e.target.closest('.reply-button')) {
                const replyBox = document.getElementById(`reply-box-${commentId}`);
                replyBox.style.display = replyBox.style.display === 'none' ? 'block' : 'none';
            }
            
            // Handle Submit Reply Button
            if (e.target.closest('.submit-reply-button')) {
                const replyBox = e.target.closest('.reply-box');
                const replyText = replyBox.querySelector('textarea').value.trim();
                
                if (!replyText) {
                    alert('Reply cannot be empty.');
                    return;
                }
                
                const replyData = {
                    text: replyText,
                    userName: currentUser.displayName,
                    userProfilePic: currentUser.photoURL,
                    userId: currentUser.uid,
                    timestamp: new Date()
                };

                try {
                    await updateDoc(commentRef, {
                        replies: arrayUnion(replyData)
                    });
                    // The onSnapshot listener will auto-update the UI
                } catch (error) {
                    console.error("Error adding reply: ", error);
                }
            }
        });
        
        // Helper function to TOGGLE a user's ID in an array (like, helpful, etc.)
        async function toggleArrayVote(docRef, fieldName, userId) {
            try {
                const docSnap = await getDoc(docRef);
                if (!docSnap.exists()) return;
                
                const data = docSnap.data();
                const array = data[fieldName] || [];
                
                let operation;
                if (array.includes(userId)) {
                    // User already in array, so REMOVE them
                    operation = arrayRemove(userId);
                } else {
                    // User not in array, so ADD them
                    operation = arrayUnion(userId);
                }
                
                await updateDoc(docRef, { [fieldName]: operation });
                // onSnapshot will handle the UI update
                
            } catch (error) {
                console.error(`Error toggling ${fieldName}:`, error);
            }
        }

    </script>
</body>
</html>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J1YTKP10ZX"></script>
<script>
¬† window.dataLayer = window.dataLayer || [];
¬† function gtag(){dataLayer.push(arguments);}
¬† gtag('js', new Date()); 

¬† gtag('config', 'G-J1YTKP10ZX');
</script>
