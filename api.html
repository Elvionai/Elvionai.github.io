<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elvion AI Developer API</title>
    <style>
        :root {
            --background-color: #121212;
            --text-color: #e5e7eb;
            --primary-accent: #9333ea;
            --secondary-accent: #a855f7;
            --sidebar-bg: #1a1a1a;
            --content-bg: #1f1f1f;
            --code-bg: #0d0d0d;
            --border-color: #333;
            --font-family: 'Inter', 'Segoe UI', 'Roboto', 'Helvetica Neue', sans-serif;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--background-color);
            color: var(--text-color);
            margin: 0;
            display: flex;
            height: 100vh;
            overflow: hidden;
        }

        /* --- Main Layout --- */
        .api-container {
            display: flex;
            width: 100%;
            height: 100%;
        }

        .sidebar {
            width: 280px;
            background-color: var(--sidebar-bg);
            border-right: 1px solid var(--border-color);
            padding: 2rem 0;
            overflow-y: auto;
            flex-shrink: 0;
        }

        .main-content {
            flex-grow: 1;
            padding: 2.5rem;
            overflow-y: auto;
            scroll-behavior: smooth;
        }
        
        .code-examples {
            width: 45%;
            max-width: 600px;
            background-color: var(--code-bg);
            padding: 2.5rem;
            overflow-y: auto;
            flex-shrink: 0;
            border-left: 1px solid var(--border-color);
        }

        /* --- Sidebar Navigation --- */
        .logo {
            padding: 0 1.5rem 1.5rem 1.5rem;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 1rem;
        }

        .logo h1 {
            color: white;
            font-size: 1.5rem;
            margin: 0;
        }
        .logo h1 span {
            color: var(--primary-accent);
        }
        .logo p {
            font-size: 0.8rem;
            margin: 0;
            color: #888;
        }

        .sidebar-nav ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }

        .sidebar-nav .nav-category {
            font-size: 0.9rem;
            font-weight: bold;
            color: #aaa;
            padding: 1rem 1.5rem 0.5rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .sidebar-nav a {
            display: flex;
            align-items: center;
            padding: 0.75rem 1.5rem;
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.95rem;
            transition: background-color 0.2s, color 0.2s;
        }

        .sidebar-nav a:hover {
            background-color: rgba(147, 51, 234, 0.1);
        }

        .sidebar-nav a .method {
            font-weight: bold;
            margin-right: 10px;
            font-size: 0.8rem;
            width: 40px;
            text-align: right;
        }
        .method.POST { color: #a855f7; }
        .method.GET { color: #22c55e; }

        /* --- Main Content Styling --- */
        .endpoint-section {
            margin-bottom: 4rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 2rem;
        }

        h2 {
            font-size: 2rem;
            color: white;
            border-left: 4px solid var(--primary-accent);
            padding-left: 1rem;
        }

        .endpoint-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .endpoint-header .method {
            padding: 0.4rem 0.8rem;
            border-radius: 5px;
            font-weight: bold;
            color: white;
            font-size: 1rem;
        }
        .endpoint-header .method.POST { background-color: #9333ea; }
        .endpoint-header .method.GET { background-color: #16a34a; }

        .endpoint-header .path {
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 1rem;
            background-color: var(--content-bg);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            border: 1px solid var(--border-color);
            color: var(--text-color);
        }
        
        p, li {
            line-height: 1.7;
            color: #d1d5db;
        }
        
        .cost-badge {
            background-color: #f59e0b;
            color: #121212;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .auth-badge {
            background-color: #3b82f6;
            color: white;
            padding: 0.2rem 0.6rem;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: bold;
        }

        h3 {
            font-size: 1.5rem;
            color: white;
            margin-top: 2.5rem;
            margin-bottom: 1rem;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        th, td {
            padding: 0.8rem;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        th {
            background-color: var(--sidebar-bg);
        }
        td code {
            background-color: var(--code-bg);
            padding: 0.2em 0.4em;
            border-radius: 3px;
            font-family: 'Fira Code', monospace;
        }
        .required {
            color: #f43f5e;
            font-weight: bold;
        }

        /* --- Code Examples Section --- */
        .code-examples h3 {
            margin-top: 0;
        }

        .code-tabs {
            display: flex;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 1rem;
        }

        .code-tab {
            padding: 0.75rem 1.25rem;
            cursor: pointer;
            border: none;
            background: none;
            color: #aaa;
            font-size: 0.9rem;
            border-bottom: 2px solid transparent;
            transition: color 0.2s, border-color 0.2s;
        }

        .code-tab:hover {
            color: white;
        }

        .code-tab.active {
            color: var(--primary-accent);
            border-bottom-color: var(--primary-accent);
        }

        .code-content {
            display: none;
        }

        .code-content.active {
            display: block;
        }

        pre {
            background-color: #111;
            padding: 1.5rem;
            border-radius: 8px;
            border: 1px solid var(--border-color);
            white-space: pre-wrap;
            position: relative;
        }
        
        code {
            font-family: 'Fira Code', 'Courier New', monospace;
            font-size: 0.9rem;
        }

        .copy-button {
            position: absolute;
            top: 10px;
            right: 10px;
            background: #333;
            border: 1px solid #444;
            color: white;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s, background-color 0.2s;
        }

        pre:hover .copy-button {
            opacity: 1;
        }
        .copy-button:hover {
            background-color: var(--primary-accent);
        }

        /* --- Syntax Highlighting (Dracula-like theme) --- */
        .hljs { display: block; overflow-x: auto; padding: 0.5em; background: #111; color: #f8f8f2; }
        .hljs-comment, .hljs-quote { color: #6272a4; }
        .hljs-keyword, .hljs-selector-tag, .hljs-subst { color: #ff79c6; }
        .hljs-number, .hljs-literal, .hljs-variable, .hljs-template-variable, .hljs-tag .hljs-attr { color: #bd93f9; }
        .hljs-string, .hljs-doctag { color: #f1fa8c; }
        .hljs-title, .hljs-section, .hljs-selector-id { color: #50fa7b; }
        .hljs-subst { font-weight: normal; }
        .hljs-type, .hljs-class .hljs-title { color: #8be9fd; }
        .hljs-tag, .hljs-name, .hljs-attribute { color: #ff79c6; }
        .hljs-regexp, .hljs-link { color: #f1fa8c; }
        .hljs-symbol, .hljs-bullet { color: #bd93f9; }
        .hljs-built_in, .hljs-builtin-name { color: #50fa7b; }
        .hljs-meta { color: #f8f8f2; }
        .hljs-deletion { background: #ff5555; color: #f8f8f2; }
        .hljs-addition { background: #50fa7b; color: #f8f8f2; }
        .hljs-emphasis { font-style: italic; }
        .hljs-strong { font-weight: bold; }

    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&family=Fira+Code&display=swap" rel="stylesheet">
</head>
<body>
    <div class="api-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="logo">
                <h1>Elvion<span>AI</span></h1>
                <p>Developer API v2.0</p>
            </div>
            <nav class="sidebar-nav">
                <ul>
                    <li><a href="#introduction"><span class="method"></span>Introduction</a></li>
                    
                    <li class="nav-category">Developer API</li>
                    <li><a href="#dev-seraphina-chat"><span class="method POST">POST</span>Seraphina Chat</a></li>
                    <li><a href="#dev-bobby-chat"><span class="method POST">POST</span>Bobby Chat</a></li>
                    <li><a href="#dev-generate-image"><span class="method POST">POST</span>Generate Image</a></li>

                    <li class="nav-category">Public Tools</li>
                    <li><a href="#public-chat"><span class="method POST">POST</span>Philadelphia Chat</a></li>
                    <li><a href="#public-seraphina-chat"><span class="method POST">POST</span>Seraphina Chat</a></li>
                    <li><a href="#public-image-gen"><span class="method POST">POST</span>Generate Image</a></li>
                    <li><a href="#public-comic-gen"><span class="method POST">POST</span>Create Comic</a></li>
                    <li><a href="#public-tts"><span class="method POST">POST</span>Text-to-Speech</a></li>
                    <li><a href="#public-create-website"><span class="method POST">POST</span>Create Website</a></li>
                    <li><a href="#public-edit-website"><span class="method POST">POST</span>Edit Last Website</a></li>
                    
                    <li class="nav-category">Authentication</li>
                    <li><a href="#auth-create-key"><span class="method POST">POST</span>Create API Key</a></li>
                    <li><a href="#auth-get-keys"><span class="method GET">GET</span>Get Keys & Balance</a></li>
                    <li><a href="#auth-revoke-key"><span class="method POST">POST</span>Revoke API Key</a></li>

                    <li class="nav-category">Payments</li>
                     <li><a href="#payments-initiate"><span class="method POST">POST</span>Initiate Funding</a></li>
                     <li><a href="#payments-verify"><span class="method GET">GET</span>Verify Funding</a></li>
                </ul>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <section id="introduction" class="endpoint-section">
                <h2>Introduction</h2>
                <p>Welcome to the Elvion AI Developer API, your gateway to integrating our powerful suite of generative AI models into your own applications. Our API is designed to be intuitive, robust, and versatile, empowering you to build next-generation experiences with advanced conversational AI, image generation, and more.</p>
                <p>This documentation provides a comprehensive overview of all available endpoints, authentication methods, and request/response formats. Whether you're building a chatbot, a content creation tool, or an enterprise solution, the Elvion AI API provides the building blocks you need.</p>
                
                <h3>Getting Started</h3>
                <h4>1. Obtain Your API Key</h4>
                <p>To access the protected Developer API endpoints, you need an API key. You can generate and manage your keys from your personal dashboard.</p>
                <ol>
                    <li>Log in to your account at <a href="https://elvionai.com.ng/developer-login.html" target="_blank">Elvion AI Developer Dashboard</a>.</li>
                    <li>Navigate to the API Keys section.</li>
                    <li>Fund your wallet with credits. Generating a key has a one-time cost of 100 credits.</li>
                    <li>Generate a new key and keep it secure.</li>
                </ol>

                <h4>2. Authentication</h4>
                <p>Protected developer endpoints use Bearer Token authentication. Include your API key in the <code>Authorization</code> header of your requests.</p>
                <p><code>Authorization: Bearer YOUR_API_KEY</code></p>
                <p>Dashboard-related endpoints for managing keys and payments require a Firebase Token passed in the <code>X-Firebase-Token</code> header, which is typically handled by our frontend.</p>

                <h4>3. Making Requests</h4>
                <p>The base URL for all API endpoints is: <code>https://web-production-9a18.up.railway.app</code></p>
                
                <h3>API Costs</h3>
                <p>Our Developer API operates on a pay-as-you-go credit system. Each request to a protected endpoint deducts a specific number of credits from your wallet. The cost for each endpoint is clearly marked in this documentation. You can top up your credits anytime through the developer dashboard.</p>
            </section>
            
            <!-- DEVELOPER API SECTION -->
            <section id="dev-seraphina-chat" class="endpoint-section">
                <h2><span class="method POST">POST</span> Seraphina Chat</h2>
                <div class="endpoint-header">
                    <span class="method POST">POST</span>
                    <span class="path">/api/developer/seraphina/chat</span>
                    <span class="cost-badge">5 Credits</span>
                </div>
                <p>Engage with Seraphina, our advanced research and reasoning model powered by Perplexity. This endpoint is ideal for applications requiring deep analysis, fact-checked answers with citations, and professional content generation. It supports streaming for real-time, interactive experiences.</p>
                
                <h3>Request Body</h3>
                <table>
                    <thead>
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>message</code></td><td>string <span class="required">*</span></td><td>The latest user message to send to the model.</td></tr>
                        <tr><td><code>history</code></td><td>array (objects)</td><td>An array of previous messages to provide conversation context. See object structure below.</td></tr>
                        <tr><td><code>temperature</code></td><td>float</td><td>Controls randomness. Value between 0.0 and 1.0. Defaults to <code>0.7</code>.</td></tr>
                        <tr><td><code>stream</code></td><td>boolean</td><td>Whether to stream the response back. Defaults to <code>true</code>.</td></tr>
                    </tbody>
                </table>
                <h4>History Object Structure</h4>
                <p>Each object in the <code>history</code> array should have the following structure:</p>
                <pre><code class="language-json">{
  "role": "user" | "assistant",
  "content": "The text of the message."
}</code></pre>
            </section>

            <section id="dev-bobby-chat" class="endpoint-section">
                <h2><span class="method POST">POST</span> Bobby Chat</h2>
                <div class="endpoint-header">
                    <span class="method POST">POST</span>
                    <span class="path">/api/developer/bobby/chat</span>
                    <span class="cost-badge">2 Credits</span>
                </div>
                <p>Access Bobby, our thoughtful and dependable chat model based on Thena's Llama implementation. Bobby excels at coding, creative writing, and general conversation. It's a cost-effective choice for a wide range of applications.</p>
                
                <h3>Request Body</h3>
                <table>
                    <thead>
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>prompt</code></td><td>string <span class="required">*</span></td><td>The user's prompt or message.</td></tr>
                        <tr><td><code>systemPrompt</code></td><td>string</td><td>An optional system prompt to guide the model's behavior. Defaults to Bobby's internal persona.</td></tr>
                    </tbody>
                </table>
            </section>
            
            <section id="dev-generate-image" class="endpoint-section">
                <h2><span class="method POST">POST</span> Generate Image</h2>
                <div class="endpoint-header">
                    <span class="method POST">POST</span>
                    <span class="path">/api/developer/generate-image</span>
                    <span class="cost-badge">15 Credits</span>
                </div>
                <p>Create stunning, high-quality images from a text prompt. This versatile endpoint can use either the advanced Thena models or the creative MiniMax engine, giving you flexibility in style and output.</p>
                
                <h3>Request Body</h3>
                <table>
                    <thead>
                        <tr><th>Field</th><th>Type</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code>prompt</code></td><td>string <span class="required">*</span></td><td>A detailed description of the image you want to create.</td></tr>
                        <tr><td><code>use_minimax</code></td><td>boolean</td><td>Set to <code>true</code> to use the MiniMax engine instead of Thena. Defaults to <code>false</code>.</td></tr>
                        <tr><td><code>model</code></td><td>string</td><td>(Thena only) The specific model to use. E.g., <code>v6</code>, <code>photoreal</code>, <code>anime_core</code>. Defaults to <code>v6</code>.</td></tr>
                        <tr><td><code>width</code></td><td>integer</td><td>(Thena only) The width of the image. Optimal defaults are used if not provided.</td></tr>
                        <tr><td><code>height</code></td><td>integer</td><td>(Thena only) The height of the image. Optimal defaults are used if not provided.</td></tr>
                        <tr><td><code>creative</code></td><td>boolean</td><td>(Thena only) Toggles a more creative generation mode. Defaults to <code>false</code>.</td></tr>
                    </tbody>
                </table>
            </section>
            
            <!-- PUBLIC TOOLS SECTION (abbreviated for example) -->
            <section id="public-chat" class="endpoint-section">
                 <h2><span class="method POST">POST</span> Philadelphia Chat (Public)</h2>
                 <div class="endpoint-header">
                     <span class="method POST">POST</span>
                     <span class="path">/chat</span>
                     <span class="auth-badge">No Auth Needed</span>
                 </div>
                 <p>This is a public endpoint designed for use in the Elvion AI web interface. It provides access to Philadelphia, our primary conversational AI powered by Gemini. It features streaming, web grounding via Google Search, and link reading capabilities.</p>
                 <h3>Request Body</h3>
                 <p>This endpoint uses the same request body structure as the protected <strong>Seraphina Chat</strong> endpoint.</p>
            </section>
            
            <!-- AUTHENTICATION SECTION (abbreviated for example) -->
            <section id="auth-create-key" class="endpoint-section">
                 <h2><span class="method POST">POST</span> Create API Key</h2>
                 <div class="endpoint-header">
                     <span class="method POST">POST</span>
                     <span class="path">/api/user/create-api-key</span>
                     <span class="auth-badge">Firebase Token</span>
                 </div>
                 <p>Creates a new developer API key for the authenticated user. This endpoint is intended to be called from the Elvion AI developer dashboard. A one-time fee of 100 credits is deducted from the user's wallet.</p>
                 <h3>Headers</h3>
                 <table>
                     <thead><tr><th>Header</th><th>Description</th></tr></thead>
                     <tbody><tr><td><code>X-Firebase-Token</code></td><td>The user's Firebase ID token obtained upon login. <span class="required">*</span></td></tr></tbody>
                 </table>
                 <h3>Response</h3>
                 <p>Returns a JSON object with the newly created API key.</p>
                 <pre><code class="language-json">{
  "api_key": "elvn_...",
  "message": "API key created successfully!"
}</code></pre>
            </section>

        </main>
        
        <!-- Code Examples -->
        <aside class="code-examples">
            <h3>Code Examples</h3>
            <div class="code-tabs">
                <button class="code-tab active" data-lang="curl">cURL</button>
                <button class="code-tab" data-lang="python">Python</button>
                <button class="code-tab" data-lang="javascript">Node.js</button>
            </div>
            
            <div id="examples-dev-seraphina-chat">
                <!-- cURL -->
                <div class="code-content active" data-lang="curl">
                    <pre><code class="language-bash">curl --location 'https://web-production-9a18.up.railway.app/api/developer/seraphina/chat' \
--header 'Authorization: Bearer YOUR_API_KEY' \
--header 'Content-Type: application/json' \
--data '{
    "message": "Explain the theory of relativity in simple terms.",
    "history": [
        {
            "role": "user",
            "content": "What are some foundational concepts in physics?"
        },
        {
            "role": "assistant",
            "content": "Foundational concepts include classical mechanics, thermodynamics, and electromagnetism. Are you interested in a specific area?"
        }
    ],
    "stream": false
}'</code><button class="copy-button">Copy</button></pre>
                </div>
                <!-- Python -->
                <div class="code-content" data-lang="python">
                    <pre><code class="language-python">import requests
import json

API_KEY = "YOUR_API_KEY"
API_URL = "https://web-production-9a18.up.railway.app/api/developer/seraphina/chat"

headers = {
    "Authorization": f"Bearer {API_KEY}",
    "Content-Type": "application/json"
}

payload = {
    "message": "Explain the theory of relativity in simple terms.",
    "history": [],
    "stream": False
}

response = requests.post(API_URL, headers=headers, data=json.dumps(payload))

if response.status_code == 200:
    print(response.json())
else:
    print(f"Error: {response.status_code}")
    print(response.text)</code><button class="copy-button">Copy</button></pre>
                </div>
                <!-- JavaScript -->
                <div class="code-content" data-lang="javascript">
                    <pre><code class="language-javascript">const fetch = require('node-fetch');

const API_KEY = 'YOUR_API_KEY';
const API_URL = 'https://web-production-9a18.up.railway.app/api/developer/seraphina/chat';

const headers = {
    'Authorization': `Bearer ${API_KEY}`,
    'Content-Type': 'application/json'
};

const payload = {
    message: 'Explain the theory of relativity in simple terms.',
    history: [],
    stream: false
};

async function callSeraphina() {
    try {
        const response = await fetch(API_URL, {
            method: 'POST',
            headers: headers,
            body: JSON.stringify(payload)
        });

        if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
        }

        const data = await response.json();
        console.log(data);
    } catch (error) {
        console.error('Error calling API:', error);
    }
}

callSeraphina();</code><button class="copy-button">Copy</button></pre>
                </div>
            </div>

            <div id="examples-dev-bobby-chat" style="display:none;">
                 <!-- cURL -->
                 <div class="code-content active" data-lang="curl">
                     <pre><code class="language-bash">curl --location 'https://web-production-9a18.up.railway.app/api/developer/bobby/chat' \
--header 'Authorization: Bearer YOUR_API_KEY' \
--header 'Content-Type: application/json' \
--data '{
    "prompt": "Write a python function to reverse a string."
}'</code><button class="copy-button">Copy</button></pre>
                 </div>
                 <!-- Python -->
                 <div class="code-content" data-lang="python">
                     <pre><code class="language-python">import requests
import json
 
API_KEY = "YOUR_API_KEY"
API_URL = "https://web-production-9a18.up.railway.app/api/developer/bobby/chat"

headers = {
    "Authorization": f"Bearer {API_KEY}",
    "Content-Type": "application/json"
}

payload = {
    "prompt": "Write a python function to reverse a string."
}

response = requests.post(API_URL, headers=headers, json=payload)
print(response.json())</code><button class="copy-button">Copy</button></pre>
                </div>
            </div>

            <div id="examples-dev-generate-image" style="display:none;">
                <!-- cURL -->
                <div class="code-content active" data-lang="curl">
                    <pre><code class="language-bash">curl --location 'https://web-production-9a18.up.railway.app/api/developer/generate-image' \
--header 'Authorization: Bearer YOUR_API_KEY' \
--header 'Content-Type: application/json' \
--data '{
    "prompt": "A majestic lion with a cosmic mane, standing on a nebula, photorealistic, 8k",
    "model": "photoreal"
}'</code><button class="copy-button">Copy</button></pre>
                </div>
                 <!-- Python -->
                 <div class="code-content" data-lang="python">
                     <pre><code class="language-python">import requests
import json
import base64
from PIL import Image
from io import BytesIO
 
API_KEY = "YOUR_API_KEY"
API_URL = "https://web-production-9a18.up.railway.app/api/developer/generate-image"

headers = {
    "Authorization": f"Bearer {API_KEY}",
    "Content-Type": "application/json"
}

payload = {
    "prompt": "A majestic lion with a cosmic mane, standing on a nebula, photorealistic, 8k",
    "model": "photoreal"
}

response = requests.post(API_URL, headers=headers, json=payload)

if response.status_code == 200:
    data = response.json()
    image_b64 = data.get("image_b64")
    
    # To save the image
    img_data = base64.b64decode(image_b64)
    img = Image.open(BytesIO(img_data))
    img.save("generated_image.png")
    print("Image saved as generated_image.png")
else:
    print(f"Error: {response.status_code}, {response.text}")
</code><button class="copy-button">Copy</button></pre>
                </div>
            </div>

        </aside>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Syntax Highlighting ---
            hljs.highlightAll();
            
            // --- Content Scroller & Active Nav Link ---
            const mainContent = document.querySelector('.main-content');
            const sidebarLinks = document.querySelectorAll('.sidebar-nav a');
            const sections = document.querySelectorAll('.endpoint-section');

            const exampleBlocks = {
                'dev-seraphina-chat': document.getElementById('examples-dev-seraphina-chat'),
                'dev-bobby-chat': document.getElementById('examples-dev-bobby-chat'),
                'dev-generate-image': document.getElementById('examples-dev-generate-image'),
                // Fallback for sections without specific examples
                'public-chat': document.getElementById('examples-dev-seraphina-chat'),
                'public-seraphina-chat': document.getElementById('examples-dev-seraphina-chat'),
                'public-image-gen': document.getElementById('examples-dev-generate-image'),
                'public-comic-gen': document.getElementById('examples-dev-generate-image'),
                'public-tts': document.getElementById('examples-dev-bobby-chat'),
                'public-create-website': document.getElementById('examples-dev-bobby-chat'),
                'public-edit-website': document.getElementById('examples-dev-bobby-chat'),
                'auth-create-key': document.getElementById('examples-dev-bobby-chat'),
                'auth-get-keys': document.getElementById('examples-dev-bobby-chat'),
                'auth-revoke-key': document.getElementById('examples-dev-bobby-chat'),
                'payments-initiate': document.getElementById('examples-dev-bobby-chat'),
                'payments-verify': document.getElementById('examples-dev-bobby-chat'),
            };

            let currentVisibleExample = exampleBlocks['dev-seraphina-chat'];

            mainContent.addEventListener('scroll', () => {
                let currentSectionId = '';
                sections.forEach(section => {
                    const sectionTop = section.offsetTop - 150; // offset for better accuracy
                    if (mainContent.scrollTop >= sectionTop) {
                        currentSectionId = section.getAttribute('id');
                    }
                });
                
                // Update sidebar link
                sidebarLinks.forEach(link => {
                    link.style.backgroundColor = '';
                    if (link.getAttribute('href') === `#${currentSectionId}`) {
                        link.style.backgroundColor = 'rgba(147, 51, 234, 0.1)';
                    }
                });

                // Update code example block
                const targetExampleBlock = exampleBlocks[currentSectionId];
                if (targetExampleBlock && targetExampleBlock !== currentVisibleExample) {
                    if(currentVisibleExample) currentVisibleExample.style.display = 'none';
                    targetExampleBlock.style.display = 'block';
                    currentVisibleExample = targetExampleBlock;
                }
            });


            // --- Code Tabs ---
            const codeTabsContainer = document.querySelector('.code-examples');
            codeTabsContainer.addEventListener('click', (e) => {
                if(e.target.classList.contains('code-tab')) {
                    const lang = e.target.dataset.lang;
                    
                    // Update tabs
                    e.target.parentElement.querySelectorAll('.code-tab').forEach(tab => tab.classList.remove('active'));
                    e.target.classList.add('active');

                    // Update content
                    const exampleWrapper = e.target.closest('.code-examples');
                    exampleWrapper.querySelectorAll('.code-content').forEach(content => {
                       if (content.closest('.code-examples') === exampleWrapper) {
                           content.classList.remove('active');
                       }
                    });
                     exampleWrapper.querySelectorAll(`.code-content[data-lang="${lang}"]`).forEach(content => {
                        if (content.closest('.code-examples') === exampleWrapper) {
                           content.classList.add('active');
                       }
                    });
                }
            });

            // --- Copy Button ---
            document.querySelectorAll('.copy-button').forEach(button => {
                button.addEventListener('click', () => {
                    const pre = button.parentElement;
                    const code = pre.querySelector('code');
                    navigator.clipboard.writeText(code.innerText).then(() => {
                        button.innerText = 'Copied!';
                        setTimeout(() => {
                            button.innerText = 'Copy';
                        }, 2000);
                    }).catch(err => {
                        console.error('Failed to copy text: ', err);
                    });
                });
            });

        });
    </script>
</body>
</html>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J1YTKP10ZX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date()); 

  gtag('config', 'G-J1YTKP10ZX');
</script>
