<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Elvion AI — Professional Certificate</title>

  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700;900&family=Montserrat:wght@400;500;700&family=Playfair+Display:ital,wght@0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Tangerine:wght@400;700&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <style>
    :root {
      --navy: #0A1F44; /* Deep, rich navy from example */
      --navy-light: #1C3A70; /* Lighter navy for gradients */
      --gold: #CBA554; /* Primary gold from example */
      --gold-light: #E6C985; /* Highlight gold */
      --gold-dark: #9E7E38; /* Shadow gold */
      --paper: #FDFBF7; /* Creamy off-white paper */
      --text: #1a1a1a;
      --text-muted: #5c667a;
      --border-shadow-glow: rgba(64, 124, 255, 0.3); /* Blueish glow for frame */
    }

    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: #e6e9ee;
      -webkit-font-smoothing: antialiased;
    }

    .page {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 30px;
      box-sizing: border-box;
    }

    .panel {
      width: 1100px;
      max-width: 100%;
      display: flex;
      gap: 30px;
      align-items: flex-start;
      justify-content: center;
    }

    /* --- THE "FIERY VIBE" CERTIFICATE FRAME --- */
    .cert-frame {
        position: relative;
        width: 850px; 
        padding: 15px; 
        /* Mimics the gradient background of your example's border */
        background: linear-gradient(135deg, var(--navy) 0%, var(--navy-light) 50%, var(--navy) 100%); 
        border-radius: 4px;
        box-shadow: 
            0 15px 35px rgba(10, 31, 68, 0.3), 
            0 0 30px var(--border-shadow-glow), 
            inset 0 0 15px var(--border-shadow-glow); 
        border: 2px solid var(--gold-dark); /* Thin outer gold border */
    }

    .cert-frame::before {
        content: "";
        position: absolute;
        inset: 4px; 
        border: 2px solid var(--gold-light); /* Inner highlight gold border */
        pointer-events: none;
    }

    /* The inner paper area */
    .cert-paper {
        position: relative;
        background: var(--paper);
        padding: 60px 70px;
        border: 3px double var(--gold); /* Double gold border for classic feel */
        box-shadow: inset 0 0 20px rgba(203, 165, 84, 0.1);
        overflow: hidden;
    }

    /* Scrollwork Corner Decoration (Gold, subtle) */
    .cert-paper::before, .cert-paper::after, 
    .cert-paper > .cert-content::before, .cert-paper > .cert-content::after {
        content: "";
        position: absolute;
        width: 120px; 
        height: 120px;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Cdefs%3E%3Cstyle%3E.a%7Bfill:none;stroke:%23CBA554;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px%7D%3C/style%3E%3Cpath class='a' d='M2,2v50a48,48,0,0,0,48,48H98'/%3E%3Cpath class='a' d='M10,2v42a42,42,0,0,0,42,42H98'/%3E%3Cpath class='a' d='M20,2v34a34,34,0,0,0,34,34H98'/%3E%3Cpath class='a' d='M30,2v26a26,26,0,0,0,26,26H98'/%3E%3Cpath class='a' d='M40,2v18a18,18,0,0,0,18,18H98'/%3E%3Cpath class='a' d='M50,2v10a10,10,0,0,0,10,10H98'/%3E%3C/svg%3E");
        background-repeat: no-repeat;
        background-size: contain;
        opacity: 0.2; 
        z-index: 0; 
    }
    .cert-paper::before { top: 0; left: 0; transform: scale(1, 1); }
    .cert-paper::after { bottom: 0; right: 0; transform: scale(-1, -1); }
    .cert-paper > .cert-content::before { top: 0; right: 0; transform: scale(-1, 1); }
    .cert-paper > .cert-content::after { bottom: 0; left: 0; transform: scale(1, -1); }

    /* Centered Watermark */
    .watermark {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 450px;
      height: 450px;
      background-image: url('https://i.postimg.cc/brGKkFLC/IMG-20251007-234104-159.webp'); 
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
      opacity: 0.03;
      filter: grayscale(100%) sepia(20%) hue-rotate(220deg); 
      z-index: 1;
    }

    /* --- Content Styling --- */
    .cert-content {
        position: relative;
        z-index: 2;
        text-align: center;
    }

    .org-name {
        font-family: 'Cinzel Decorative', serif;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: var(--navy);
        font-size: 18px;
        margin-bottom: 5px;
        text-shadow: 0 1px 0 var(--gold-light);
    }
    .tagline {
        font-family: 'Playfair Display', serif;
        font-size: 14px;
        color: var(--gold-dark);
        font-style: italic;
        margin-bottom: 30px;
    }

    .cert-title {
        font-family: 'Tangerine', cursive; /* Keeping the lovely script font */
        font-size: 78px; 
        font-weight: 700;
        color: var(--navy);
        line-height: 1;
        margin: 0 0 25px 0;
        text-shadow: 2px 2px 0px var(--gold-light);
    }

    .intro-text {
        font-family: 'Playfair Display', serif; /* Changed to enticing serif */
        text-transform: uppercase;
        letter-spacing: 2px;
        font-size: 16px; 
        font-weight: 600;
        color: var(--text-muted);
        margin-bottom: 8px;
        margin-top: 35px; 
    }

    .recipient {
        font-family: 'Playfair Display', serif; /* Classic and Enticing Font for Name */
        font-size: 52px; 
        font-weight: 700;
        color: var(--navy-light); 
        margin: 0 0 25px 0;
        padding-bottom: 12px;
        position: relative;
    }
    .recipient::after {
        content: "";
        position: absolute;
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 350px; 
        height: 2px;
        background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }

    .status-text {
        font-family: 'Playfair Display', serif; /* Enticing serif font */
        font-size: 18px; 
        font-weight: 500;
        color: var(--text);
        margin-bottom: 15px;
        margin-top: 20px; 
    }

    .course-label {
        font-family: 'Montserrat', sans-serif;
        font-weight: 600;
        text-transform: uppercase;
        font-size: 12px;
        color: var(--text-muted);
        margin-bottom: 8px;
        margin-top: 30px; 
    }

    .course-title {
        font-family: 'Playfair Display', serif; /* Enticing serif font */
        font-size: 32px; 
        font-weight: 700;
        color: var(--navy);
        margin-bottom: 40px;
        border-bottom: 2px solid var(--gold); 
        display: inline-block;
        padding-bottom: 8px;
    }

    .meta-row {
      display: flex;
      gap: 30px;
      justify-content: center;
      align-items: center;
      margin-bottom: 50px;
      font-family: 'Montserrat', sans-serif;
      color: var(--text-muted);
      font-size: 14px; 
    }
    .meta-row strong { color: var(--navy); }

    /* --- Bottom Section (Signature & Seal) --- */
    .bottom-area {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        margin-top: 20px;
        padding: 0 50px;
        position: relative;
    }

    .sign-block { text-align: center; width: 280px; }
    .signature-image {
      display: block; width: 200px; height: 70px; object-fit: contain; margin: 0 auto -5px auto; filter: drop-shadow(0 2px 3px rgba(0,0,0,0.1));
    }
    .sign-line { height: 2px; background: var(--navy); margin-bottom: 8px; }
    .sign-name { font-family: 'Playfair Display', serif; font-weight: 700; color: var(--navy); font-size: 17px; }
    .sign-title { font-family: 'Montserrat', sans-serif; font-weight: 600; color: var(--gold-dark); font-size: 13px; text-transform: uppercase; letter-spacing: 1px; }

    /* Professional Gold Seal - Enhanced */
    .seal-container {
        position: relative;
        width: 140px; 
        height: 140px;
    }
    .seal-gold {
        width: 100%; height: 100%;
        border-radius: 50%;
        background: radial-gradient(circle at 50% 50%, var(--gold-light) 0%, var(--gold) 50%, var(--gold-dark) 95%);
        box-shadow: 0 10px 25px rgba(0,0,0,0.3), inset 0 0 10px var(--border-shadow-glow);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--navy);
        border: 4px double var(--navy); 
        position: relative;
    }
    .seal-gold::before {
        content: "";
        position: absolute;
        width: 85%; height: 85%;
        border-radius: 50%;
        border: 2px dashed var(--navy-light); 
    }
    .seal-content { text-align: center; z-index: 10; }
    .seal-year { font-size: 32px; font-weight: 900; letter-spacing: 1px; font-family: 'Cinzel Decorative', serif; text-shadow: 0 1px 0 rgba(255,255,255,0.5); }
    .seal-text { font-size: 12px; font-weight: 700; text-transform: uppercase; letter-spacing: 2px; margin-top: 4px; }


    .disclaimer {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 11px;
      color: var(--text-muted);
      width: 80%;
      text-align: center;
      font-family: 'Montserrat', sans-serif;
      padding-top: 20px;
      border-top: 1px solid rgba(203, 165, 84, 0.2);
    }

    .cert-id {
      position: absolute;
      right: 30px;
      bottom: 60px;
      font-family: 'Montserrat', sans-serif;
      color: var(--navy);
      font-weight: 700;
      font-size: 12px;
      background: var(--gold-light);
      padding: 5px 12px;
      border-radius: 4px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    /* --- Controls Panel --- */
    .controls {
      width: 260px;
      background: #fff;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      display: flex; flex-direction: column; gap: 12px;
      font-family: 'Montserrat', sans-serif;
      height: fit-content;
    }
    .controls h4 { margin: 0 0 10px 0; color: var(--navy); font-size: 14px; text-transform: uppercase; border-bottom: 2px solid var(--gold); padding-bottom: 8px; }
    .control-group label { display: block; font-size: 11px; font-weight: 700; color: var(--navy); margin-bottom: 4px; text-transform: uppercase;}
    .control-group input, .control-group select { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-size: 13px; box-sizing: border-box; font-family: 'Montserrat'; }
    .control-group input:focus, .control-group select:focus { outline: none; border-color: var(--navy); }
    .btn { padding: 10px; border: none; border-radius: 4px; font-weight: 700; cursor: pointer; text-transform: uppercase; font-size: 11px; letter-spacing: 1px; transition: all 0.2s;}
    .btn-primary { background: var(--navy); color: var(--gold); }
    .btn-primary:hover { background: var(--navy-light); box-shadow: 0 4px 12px rgba(10, 31, 68, 0.2); }
    .btn-secondary { background: #f0f0f0; color: var(--text); border: 1px solid #ccc; }
    #sigpad { width: 100%; height: 100px; border: 1px dashed var(--text-muted); background: #fafafa; cursor: crosshair; border-radius: 4px;}

    @media (max-width: 1000px){
      .panel{flex-direction:column; align-items:center;}
      .controls{width:100%; max-width:800px;}
    }
  </style>
</head>
<body>

<div class="page">
  <div class="panel">

    <div class="cert-frame">
        <div class="cert-paper" id="certificate-to-export">
            
            <div class="watermark" id="wm"></div>

            <div class="cert-content">
                <div class="org-name" id="disp-org">Elvion AI Innovations</div>
                <div class="tagline">The future of professional learning.</div>
                <h1 class="cert-title">Certificate of Completion</h1>
                
                <div class="intro-text">Awarded in Recognition of Achievement to</div>
                <div class="recipient" id="disp-recipient">Kolade Ogunlana</div>
                
                <div class="status-text" id="disp-status">For the successful completion and excellent performance in the program:</div>

                <div class="course-label">Program of Study</div>
                <div class="course-title" id="disp-course">LAW — Legal Foundations & Modern Practice</div>

                <div class="meta-row">
                    <div><strong>Final Grade:</strong> <span id="disp-grade">4.75 / 5.00</span></div>
                    <div style="opacity:0.5;">&bull;</div>
                    <div><strong>Date of Award:</strong> <span id="disp-date">Let's fix the date below</span></div>
                </div>

                <div class="bottom-area">
                    <div class="sign-block">
                        <img id="sig-image" class="signature-image" src="" alt="Signature" style="display:none;">
                        <div class="sign-line"></div>
                        <div class="sign-name">Kolade Philip Ogunlana</div>
                        <div class="sign-title">President, Elvion AI Innovations</div>
                    </div>

                    <div class="seal-container">
                        <div class="seal-gold">
                            <div class="seal-content">
                                <div class="seal-year">2025</div>
                                <div class="seal-text">ELVION<br>CERTIFIED</div>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="disclaimer">
                     This certificate confirms the completion of a specialized educational program and is intended for recognition of learning achievement. It signifies mastery of the specified curriculum and can be used for academic or professional portfolio purposes.
                 </div>
                <div class="cert-id" id="disp-id">ID: ELV-LAW-2025-987654</div>
            </div>
        </div>
    </div>
    <div class="controls">
      <h4>Edit Details</h4>
      <div class="control-group"><label>Recipient Name</label><input type="text" id="in-recipient" value="Kolade Ogunlana" /></div>
      <div class="control-group"><label>Course Title</label><input type="text" id="in-course" value="LAW — Legal Foundations & Modern Practice" /></div>
      <div class="control-group" style="display:flex; gap:10px;">
        <div style="flex:1"><label>Date</label><input type="date" id="in-date" /></div>
        <div style="flex:1"><label>Grade</label><input type="text" id="in-grade" value="4.75 / 5.00" /></div>
      </div>
       <div class="control-group"><label>Certificate ID</label><input type="text" id="in-id" value="ELV-LAW-2025-987654" /></div>
       <div class="control-group"><label>Organization Name</label><input type="text" id="in-org" value="Elvion AI Innovations" /></div>
       <div class="control-group"><label>Recipient Status Text</label><input type="text" id="in-status" value="For the successful completion and excellent performance in the program:" /></div>

      <hr style="border:none; border-top:1px solid #eee; margin: 8px 0;">

      <div class="control-group">
          <label>Signature (Draw below)</label>
          <canvas id="sigpad"></canvas>
          <div style="margin-top:5px; display:flex; justify-content:space-between; gap:10px;">
              <button class="btn btn-secondary" id="clear-sig" style="flex:1;">Clear</button>
              <button class="btn btn-primary" id="apply-sig" style="flex:2;">Apply Signature</button>
          </div>
      </div>

      <hr style="border:none; border-top:1px solid #eee; margin: 8px 0;">
      
      <div class="control-group">
        <label for="aspect-ratio">Download Aspect Ratio</label>
        <select id="aspect-ratio">
          <option value="original">Original (As displayed)</option>
          <option value="1.0">1:1 (Square)</option>
          <option value="4/3">4:3</option>
          <option value="16/9">16:9 (Widescreen)</option>
          <option value="A4_L">A4 Landscape (Standard Print)</option>
          <option value="Letter_L">US Letter Landscape</option>
        </select>
      </div>

      <button id="update-btn" class="btn btn-primary" style="background: var(--gold-dark);">Update Text Fields</button>
      <button id="download-btn" class="btn btn-primary" style="padding: 12px; font-size: 12px;">Download Certificate</button>
    </div>
    </div>
</div>

<script>
  // --- Initialization ---
  (function init() {
    const today = new Date();
    document.getElementById('in-date').value = today.toISOString().split('T')[0];
    updateFields();
  })();

  // --- Update Text Fields ---
  function updateFields() {
    document.getElementById('disp-recipient').textContent = document.getElementById('in-recipient').value || '—';
    document.getElementById('disp-course').textContent = document.getElementById('in-course').value || '—';
    document.getElementById('disp-grade').textContent = document.getElementById('in-grade').value || '—';
    document.getElementById('disp-org').textContent = document.getElementById('in-org').value || '—';
    document.getElementById('disp-status').textContent = document.getElementById('in-status').value || '—';
    document.getElementById('disp-id').textContent = 'ID: ' + (document.getElementById('in-id').value || '');

    const dVal = document.getElementById('in-date').value;
    if(dVal) {
         const dObj = new Date(dVal);
         document.getElementById('disp-date').textContent = dObj.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
    }
  }
  document.getElementById('update-btn').addEventListener('click', updateFields);


  // --- Signature Pad Logic ---
  const canvas = document.getElementById('sigpad');
  const ctx = canvas.getContext('2d');
  let isDrawing = false;

  function resizeCanvas() {
      const ratio = Math.max(window.devicePixelRatio || 1, 1);
      canvas.width = canvas.offsetWidth * ratio;
      canvas.height = canvas.offsetHeight * ratio;
      ctx.scale(ratio, ratio);
      ctx.strokeStyle = "#0A1F44"; 
      ctx.lineWidth = 2.5;
      ctx.lineCap = 'round';
      ctx.lineJoin = 'round';
  }
  window.addEventListener('resize', resizeCanvas);
  setTimeout(resizeCanvas, 100);

  function getPos(e) {
      const rect = canvas.getBoundingClientRect();
      let cx, cy;
      if (e.touches && e.touches.length > 0) {
        cx = e.touches[0].clientX; cy = e.touches[0].clientY;
      } else {
        cx = e.clientX; cy = e.clientY;
      }
      return { x: cx - rect.left, y: cy - rect.top };
  }

  function startDraw(e){ isDrawing = true; const pos = getPos(e); ctx.beginPath(); ctx.moveTo(pos.x, pos.y); e.preventDefault(); }
  canvas.addEventListener('mousedown', startDraw);
  canvas.addEventListener('touchstart', startDraw, {passive: false});

  function drawMove(e){ if(!isDrawing) return; const pos = getPos(e); ctx.lineTo(pos.x, pos.y); ctx.stroke(); e.preventDefault(); }
  canvas.addEventListener('mousemove', drawMove);
  canvas.addEventListener('touchmove', drawMove, {passive: false});

  function endDraw(){ isDrawing = false; }
  ['mouseup', 'mouseleave', 'touchend', 'touchcancel'].forEach(ev => canvas.addEventListener(ev, endDraw));

  document.getElementById('clear-sig').addEventListener('click', () => {
      ctx.clearRect(0, 0, canvas.width / window.devicePixelRatio, canvas.height / window.devicePixelRatio);
      document.getElementById('sig-image').style.display = 'none';
  });

  document.getElementById('apply-sig').addEventListener('click', () => {
      const dataUrl = canvas.toDataURL('image/png');
      const sigImg = document.getElementById('sig-image');
      sigImg.src = dataUrl;
      sigImg.style.display = 'block';
  });


  // --- Download Logic with Aspect Ratio ---
  document.getElementById('download-btn').addEventListener('click', () => {
      updateFields();
      const frameElement = document.querySelector('.cert-frame');
      const aspectRatioSelect = document.getElementById('aspect-ratio');
      const selectedAspectRatio = aspectRatioSelect.value;

      const originalWidth = frameElement.offsetWidth;
      const originalHeight = frameElement.offsetHeight;
      const baseScale = 3; 

      let targetWidth = originalWidth;
      let targetHeight = originalHeight;

      if (selectedAspectRatio !== 'original') {
          let desiredRatio;
          
          if (selectedAspectRatio === '1.0') desiredRatio = 1;
          else if (selectedAspectRatio === '4/3') desiredRatio = 4/3;
          else if (selectedAspectRatio === '16/9') desiredRatio = 16/9;
          else if (selectedAspectRatio === 'A4_L') { // A4 Landscape (297x210mm)
              desiredRatio = 297 / 210; 
              targetWidth = 297 * baseScale * 4; 
              targetHeight = targetWidth / desiredRatio;
          } else if (selectedAspectRatio === 'Letter_L') { // US Letter Landscape (11x8.5in)
              desiredRatio = 11 / 8.5; 
              targetWidth = 11 * baseScale * 40;
              targetHeight = targetWidth / desiredRatio;
          }
          
          if (desiredRatio && selectedAspectRatio !== 'A4_L' && selectedAspectRatio !== 'Letter_L') {
              // For common ratios, adjust the displayed frame size for the screenshot
              // We'll use the larger dimension (width) as the base for the target crop/size
              if (desiredRatio > originalWidth / originalHeight) { // Target is wider than original display
                targetWidth = originalWidth;
                targetHeight = originalWidth / desiredRatio;
              } else { // Target is narrower or equal
                targetHeight = originalHeight;
                targetWidth = originalHeight * desiredRatio;
              }
          }
      }

      html2canvas(frameElement, {
          scale: baseScale,
          useCORS: true,
          backgroundColor: null,
          logging: false,
          width: targetWidth,
          height: targetHeight
      }).then(canvasResult => {
          const link = document.createElement('a');
          const name = document.getElementById('in-recipient').value.replace(/\s+/g, '_') || 'certificate';
          link.download = `Elvion_Certificate_${name}.png`;
          link.href = canvasResult.toDataURL('image/png');
          link.click();
      });
  });
</script>
</body>
</html>
