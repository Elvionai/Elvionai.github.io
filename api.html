<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elvion AI API Documentation</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    <style>
        :root {
            --bg-color: #0e0d16; /* Deep dark purple-ish */
            --nav-bg-color: #120f1c; /* Slightly darker for nav */
            --content-bg-color: #1a1625; /* Even lighter for main content cards */
            --text-color: #e0e0e0; /* Off-white */
            --text-muted-color: #a0a0b0; /* Light grey */
            --accent-color: #a855f7; /* Primary Elvion purple */
            --accent-gradient-start: #a855f7;
            --accent-gradient-end: #f472b6; /* Elvion pink */
            --accent-hover-color: #c084fc; /* Lighter purple for hover */
            --border-color: #393054; /* Dark purple-grey for borders */
            --code-bg-color: #011627; /* Dark blue-grey for code blocks */
            --green-color: #22c55e; /* Standard green */
            --blue-color: #3b82f6; /* Standard blue */
            --orange-color: #f97316; /* Standard orange */
            --red-color: #ef4444; /* Standard red */
            --font-family: 'Inter', sans-serif;
            --shadow-light: 0 0 12px rgba(168, 85, 247, 0.25); /* More visible light glow */
            --shadow-medium: 0 8px 25px rgba(0, 0, 0, 0.5); /* Deeper shadow for depth */
            --inner-shadow: inset 0 0 8px rgba(168, 85, 247, 0.1); /* Inner glow for inputs */
            --error-red-bg: rgba(239, 68, 68, 0.15);
            --error-red-border: #ef4444;
            --error-red-text: #fca5a5;
        }

        /* Base styles, scrollbars */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            scrollbar-width: thin;
            scrollbar-color: var(--accent-color) var(--nav-bg-color);
        }
        *::-webkit-scrollbar { width: 8px; }
        *::-webkit-scrollbar-track { background: var(--nav-bg-color); }
        *::-webkit-scrollbar-thumb {
            background-color: var(--accent-color);
            border-radius: 10px;
            border: 2px solid var(--nav-bg-color);
        }
        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-family);
            background-color: var(--bg-color);
            color: var(--text-color);
            line-height: 1.6;
            display: flex;
            min-height: 100vh;
            /* Replicating Elvion homepage radial gradients */
            background-image: radial-gradient(at 0% 0%, hsla(270,70%,15%,0.3) 0, transparent 50%),
                              radial-gradient(at 100% 100%, hsla(330,70%,15%,0.3) 0, transparent 50%);
            background-attachment: fixed;
        }

        /* Navigation */
        #api-docs-nav {
            width: 280px;
            position: fixed;
            top: 0;
            left: 0;
            bottom: 0;
            background-color: var(--nav-bg-color);
            border-right: 1px solid var(--border-color);
            overflow-y: auto;
            padding-bottom: 2rem;
            box-shadow: var(--shadow-medium);
            z-index: 1000;
        }
        .nav-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-color);
            background: var(--nav-bg-color);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        .nav-header h1 {
            font-size: 1.8rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--accent-gradient-start), var(--accent-gradient-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 8px rgba(168, 85, 247, 0.4);
        }
        .nav-header p {
            font-size: 0.85rem;
            color: var(--text-muted-color);
        }
        #api-docs-nav ul { list-style: none; padding: 1rem 0; }
        #api-docs-nav ul h3 {
            font-size: 0.85rem;
            color: var(--text-muted-color);
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
            padding: 1rem 1.5rem 0.5rem;
        }
        #api-docs-nav ul li a {
            display: block;
            padding: 0.8rem 1.5rem 0.8rem 2rem;
            color: var(--text-color);
            text-decoration: none;
            font-size: 0.95rem;
            font-weight: 500;
            transition: all 0.3s ease-in-out;
            border-left: 3px solid transparent;
            position: relative;
        }
        #api-docs-nav ul li a:hover {
            color: var(--accent-hover-color);
            background-color: rgba(168, 85, 247, 0.15);
            transform: translateX(5px);
            box-shadow: inset 5px 0 15px rgba(168, 85, 247, 0.05);
        }
        #api-docs-nav ul li a.active {
            color: #fff;
            border-left-color: var(--accent-color);
            background-color: rgba(168, 85, 247, 0.1);
            font-weight: 600;
            box-shadow: inset 5px 0 15px rgba(168, 85, 247, 0.2), var(--shadow-light);
            text-shadow: 0 0 5px rgba(168, 85, 247, 0.5);
        }

        /* Main Content */
        #api-docs-content {
            margin-left: 280px;
            width: calc(100% - 280px);
            display: flex;
            justify-content: center;
            padding: 2rem 0; /* Add vertical padding for the "floating" effect */
        }
        .main-content {
            width: 100%;
            max-width: 1000px;
            padding: 4rem;
            background-color: var(--content-bg-color);
            border-radius: 12px;
            box-shadow: var(--shadow-medium);
            margin: 0 2rem; /* Margin left/right, 0 top/bottom for content to float */
            border: 1px solid var(--border-color);
        }
        .main-content section {
            margin-bottom: 5rem;
            border-top: 1px solid var(--border-color);
            padding-top: 3rem;
            animation: fadeIn 0.8s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }
        @keyframes fadeIn { to { opacity: 1; transform: translateY(0); } }
        
        /* Headers */
        .main-content h2 {
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            background: linear-gradient(90deg, #fff, var(--accent-gradient-end));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.3);
        }
        .main-content h3 {
            font-size: 1.8rem;
            margin-top: 2.5rem;
            margin-bottom: 1.2rem;
            border-bottom: 1px solid var(--border-color);
            padding-bottom: 0.8rem;
            color: var(--accent-color);
            text-shadow: 0 0 3px rgba(168, 85, 247, 0.3);
        }
        
        /* Text and Links */
        .main-content p { color: var(--text-muted-color); margin-bottom: 1.5rem; font-size: 1rem; }
        .main-content a {
            color: var(--accent-hover-color);
            text-decoration: none;
            transition: color 0.2s ease;
        }
        .main-content a:hover { color: var(--accent-gradient-end); text-decoration: underline; }
        
        /* Endpoint Display */
        .endpoint { display: flex; align-items: center; gap: 1rem; margin-bottom: 1rem; flex-wrap: wrap; }
        .endpoint .method {
            padding: 0.4rem 1rem; border-radius: 8px; font-weight: 700; font-size: 1rem;
            color: #fff; text-shadow: 1px 1px 2px rgba(0,0,0,0.5); box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        }
        .method.post { background-color: var(--blue-color); }
        .endpoint .path {
            font-family: 'Fira Code', 'Courier New', Courier, monospace;
            background-color: var(--code-bg-color); padding: 0.6rem 1rem; border-radius: 8px;
            border: 1px solid var(--border-color); color: var(--text-color); font-size: 1rem;
            word-break: break-all; box-shadow: var(--inner-shadow);
        }
        .endpoint-cost {
            font-size: 0.95rem; color: var(--orange-color); background-color: rgba(249, 115, 22, 0.15);
            padding: 0.4rem 0.9rem; border-radius: 8px; font-weight: 600; border: 1px solid rgba(249, 115, 22, 0.5);
        }

        /* Tables */
        table {
            width: 100%; border-collapse: collapse; margin: 2rem 0; font-size: 0.95rem;
            background-color: var(--nav-bg-color); border-radius: 8px; overflow: hidden;
            box-shadow: var(--shadow-light);
        }
        table th, table td { text-align: left; padding: 1rem; border-bottom: 1px solid var(--border-color); }
        table th { color: #fff; font-weight: 600; background-color: rgba(168, 85, 247, 0.1); }
        table td { color: var(--text-muted-color); }
        table td code {
            background-color: rgba(26, 22, 37, 0.5); padding: 0.3rem 0.5rem; border-radius: 5px;
            color: var(--accent-hover-color); font-size: 0.9rem; font-family: 'Fira Code', monospace;
        }

        /* Code Blocks */
        .code-container {
            position: relative; background-color: var(--code-bg-color); border-radius: 10px;
            margin: 2.5rem 0; overflow: hidden; border: 1px solid var(--border-color);
            box-shadow: var(--shadow-medium);
        }
        .code-header { display: flex; background-color: var(--nav-bg-color); padding: 0 0.5rem; border-bottom: 1px solid var(--border-color); }
        .code-header .tab {
            padding: 1rem 1.5rem; cursor: pointer; color: var(--text-muted-color); border: none;
            background: none; font-size: 0.9rem; font-weight: 500; position: relative;
            transition: color 0.3s ease, background-color 0.3s ease;
        }
        .code-header .tab:hover { color: #fff; background-color: rgba(168, 85, 247, 0.05); }
        .code-header .tab.active { color: var(--accent-color); font-weight: 600; }
        .code-header .tab.active::after {
            content: ''; position: absolute; bottom: -1px; left: 0; right: 0; height: 2px;
            background: linear-gradient(90deg, var(--accent-gradient-start), var(--accent-gradient-end));
            box-shadow: 0 0 8px var(--accent-color);
        }
        .copy-btn {
            position: absolute; top: 1rem; right: 1rem; background: var(--border-color);
            color: var(--text-color); border: none; padding: 0.6rem 1rem; border-radius: 8px;
            cursor: pointer; font-size: 0.85rem; font-weight: 600; transition: all 0.3s ease;
            box-shadow: var(--shadow-light);
        }
        .copy-btn:hover {
            background-color: var(--accent-color); transform: translateY(-2px);
            box-shadow: 0 0 15px rgba(168, 85, 247, 0.5);
        }

        /* Alerts */
        .alert {
            padding: 1.2rem 1.8rem; margin-bottom: 2rem; border-radius: 10px; border: 1px solid;
            font-size: 0.95rem; box-shadow: var(--shadow-light);
        }
        .alert.info {
            background-color: rgba(59, 130, 246, 0.15); border-color: var(--blue-color); color: #93c5fd;
        }
        .alert.warning {
            background-color: rgba(249, 115, 22, 0.15); border-color: var(--orange-color); color: #fdba74;
        }
        .alert.error { /* For critical errors */
            background-color: var(--error-red-bg); border-color: var(--error-red-border); color: var(--error-red-text);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.4);
        }
        .alert code {
             font-weight: bold; color: #fff; background-color: rgba(255,255,255,0.1);
             padding: 0.2em 0.4em; border-radius: 4px;
        }

        /* Live Test Section */
        .live-test-section {
            background-color: var(--nav-bg-color); border: 1px solid var(--border-color);
            border-radius: 12px; padding: 2.5rem; margin-top: 3rem; box-shadow: var(--shadow-medium);
            position: relative; overflow: hidden;
            background-image: linear-gradient(135deg, rgba(168, 85, 247, 0.05) 0%, rgba(244, 114, 182, 0.02) 100%);
        }
        .live-test-section h3 {
            background: linear-gradient(90deg, var(--accent-gradient-start), var(--accent-gradient-end));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent; border-bottom: none;
            padding-bottom: 0; margin-bottom: 1.5rem; font-size: 1.8rem; text-shadow: 0 0 8px rgba(168, 85, 247, 0.4);
        }
        .form-group { margin-bottom: 1.5rem; }
        .form-group label { display: block; margin-bottom: 0.6rem; color: var(--text-color); font-weight: 500; font-size: 0.95rem; }
        .form-group input, .form-group textarea, .form-group select {
            width: 100%; padding: 0.8rem 1rem; background-color: var(--content-bg-color);
            border: 1px solid var(--border-color); border-radius: 8px; color: var(--text-color);
            font-family: var(--font-family); font-size: 0.95rem; transition: all 0.3s ease;
            box-shadow: var(--inner-shadow); resize: vertical;
        }
        .form-group input:focus, .form-group textarea:focus, .form-group select:focus {
            outline: none; border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.3), var(--inner-shadow);
        }
        .action-button {
            background: linear-gradient(90deg, var(--accent-gradient-start), var(--accent-gradient-end));
            color: white; padding: 1rem 2rem; border: none; border-radius: 8px; cursor: pointer;
            font-size: 1rem; font-weight: 600; transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.4); letter-spacing: 0.5px; text-transform: uppercase;
        }
        .action-button:hover {
            box-shadow: 0 6px 20px rgba(168, 85, 247, 0.6); transform: translateY(-2px);
        }
        .action-button:disabled {
            opacity: 0.6; cursor: not-allowed; background: var(--border-color);
            box-shadow: none; transform: none;
        }
        .response-container { margin-top: 2.5rem; border-top: 1px solid var(--border-color); padding-top: 2rem; }
        .response-container h4 { color: var(--accent-color); font-size: 1.2rem; margin-bottom: 1rem; }
        .response-container pre {
            background-color: var(--code-bg-color); border: 1px solid var(--border-color);
            border-radius: 8px; padding: 1.5rem; max-height: 400px; overflow-y: auto;
            white-space: pre-wrap; word-wrap: break-word; font-family: 'Fira Code', monospace;
            font-size: 0.9rem; color: #d4d4d4; box-shadow: var(--inner-shadow);
        }
        .response-container img {
            max-width: 100%; height: auto; border-radius: 8px; margin-top: 1.5rem;
            border: 1px solid var(--border-color); box-shadow: var(--shadow-medium);
        }

        /* Media Queries */
        @media (max-width: 1200px) {
            #api-docs-nav { width: 250px; }
            #api-docs-content { margin-left: 250px; }
            .main-content { padding: 3rem; margin: 1.5rem; }
        }
        @media (max-width: 768px) {
            body { flex-direction: column; }
            #api-docs-nav {
                position: static; width: 100%; height: auto; border-right: none;
                border-bottom: 1px solid var(--border-color); box-shadow: none; padding-bottom: 0;
            }
            #api-docs-nav ul { display: flex; flex-wrap: wrap; padding: 0.5rem 0; }
            #api-docs-nav ul h3 {
                width: 100%; padding: 0.5rem 1.5rem; border-top: 1px solid var(--border-color);
                margin-top: 0.5rem;
            }
            #api-docs-nav ul li { flex: 1 1 auto; min-width: 120px; }
            #api-docs-nav ul li a {
                padding: 0.5rem 1rem; text-align: center; border-left: none;
                border-bottom: 3px solid transparent;
            }
            #api-docs-nav ul li a.active {
                border-left-color: transparent; border-bottom-color: var(--accent-color);
                box-shadow: inset 0 -5px 15px rgba(168, 85, 247, 0.2);
            }
            #api-docs-content { margin-left: 0; width: 100%; }
            .main-content { margin: 1rem; padding: 2rem; }
            .main-content h2 { font-size: 1.8rem; }
            .main-content h3 { font-size: 1.4rem; }
        }
    </style>
</head>
<body>

    <nav id="api-docs-nav">
        <div class="nav-header">
            <h1>Elvion AI</h1>
            <p>Developer API Documentation</p>
        </div>
        <ul>
            <h3>Introduction</h3>
            <li><a href="#introduction" class="nav-link">Getting Started</a></li>
            <li><a href="#authentication" class="nav-link">Authentication</a></li>
            <li><a href="#error-handling" class="nav-link">Error Handling</a></li>
        </ul>
        <ul>
            <h3>Protected Endpoints</h3>
            <li><a href="#seraphina-chat" class="nav-link">Seraphina Chat</a></li>
            <li><a href="#bobby-chat" class="nav-link">Bobby Chat</a></li>
            <li><a href="#generate-image" class="nav-link">Generate Image</a></li>
        </ul>
    </nav>

    <main id="api-docs-content">
        <div class="main-content">
            <section id="introduction">
                <h2>Getting Started</h2>
                <p>Welcome, visionary developer, to the heart of Elvion AI! Our API unlocks a universe of intelligent capabilities, empowering you to integrate advanced AI models directly into your applications. From insightful conversational agents to stunning image generation, Elvion AI is your partner in crafting the future.</p>
                <div class="alert info">
                  <p>Obtain your Elvion AI API Key here: <a href="https://elvionai.com.ng/developer-login.html" target="_blank">Elvion AI Developer Login</a>.</p>
                </div>
                <h3>Base URL</h3>
                <p>All API endpoints radiate from the following base URL, serving as your gateway to Elvion AI's power:</p>
                <div class="endpoint"><div class="path">https://web-production-9a18.up.railway.app</div></div>
            </section>

            <section id="authentication">
                <h2>Authentication</h2>
                <p>Accessing Elvion AI's protected endpoints requires a valid API Key, transmitted as a Bearer Token in your request headers. Think of it as your digital key to our mystical realms of intelligence.</p>
                <div class="code-container">
                    <div class="code-header"><button class="tab active">HTTP Header</button></div>
                    <div class="code-body"><button class="copy-btn">Copy</button><pre class="language-http active"><code>Authorization: Bearer YOUR_ELVION_API_KEY</code></pre></div>
                </div>
                <p>Each invocation of a protected endpoint consumes credits from your account. Should your credit balance be insufficient, the API will respond with a <code>402 Payment Required</code> status, urging you to replenish your digital coffers.</p>
            </section>
            
            <section id="error-handling">
                <h2>Error Handling & Troubleshooting</h2>
                <p>If you encounter errors while using the live testing tools or your own integrations, please review the following common server-side issues. These problems indicate a need for configuration adjustments in your backend environment.</p>
                <div class="alert warning">
                    <p><strong>Common Backend Error: <code>"Thena API key not configured for this feature."</code></strong></p>
                    <p>This message originates from your Elvion AI backend. It signifies that the <code>THENA_API_KEY</code> environment variable, which your backend requires to access its internal image generation capabilities (used by both Bobby and the Generate Image endpoint), has not been properly set in your backend's deployment environment. Please refer to the <a href="#api-key-distinction" style="color:var(--orange-color)">Critical API Keys</a> section for guidance.</p>
                </div>
                <div class="alert warning">
                    <p><strong>Common Backend Error: <code>500 - "An unexpected error occurred: "</code> (especially for Bobby Chat)</strong></p>
                    <p>A generic <code>500 Internal Server Error</code> often points to a crash within your Elvion AI backend. For the Bobby Chat endpoint, this frequently occurs if its underlying external service key (e.g., <code>THENA_API_KEY</code>) is misconfigured or missing. Ensure all required environment variables are correctly established on your server.</p>
                </div>
            </section>

            <section id="seraphina-chat">
                <h2>Seraphina Chat</h2>
                <p>Unleash Seraphina, the Nonchalant Guru, Elvion AI's premier conversational model designed for profound research, meticulous analysis, and empirically grounded responses. Perfect for applications requiring deep factual inquiry and structured insights.</p>
                <div class="endpoint"><span class="method post">POST</span><span class="path">/api/developer/seraphina/chat</span><span class="endpoint-cost">5 Credits</span></div>
                <h3>Request Body</h3>
                <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>message</code></td><td>string</td><td><strong>Required.</strong> The user's latest query or prompt.</td></tr>
                        <tr><td><code>history</code></td><td>array of objects</td><td><em>Optional.</em> Past conversational turns. Each object needs <code>"role"</code> ("user" or "assistant") and <code>"content"</code> (string).</td></tr>
                        <tr><td><code>temperature</code></td><td>float</td><td><em>Optional.</em> Controls randomness (0.0 to 1.0). Defaults to 0.7.</td></tr>
                        <tr><td><code>stream</code></td><td>boolean</td><td><em>Optional.</em> Set to <code>false</code> for a single, complete JSON response. Defaults to <code>true</code>.</td></tr>
                    </tbody>
                </table>
                <div class="code-container">
                    <div class="code-header"><button class="tab active">cURL</button><button class="tab">Python</button><button class="tab">JavaScript</button></div>
                    <div class="code-body"><button class="copy-btn">Copy</button>
                        <pre class="language-bash active"><code>curl -X POST "https://web-production-9a18.up.railway.app/api/developer/seraphina/chat" \
-H "Authorization: Bearer YOUR_ELVION_API_KEY" \
-H "Content-Type: application/json" \
-d '{
  "message": "What are the latest advancements in AI-driven drug discovery?",
  "stream": false
}'</code></pre>
                        <pre class="language-python"><code>import requests
import json

API_URL = "https://web-production-9a18.up.railway.app/api/developer/seraphina/chat"
ELVION_API_KEY = "YOUR_ELVION_API_KEY"

headers = {
    "Authorization": f"Bearer {ELVION_API_KEY}",
    "Content-Type": "application/json"
}
payload = {
    "message": "What are the latest advancements in AI-driven drug discovery?",
    "stream": False
}
response = requests.post(API_URL, headers=headers, json=payload)

if response.status_code == 200:
    print(json.dumps(response.json(), indent=2))
else:
    print(f"Error: {response.status_code}")
    print(response.text)
</code></pre>
                        <pre class="language-javascript"><code>const API_URL = "https://web-production-9a18.up.railway.app/api/developer/seraphina/chat";
const ELVION_API_KEY = "YOUR_ELVION_API_KEY";

const data = {
    message: "What are the latest advancements in AI-driven drug discovery?",
    stream: false,
};
fetch(API_URL, {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${ELVION_API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify(data)
})
.then(response => {
    if (!response.ok) {
        return response.json().then(err => { throw new Error(err.detail || `HTTP error! status: ${response.status}`); });
    }
    return response.json();
})
.then(data => console.log(JSON.stringify(data, null, 2)))
.catch(error => console.error('Error:', error.message));
</code></pre>
                    </div>
                </div>
                <div class="live-test-section">
                    <h3>Test Seraphina Live</h3>
                    <p>Experience Seraphina's analytical prowess firsthand. Enter your Elvion AI API Key and a query to receive her profound insights. Remember, your backend also needs <code>PPLX_API_KEY</code> set up!</p>
                    <div class="form-group"><label for="seraphina-api-key">Your Elvion AI API Key:</label><input type="text" id="seraphina-api-key" placeholder="Enter your API Key"></div>
                    <div class="form-group"><label for="seraphina-message">Your Message:</label><textarea id="seraphina-message" rows="4" placeholder="e.g., Explain the concept of general relativity in simple terms..."></textarea></div>
                    <button id="test-seraphina-btn" class="action-button">Send Request</button>
                    <div class="response-container"><h4>Response:</h4><pre id="seraphina-response">Click 'Send Request' to see Seraphina's response.</pre></div>
                </div>
            </section>
            
            <section id="bobby-chat">
                <h2>Bobby Chat</h2>
                <p>Engage with Bobby, the thoughtful and friendly intelligence within the Elvion AI ecosystem. Bobby excels at creative writing, robust coding assistance, and engaging, heart-stirring conversations. A dependable companion for your ideation and development needs.</p>
                <div class="endpoint"><span class="method post">POST</span><span class="path">/api/developer/bobby/chat</span><span class="endpoint-cost">2 Credits</span></div>
                <h3>Request Body</h3>
                 <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>prompt</code></td><td>string</td><td><strong>Required.</strong> Your conversational prompt or query for Bobby.</td></tr>
                        <tr><td><code>systemPrompt</code></td><td>string</td><td><em>Optional.</em> A custom system instruction to tailor Bobby's behavior.</td></tr>
                    </tbody>
                </table>
                 <div class="code-container">
                    <div class="code-header"><button class="tab active">cURL</button><button class="tab">Python</button><button class="tab">JavaScript</button></div>
                    <div class="code-body"><button class="copy-btn">Copy</button>
                        <pre class="language-bash active"><code>curl -X POST "https://web-production-9a18.up.railway.app/api/developer/bobby/chat" \
-H "Authorization: Bearer elv_sec_xF4gA535eqSKeEL3_Jw7YNLZ4mV8N1_tEu_K669XAg4" \
-H "Content-Type: application/json" \
-d '{
  "prompt": "Write a Python function to reverse a string in-place."
}'</code></pre>
                        <pre class="language-python"><code>import requests
import json

API_URL = "https://web-production-9a18.up.railway.app/api/developer/bobby/chat"
ELVION_API_KEY = "YOUR_ELVION_API_KEY"

headers = {
    "Authorization": f"Bearer {ELVION_API_KEY}",
    "Content-Type": "application/json"
}
payload = {"prompt": "Write a Python function to reverse a string in-place."}

response = requests.post(API_URL, headers=headers, json=payload)

if response.status_code == 200:
    print(json.dumps(response.json(), indent=2))
else:
    print(f"Error: {response.status_code}")
    print(response.text)
</code></pre>
                        <pre class="language-javascript"><code>const API_URL = "https://web-production-9a18.up.railway.app/api/developer/bobby/chat";
const ELVION_API_KEY = "YOUR_ELVION_API_KEY";

const data = {prompt: "Write a Python function to reverse a string in-place."};

fetch(API_URL, {
    method: 'POST',
    headers: {
        'Authorization': `Bearer ${ELVION_API_KEY}`,
        'Content-Type': 'application/json'
    },
    body: JSON.stringify(data)
})
.then(response => {
    if (!response.ok) {
        return response.json().then(err => { throw new Error(err.detail || `HTTP error! status: ${response.status}`); });
    }
    return response.json();
})
.then(data => console.log(JSON.stringify(data, null, 2)))
.catch(error => console.error('Error:', error.message));
</code></pre>
                    </div>
                </div>
                 <div class="live-test-section">
                    <h3>Test Bobby Live</h3>
                    <p>Unveil Bobby's coding wisdom or literary charm. Provide your Elvion AI API Key and a prompt, then observe his response. Remember, your backend needs <code>THENA_API_KEY</code> set up!</p>
                    <div class="form-group"><label for="bobby-api-key">Your Elvion AI API Key:</label><input type="text" id="bobby-api-key" placeholder="Enter your API Key"></div>
                    <div class="form-group"><label for="bobby-prompt">Your Prompt:</label><textarea id="bobby-prompt" rows="4" placeholder="e.g., Generate a short, emotional poem about a forgotten hero."></textarea></div>
                    <button id="test-bobby-btn" class="action-button">Send Request</button>
                    <div class="response-container"><h4>Response:</h4><pre id="bobby-response">Click 'Send Request' to receive Bobby's wisdom.</pre></div>
                </div>
            </section>
            
             <section id="generate-image">
                <h2>Generate Image</h2>
                <p>Bring your visions to life with Elvion AI's powerful image generation service. Describe any scene, character, or concept, and our models will craft a stunning visual representation. Choose from various artistic models to achieve your desired aesthetic.</p>
                <div class="endpoint"><span class="method post">POST</span><span class="path">/api/developer/generate-image</span><span class="endpoint-cost">15 Credits</span></div>
                <h3>Request Body</h3>
                 <table>
                    <thead><tr><th>Field</th><th>Type</th><th>Description</th></tr></thead>
                    <tbody>
                        <tr><td><code>prompt</code></td><td>string</td><td><strong>Required.</strong> A vivid and detailed description of the image.</td></tr>
                        <tr><td><code>model</code></td><td>string</td><td><em>Optional.</em> Specifies the artistic model (e.g., <code>"v6"</code>, <code>"photoreal"</code>, <code>"anime_core"</code>, etc.). Defaults to <code>"v6"</code>.</td></tr>
                        <tr><td><code>width</code></td><td>integer</td><td><em>Optional.</em> The width of the generated image.</td></tr>
                        <tr><td><code>height</code></td><td>integer</td><td><em>Optional.</em> The height of the generated image.</td></tr>
                    </tbody>
                </table>
                <div class="alert info"><p>The endpoint responds with a JSON object containing an <code>image_b64</code> field, which holds the base64-encoded PNG image data.</p></div>
                 <div class="code-container">
                    <div class="code-header"><button class="tab active">cURL</button><button class="tab">Python</button><button class="tab">JavaScript</button></div>
                    <div class="code-body"><button class="copy-btn">Copy</button>
                        <pre class="language-bash active"><code>curl -X POST "https://web-production-9a18.up.railway.app/api/developer/generate-image" \
-H "Authorization: Bearer elv_sec_xF4gA535eqSKeEL3_Jw7YNLZ4mV8N1_tEu_K669XAg4" \
-H "Content-Type: application/json" \
-d '{
  "prompt": "A majestic lion with a crown made of stars, photorealistic, 4k",
  "model": "photoreal"
}'</code></pre>
                        <pre class="language-python"><code>import requests
import base64
from io import BytesIO
# from PIL import Image # Uncomment to save image (requires 'Pillow' library)

API_URL = "https://web-production-9a18.up.railway.app/api/developer/generate-image"
ELVION_API_KEY = "YOUR_ELVION_API_KEY"
headers = {"Authorization": f"Bearer {ELVION_API_KEY}", "Content-Type": "application/json"}
payload = {
    "prompt": "A majestic lion with a crown made of stars, photorealistic, 4k",
    "model": "photoreal",
    "width": 768, # Example width
    "height": 1024 # Example height
}
response = requests.post(API_URL, headers=headers, json=payload)

if response.status_code == 200:
    image_b64 = response.json().get("image_b64")
    print("Image generated successfully!")
    if image_b64:
        # Example to save the image:
        # from PIL import Image
        # image_data = base64.b64decode(image_b64)
        # image = Image.open(BytesIO(image_data))
        # image.save("elvion_image.png")
        # print("Image saved as elvion_image.png")
    else:
        print("No image data received in response.")
else:
    print(f"Error: {response.status_code}")
    print(response.text)
</code></pre>
                        <pre class="language-javascript"><code>const API_URL = "https://web-production-9a18.up.railway.app/api/developer/generate-image";
const ELVION_API_KEY = "YOUR_ELVION_API_KEY";

const data = {
    prompt: "A majestic lion with a crown made of stars, photorealistic, 4k",
    model: "photoreal",
    width: 768, // Example width
    height: 1024 // Example height
};
async function generateElvionImage() {
    try {
        const response = await fetch(API_URL, {
            method: 'POST',
            headers: {
                'Authorization': `Bearer ${ELVION_API_KEY}`,
                'Content-Type': 'application/json'
            },
            body: JSON.stringify(data)
        });
        if (!response.ok) {
            return response.json().then(err => { throw new Error(err.detail || `HTTP error! status: ${response.status}`); });
        }
        const result = await response.json();
        const imageUrl = `data:image/png;base64,${result.image_b64}`;
        console.log("Image received. You can use the base64 data to display it.");
        // Example: document.getElementById('myImgTag').src = imageUrl;
    } catch (error) {
        console.error("Failed to generate image:", error.message);
    }
}
generateElvionImage();
</code></pre>
                    </div>
                </div>
                <div class="live-test-section">
                    <h3>Test Image Generation Live</h3>
                    <p>Witness Elvion AI's artistic magic. Provide your Elvion AI API Key and a descriptive prompt, then see your generated image appear. Remember, your backend needs <code>THENA_API_KEY</code> set up!</p>
                    <div class="form-group"><label for="image-api-key">Your Elvion AI API Key:</label><input type="text" id="image-api-key" placeholder="Enter your API Key"></div>
                    <div class="form-group"><label for="image-prompt">Image Prompt:</label><textarea id="image-prompt" rows="4" placeholder="e.g., An enchanted forest at twilight, glowing mushrooms, a hidden fairy..."></textarea></div>
                    <div class="form-group"><label for="image-model">Model:</label>
                        <select id="image-model">
                            <option value="v6">v6 (Versatile, High-Res)</option>
                            <option value="photoreal">Photoreal (Extreme Realism)</option>
                            <option value="movie">Movie (Cinematic)</option>
                            <option value="anime_core">Anime Core</option>
                            <option value="illustration">Illustration</option>
                            <option value="realistic">Realistic</option>
                            <option value="deepanime">Deep Anime</option>
                            <option value="animelegacy">Anime Legacy</option>
                            <option value="dreamcore">Dreamcore</option>
                        </select>
                    </div>
                    <button id="test-image-btn" class="action-button">Generate Image</button>
                    <div class="response-container">
                        <h4>Response:</h4>
                        <pre id="image-response-json">Click 'Generate Image' to see the JSON response.</pre>
                        <img id="generated-image-display" src="" alt="Generated Image will appear here" style="display:none;">
                    </div>
                </div>
            </section>
        </div>
    </main>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const BASE_URL = "https://web-production-9a18.up.railway.app";
            // --- Code Tabs Functionality ---
            document.querySelectorAll('.code-container').forEach(container => {
                const tabs = container.querySelectorAll('.tab');
                const codeBlocks = container.querySelectorAll('pre[class*="language-"]');
                tabs.forEach(tab => {
                    tab.addEventListener('click', () => {
                        tabs.forEach(t => t.classList.remove('active'));
                        tab.classList.add('active');
                        const langMap = {"curl": "bash", "python": "python", "javascript": "javascript", "http header": "http"};
                        const targetLang = langMap[tab.textContent.toLowerCase()];
                        codeBlocks.forEach(block => {
                            block.classList.toggle('active', block.className.includes(`language-${targetLang}`));
                        });
                    });
                });
                if (tabs.length > 0) tabs[0].click();
            });

            // --- Copy Button Functionality ---
            document.querySelectorAll('.copy-btn').forEach(button => {
                button.addEventListener('click', () => {
                    const activePre = button.closest('.code-body').querySelector('pre.active code');
                    if (activePre && navigator.clipboard) {
                        navigator.clipboard.writeText(activePre.innerText).then(() => {
                            button.textContent = 'Copied!';
                            setTimeout(() => { button.textContent = 'Copy'; }, 2000);
                        });
                    }
                });
            });
            
            // --- Nav Link Active State on Scroll ---
            const navLinks = document.querySelectorAll('.nav-link');
            const sections = document.querySelectorAll('.main-content section');
            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const id = entry.target.id;
                        navLinks.forEach(link => {
                            link.classList.toggle('active', link.getAttribute('href') === `#${id}`);
                        });
                    }
                });
            }, { rootMargin: '-40% 0px -60% 0px' });
            sections.forEach(section => observer.observe(section));

            // --- Live Test Handlers ---
            const handleApiRequest = async (button, responseDisplay, endpoint, getPayload) => {
                button.disabled = true;
                button.textContent = 'TRANSMITTING...';
                responseDisplay.textContent = 'Sending request to the Elvion AI realm...';
                responseDisplay.style.color = 'var(--text-muted-color)';

                try {
                    const payload = getPayload();
                    if (!payload.apiKey || payload.apiKey.trim() === '') {
                        throw new Error('Elvion AI API Key is required. Please obtain it from the Developer Login page.');
                    }

                    const response = await fetch(`${BASE_URL}${endpoint}`, {
                        method: 'POST',
                        headers: {
                            'Authorization': `${payload.apiKey.startsWith('Bearer ') ? payload.apiKey : 'Bearer ' + payload.apiKey}`,
                            'Content-Type': 'application/json'
                        },
                        body: JSON.stringify(payload.body)
                    });

                    const data = await response.json();
                    if (!response.ok) {
                        // Check for common backend configuration errors
                        if (response.status === 500 && data.detail && data.detail.includes("Thena API key not configured")) {
                             throw new Error(`Backend Configuration Error: ${data.detail}. Ensure THENA_API_KEY is set on your server!`);
                        }
                        if (response.status === 500 && data.detail && data.detail.includes("PPLX_API_KEY environment variable is not set")) {
                             throw new Error(`Backend Configuration Error: ${data.detail}. Ensure PPLX_API_KEY is set on your server!`);
                        }
                        throw new Error(`API Error: ${response.status} - ${data.detail || JSON.stringify(data)}`);
                    }
                    return data;

                } catch (error) {
                    responseDisplay.textContent = `Error: ${error.message}`;
                    responseDisplay.style.color = 'var(--red-color)';
                    return null;
                } finally {
                    button.disabled = false;
                    button.textContent = (button.id === 'test-image-btn') ? 'Generate Image' : 'Send Request';
                }
            };
            
            // Seraphina Test
            const seraphinaBtn = document.getElementById('test-seraphina-btn');
            seraphinaBtn.addEventListener('click', async () => {
                const responseDisplay = document.getElementById('seraphina-response');
                const data = await handleApiRequest(
                    seraphinaBtn,
                    responseDisplay,
                    '/api/developer/seraphina/chat',
                    () => ({
                        apiKey: document.getElementById('seraphina-api-key').value,
                        body: { 
                            message: document.getElementById('seraphina-message').value,
                            stream: false 
                        }
                    })
                );
                if (data) {
                    responseDisplay.textContent = JSON.stringify(data, null, 2);
                    responseDisplay.style.color = 'var(--text-color)';
                }
            });

            // Bobby Test
            const bobbyBtn = document.getElementById('test-bobby-btn');
            bobbyBtn.addEventListener('click', async () => {
                const responseDisplay = document.getElementById('bobby-response');
                const data = await handleApiRequest(
                    bobbyBtn,
                    responseDisplay,
                    '/api/developer/bobby/chat',
                    () => ({
                        apiKey: document.getElementById('bobby-api-key').value,
                        body: { prompt: document.getElementById('bobby-prompt').value }
                    })
                );
                if (data) {
                    responseDisplay.textContent = JSON.stringify(data, null, 2);
                    responseDisplay.style.color = 'var(--text-color)';
                }
            });

            // Image Gen Test
            const imageBtn = document.getElementById('test-image-btn');
            imageBtn.addEventListener('click', async () => {
                const jsonDisplay = document.getElementById('image-response-json');
                const imageDisplay = document.getElementById('generated-image-display');
                imageDisplay.style.display = 'none';

                const data = await handleApiRequest(
                    imageBtn,
                    jsonDisplay,
                    '/api/developer/generate-image',
                    () => ({
                        apiKey: document.getElementById('image-api-key').value,
                        body: {
                            prompt: document.getElementById('image-prompt').value,
                            model: document.getElementById('image-model').value
                        }
                    })
                );
                
                if (data) {
                    jsonDisplay.textContent = JSON.stringify(data, null, 2);
                    jsonDisplay.style.color = 'var(--text-color)';
                    if (data.image_b64) {
                        imageDisplay.src = `data:image/png;base64,${data.image_b64}`;
                        imageDisplay.style.display = 'block';
                    }
                }
            });
        });
    </script>
</body>
</html>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J1YTKP10ZX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date()); 

  gtag('config', 'G-J1YTKP10ZX');
</script>
