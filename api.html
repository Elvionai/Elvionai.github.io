<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elvion AI | Developer API Reference</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <!-- Prism Syntax Highlighting (Night Owl Theme for that Cyberpunk feel) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css">
    
    <style>
        :root {
            /* Elvion Palette */
            --bg-deep: #050508;
            --bg-panel: #0f0e14;
            --bg-card: rgba(22, 21, 30, 0.7);
            
            --primary: #a855f7; /* Elvion Purple */
            --primary-glow: rgba(168, 85, 247, 0.4);
            --secondary: #ec4899; /* Pink Accent */
            --accent-blue: #3b82f6;
            --accent-cyan: #06b6d4;
            
            --text-main: #ffffff;
            --text-muted: #9ca3af;
            --text-dim: #6b7280;
            
            --border-light: rgba(255, 255, 255, 0.08);
            --border-hover: rgba(168, 85, 247, 0.3);
            
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            
            --font-sans: 'Inter', system-ui, -apple-system, sans-serif;
            --font-mono: 'JetBrains Mono', monospace;
            
            --nav-width: 280px;
        }

        /* --- Reset & Base --- */
        * { box-sizing: border-box; outline: none; }
        html { scroll-behavior: smooth; font-size: 16px; }
        
        body {
            margin: 0;
            background-color: var(--bg-deep);
            color: var(--text-main);
            font-family: var(--font-sans);
            line-height: 1.6;
            overflow-x: hidden;
            /* Elvion Atmospheric Background */
            background-image: 
                radial-gradient(circle at 15% 50%, rgba(168, 85, 247, 0.08), transparent 25%),
                radial-gradient(circle at 85% 30%, rgba(236, 72, 153, 0.08), transparent 25%);
            background-attachment: fixed;
        }

        /* Scrollbars */
        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-deep); }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--primary); }

        /* --- Layout --- */
        .layout-container {
            display: flex;
            min-height: 100vh;
        }

        /* --- Navigation Sidebar --- */
        .sidebar {
            width: var(--nav-width);
            height: 100vh;
            position: fixed;
            top: 0;
            left: 0;
            background: rgba(5, 5, 8, 0.85);
            backdrop-filter: blur(12px);
            border-right: 1px solid var(--border-light);
            display: flex;
            flex-direction: column;
            z-index: 1000;
        }

        .logo-area {
            padding: 2rem 1.5rem;
            border-bottom: 1px solid var(--border-light);
        }

        .logo-text {
            font-size: 1.5rem;
            font-weight: 800;
            background: linear-gradient(135deg, #fff 0%, var(--primary) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: -0.5px;
            margin-bottom: 0.25rem;
            display: block;
        }
        .logo-sub {
            font-size: 0.75rem;
            color: var(--text-dim);
            text-transform: uppercase;
            letter-spacing: 1.5px;
            font-weight: 600;
        }

        .nav-links {
            flex: 1;
            overflow-y: auto;
            padding: 1.5rem 0;
        }

        .nav-group { margin-bottom: 2rem; }
        .nav-title {
            padding: 0 1.5rem;
            font-size: 0.7rem;
            text-transform: uppercase;
            color: var(--text-dim);
            font-weight: 700;
            letter-spacing: 1px;
            margin-bottom: 0.75rem;
        }

        .nav-item {
            display: block;
            padding: 0.6rem 1.5rem;
            color: var(--text-muted);
            text-decoration: none;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            border-left: 2px solid transparent;
        }

        .nav-item:hover {
            color: #fff;
            background: rgba(255,255,255,0.02);
            padding-left: 1.75rem; /* Slight slide effect */
        }

        .nav-item.active {
            color: #fff;
            border-left-color: var(--primary);
            background: linear-gradient(90deg, rgba(168, 85, 247, 0.1), transparent);
            font-weight: 500;
        }

        /* --- Main Content --- */
        .content-area {
            flex: 1;
            margin-left: var(--nav-width);
            padding: 4rem 3rem;
            max-width: 1200px;
        }

        section {
            margin-bottom: 6rem;
            scroll-margin-top: 2rem;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeUp 0.6s ease forwards;
        }

        @keyframes fadeUp {
            to { opacity: 1; transform: translateY(0); }
        }

        /* Typography & Elements */
        h1 { font-size: 3rem; font-weight: 800; letter-spacing: -1px; margin-bottom: 1rem; line-height: 1.1; }
        h1 span { color: var(--primary); }
        
        h2 { 
            font-size: 2rem; 
            margin-bottom: 1.5rem; 
            color: #fff; 
            border-bottom: 1px solid var(--border-light); 
            padding-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 { font-size: 1.4rem; color: #fff; margin-top: 2.5rem; margin-bottom: 1rem; }
        
        p { color: var(--text-muted); font-size: 1.05rem; margin-bottom: 1.5rem; max-width: 800px; }
        
        a { color: var(--primary); text-decoration: none; transition: 0.2s; }
        a:hover { color: var(--secondary); text-decoration: underline; }

        /* Endpoints Badge */
        .endpoint-badge {
            display: inline-flex;
            align-items: center;
            background: rgba(255,255,255,0.05);
            border: 1px solid var(--border-light);
            border-radius: 8px;
            padding: 0.5rem 1rem;
            font-family: var(--font-mono);
            font-size: 0.9rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        
        .method {
            font-weight: 700;
            padding: 0.25rem 0.6rem;
            border-radius: 4px;
            margin-right: 1rem;
            font-size: 0.8rem;
            text-transform: uppercase;
        }
        .method.post { background: rgba(59, 130, 246, 0.2); color: #60a5fa; border: 1px solid rgba(59, 130, 246, 0.4); }
        .method.get { background: rgba(16, 185, 129, 0.2); color: #34d399; border: 1px solid rgba(16, 185, 129, 0.4); }
        
        .url { color: var(--text-main); }

        .credit-cost {
            margin-left: auto;
            background: rgba(236, 72, 153, 0.15);
            color: var(--secondary);
            padding: 0.2rem 0.6rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            border: 1px solid rgba(236, 72, 153, 0.3);
        }

        /* --- Cards & Panels --- */
        .info-panel {
            background: var(--bg-card);
            border: 1px solid var(--border-light);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .alert {
            padding: 1rem 1.5rem;
            border-radius: 8px;
            border-left: 4px solid;
            margin-bottom: 2rem;
            font-size: 0.95rem;
        }
        .alert.critical { background: rgba(239, 68, 68, 0.1); border-color: var(--danger); color: #fca5a5; }
        .alert.info { background: rgba(59, 130, 246, 0.1); border-color: var(--accent-blue); color: #93c5fd; }

        /* --- Tables --- */
        .params-table {
            width: 100%;
            border-collapse: collapse;
            margin: 1.5rem 0;
            background: var(--bg-panel);
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid var(--border-light);
        }
        .params-table th { text-align: left; background: rgba(255,255,255,0.03); padding: 1rem; color: #fff; font-size: 0.9rem; }
        .params-table td { padding: 1rem; border-top: 1px solid var(--border-light); color: var(--text-muted); font-size: 0.95rem; }
        .params-table code { background: rgba(255,255,255,0.1); padding: 0.2rem 0.4rem; border-radius: 4px; color: var(--primary); font-family: var(--font-mono); font-size: 0.85rem; }

        /* --- Code Blocks & Tabs --- */
        .code-wrapper {
            background: #0d0d12;
            border-radius: 12px;
            border: 1px solid var(--border-light);
            overflow: hidden;
            margin: 2rem 0;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .code-header {
            display: flex;
            background: rgba(255,255,255,0.02);
            border-bottom: 1px solid var(--border-light);
            padding: 0 1rem;
        }
        
        .code-tab {
            background: none;
            border: none;
            color: var(--text-dim);
            padding: 1rem 1.5rem;
            cursor: pointer;
            font-size: 0.85rem;
            font-weight: 600;
            position: relative;
            transition: color 0.3s;
        }
        
        .code-tab:hover { color: #fff; }
        .code-tab.active { color: var(--primary); }
        .code-tab.active::after {
            content: ''; position: absolute; bottom: -1px; left: 0; right: 0; height: 2px;
            background: var(--primary); box-shadow: 0 -2px 10px var(--primary);
        }

        .copy-btn {
            margin-left: auto;
            align-self: center;
            background: transparent;
            border: 1px solid var(--border-light);
            color: var(--text-muted);
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            cursor: pointer;
            font-size: 0.75rem;
            transition: all 0.2s;
        }
        .copy-btn:hover { border-color: var(--primary); color: #fff; }

        pre[class*="language-"] { margin: 0 !important; border-radius: 0 !important; background: transparent !important; padding: 1.5rem !important; }
        code[class*="language-"] { font-family: var(--font-mono) !important; font-size: 0.9rem !important; }

        /* --- Live Playground (The "Actionic" Part) --- */
        .playground {
            background: linear-gradient(145deg, #13121a 0%, #0e0d13 100%);
            border: 1px solid var(--border-light);
            border-radius: 16px;
            padding: 2rem;
            margin-top: 3rem;
            position: relative;
            overflow: hidden;
        }
        
        .playground::before {
            content: '';
            position: absolute; top: 0; left: 0; width: 100%; height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
        }

        .playground-title {
            font-size: 1.1rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: #fff;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        .playground-title svg { width: 20px; height: 20px; color: var(--success); }

        .input-group { margin-bottom: 1.2rem; }
        .input-group label { display: block; color: var(--text-muted); font-size: 0.85rem; margin-bottom: 0.5rem; font-weight: 500; }
        
        .control-input {
            width: 100%;
            background: #050508;
            border: 1px solid var(--border-light);
            padding: 0.8rem 1rem;
            border-radius: 8px;
            color: #fff;
            font-family: var(--font-mono);
            font-size: 0.9rem;
            transition: 0.3s;
        }
        
        .control-input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(168, 85, 247, 0.15); }

        .action-btn {
            background: linear-gradient(90deg, var(--primary), #9333ea);
            color: #fff;
            border: none;
            padding: 1rem 2rem;
            border-radius: 8px;
            font-weight: 600;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 4px 15px rgba(168, 85, 247, 0.4);
            width: 100%;
            margin-top: 1rem;
        }
        
        .action-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(168, 85, 247, 0.6); }
        .action-btn:disabled { opacity: 0.6; cursor: wait; }

        .response-area {
            margin-top: 2rem;
            background: #000;
            border-radius: 8px;
            border: 1px solid var(--border-light);
            padding: 1rem;
            position: relative;
        }
        
        .response-label { position: absolute; top: -10px; left: 15px; background: #000; padding: 0 10px; color: var(--text-dim); font-size: 0.75rem; text-transform: uppercase; }
        
        .response-content {
            font-family: var(--font-mono);
            font-size: 0.85rem;
            color: var(--success);
            white-space: pre-wrap;
            word-break: break-all;
            max-height: 400px;
            overflow-y: auto;
        }

        .img-preview { width: 100%; border-radius: 8px; margin-top: 1rem; display: none; border: 1px solid var(--border-light); }

        /* --- Mobile --- */
        @media (max-width: 900px) {
            .layout-container { flex-direction: column; }
            .sidebar { width: 100%; height: auto; position: sticky; border-right: none; border-bottom: 1px solid var(--border-light); }
            .content-area { margin-left: 0; padding: 2rem 1.5rem; }
            .nav-links { display: none; /* Add toggle logic if needed, but horizontal scroll better for docs */ }
            /* Simple mobile nav tweak */
            .nav-links.mobile-visible { display: block; }
            .mobile-toggle { display: block; position: absolute; right: 20px; top: 30px; background: none; border: none; color: #fff; font-size: 1.5rem; }
        }
        @media (min-width: 901px) { .mobile-toggle { display: none; } }
    </style>
</head>
<body>

<div class="layout-container">
    <!-- Sidebar -->
    <nav class="sidebar">
        <div class="logo-area">
            <a href="https://elvionai.com.ng" class="logo-text">Elvion AI</a>
            <span class="logo-sub">Developer Hub</span>
            <button class="mobile-toggle">☰</button>
        </div>
        <div class="nav-links" id="navLinks">
            <div class="nav-group">
                <div class="nav-title">Start Here</div>
                <a href="#intro" class="nav-item">Introduction</a>
                <a href="#auth" class="nav-item">Authentication</a>
                <a href="#keys" class="nav-item" style="color: var(--danger);">Critical: Keys</a>
            </div>
            <div class="nav-group">
                <div class="nav-title">Intelligence</div>
                <a href="#seraphina" class="nav-item">Seraphina Chat</a>
                <a href="#bobby" class="nav-item">Bobby Chat</a>
            </div>
            <div class="nav-group">
                <div class="nav-title">Vision</div>
                <a href="#generation" class="nav-item">Generate Image</a>
            </div>
             <div class="nav-group">
                <div class="nav-title">Support</div>
                <a href="#errors" class="nav-item">Errors & Debug</a>
            </div>
        </div>
    </nav>

    <!-- Content -->
    <main class="content-area">
        
        <!-- Intro -->
        <section id="intro">
            <h1>Build with <span style="background: linear-gradient(90deg, #a855f7, #ec4899); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">Sentience.</span></h1>
            <p>Welcome to the Elvion AI API. This documentation empowers you to weave our advanced conversational and generative models into the fabric of your applications. From the analytical depth of Seraphina to the creative sparks of Bobby and our visual engines, the tools of the future are now in your hands.</p>
            
            <div class="info-panel" style="border-left: 4px solid var(--primary);">
                <strong>Base URL:</strong> 
                <code style="background: rgba(0,0,0,0.3); padding: 5px; border-radius: 4px; color: var(--accent-cyan); font-family: var(--font-mono);">https://web-production-9a18.up.railway.app</code>
            </div>
            <p style="font-size: 0.9rem;">Don't have an account? <a href="https://elvionai.com.ng/developer-login.html" target="_blank">Get your Developer Key &rarr;</a></p>
        </section>

        <!-- Auth -->
        <section id="auth">
            <h2>Authentication</h2>
            <p>Security is paramount in the Elvion ecosystem. All requests to protected endpoints must be authenticated using your unique API Key.</p>
            
            <div class="info-panel">
                <p style="margin-bottom: 0.5rem;">Pass your key in the <strong>Authorization</strong> header:</p>
                <code style="display:block; background: #050508; padding: 1rem; border-radius: 6px; font-family: var(--font-mono); border: 1px solid var(--border-light); color: var(--text-main);">
                    Authorization: Bearer elv_sec_xxxxxxxxxxxxxxxxxxxx
                </code>
            </div>
        </section>

        <!-- Seraphina -->
        <section id="seraphina">
            <h2>Seraphina Chat</h2>
            <div class="endpoint-badge">
                <span class="method post">POST</span>
                <span class="url">/api/developer/seraphina/chat</span>
                <span class="credit-cost">5 Credits</span>
            </div>
            <p>Access Seraphina, the "Nonchalant Guru." Specialized in deep research, factual analysis, and structured logic. Powered by live data access capabilities.</p>

            <table class="params-table">
                <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                <tbody>
                    <tr><td><code>message</code></td><td>string</td><td>Yes</td><td>The user's query or prompt.</td></tr>
                    <tr><td><code>stream</code></td><td>boolean</td><td>No</td><td>Defaults to <code>true</code>. Set <code>false</code> for JSON response.</td></tr>
                    <tr><td><code>history</code></td><td>array</td><td>No</td><td>Contextual history. Objects with <code>role</code> and <code>content</code>.</td></tr>
                </tbody>
            </table>

            <!-- Code Tabs -->
            <div class="code-wrapper">
                <div class="code-header">
                    <button class="code-tab active" onclick="switchTab(this, 'bash')">cURL</button>
                    <button class="code-tab" onclick="switchTab(this, 'python')">Python</button>
                    <button class="code-tab" onclick="switchTab(this, 'js')">JavaScript</button>
                    <button class="copy-btn">Copy Code</button>
                </div>
                <div class="code-content">
                    <pre class="language-bash active"><code>curl -X POST "https://web-production-9a18.up.railway.app/api/developer/seraphina/chat" \
-H "Authorization: Bearer YOUR_ELVION_KEY" \
-H "Content-Type: application/json" \
-d '{
  "message": "Explain quantum entanglement simply.",
  "stream": false
}'</code></pre>
                    <pre class="language-python" style="display:none;"><code>import requests

url = "https://web-production-9a18.up.railway.app/api/developer/seraphina/chat"
headers = {
    "Authorization": "Bearer YOUR_ELVION_KEY",
    "Content-Type": "application/json"
}
data = {
    "message": "Explain quantum entanglement simply.",
    "stream": False
}

response = requests.post(url, json=data, headers=headers)
print(response.json())</code></pre>
                    <pre class="language-javascript" style="display:none;"><code>const url = "https://web-production-9a18.up.railway.app/api/developer/seraphina/chat";

fetch(url, {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_ELVION_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    message: "Explain quantum entanglement simply.",
    stream: false
  })
})
.then(res => res.json())
.then(console.log);</code></pre>
                </div>
            </div>

            <!-- Live Test -->
            <div class="playground">
                <div class="playground-title">
                    <svg fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M11.3 1.046A1 1 0 0112 2v5h4a1 1 0 01.82 1.573l-7 10A1 1 0 018 18v-5H4a1 1 0 01-.82-1.573l7-10a1 1 0 011.12-.38z" clip-rule="evenodd"></path></svg>
                    Live Test Console
                </div>
                <div class="input-group">
                    <label>API Key</label>
                    <input type="password" id="key-seraphina" class="control-input" placeholder="elv_sec_...">
                </div>
                <div class="input-group">
                    <label>Message</label>
                    <input type="text" id="msg-seraphina" class="control-input" value="What is the future of AI?">
                </div>
                <button class="action-btn" onclick="testApi('seraphina')">Transmit</button>
                <div class="response-area">
                    <div class="response-label">Output Stream</div>
                    <div class="response-content" id="res-seraphina">// Response will appear here...</div>
                </div>
            </div>
        </section>

        <!-- Bobby -->
        <section id="bobby">
            <h2>Bobby Chat</h2>
            <div class="endpoint-badge">
                <span class="method post">POST</span>
                <span class="url">/api/developer/bobby/chat</span>
                <span class="credit-cost">2 Credits</span>
            </div>
            <p>Bobby is the empathetic, creative core of Elvion. Ideal for storytelling, emotional intelligence, and coding assistance.</p>

            <table class="params-table">
                <thead><tr><th>Parameter</th><th>Type</th><th>Required</th><th>Description</th></tr></thead>
                <tbody>
                    <tr><td><code>prompt</code></td><td>string</td><td>Yes</td><td>The input text/query.</td></tr>
                    <tr><td><code>systemPrompt</code></td><td>string</td><td>No</td><td>Custom instructions to steer personality.</td></tr>
                </tbody>
            </table>

            <div class="playground">
                <div class="playground-title">Live Test Console</div>
                <div class="input-group">
                    <label>API Key</label>
                    <input type="password" id="key-bobby" class="control-input" placeholder="elv_sec_...">
                </div>
                <div class="input-group">
                    <label>Prompt</label>
                    <input type="text" id="msg-bobby" class="control-input" value="Write a poem about neon lights in rain.">
                </div>
                <button class="action-btn" onclick="testApi('bobby')">Transmit</button>
                <div class="response-area">
                    <div class="response-label">Output</div>
                    <div class="response-content" id="res-bobby">// Response will appear here...</div>
                </div>
            </div>
        </section>

        <!-- Image Generation -->
        <section id="generation">
            <h2>Generate Image</h2>
            <div class="endpoint-badge">
                <span class="method post">POST</span>
                <span class="url">/api/developer/generate-image</span>
                <span class="credit-cost">15 Credits</span>
            </div>
            <p>Materialize concepts into high-fidelity visuals. Supports multiple engines including V6, Photoreal, and Anime.</p>

            <table class="params-table">
                <thead><tr><th>Parameter</th><th>Type</th><th>Default</th><th>Description</th></tr></thead>
                <tbody>
                    <tr><td><code>prompt</code></td><td>string</td><td>-</td><td>Detailed visual description.</td></tr>
                    <tr><td><code>model</code></td><td>string</td><td>"v6"</td><td>Options: <code>v6</code>, <code>photoreal</code>, <code>anime_core</code>, <code>movie</code>.</td></tr>
                    <tr><td><code>width/height</code></td><td>int</td><td>-</td><td>Dimensions of the output.</td></tr>
                </tbody>
            </table>

            <div class="playground">
                <div class="playground-title">Vision Console</div>
                <div class="input-group">
                    <label>API Key</label>
                    <input type="password" id="key-gen" class="control-input" placeholder="elv_sec_...">
                </div>
                <div class="input-group">
                    <label>Prompt</label>
                    <input type="text" id="prompt-gen" class="control-input" value="Cyberpunk city with purple neon rain, 8k, realistic">
                </div>
                <div class="input-group">
                    <label>Model Style</label>
                    <select id="model-gen" class="control-input">
                        <option value="v6">V6 (Standard)</option>
                        <option value="photoreal">Photorealistic</option>
                        <option value="anime_core">Anime</option>
                        <option value="movie">Cinematic</option>
                    </select>
                </div>
                <button class="action-btn" onclick="testApi('image')">Generate (This takes time)</button>
                <div class="response-area">
                    <div class="response-label">Visual Output</div>
                    <div class="response-content" id="res-gen">// JSON Data...</div>
                    <img id="img-result" class="img-preview" alt="Generated result">
                </div>
            </div>
        </section>

        <!-- Error Handling -->
        <section id="errors">
            <h2>Error Handling</h2>
            <p>Common issues you might encounter and how to resolve them.</p>
            
            <div class="info-panel">
                <h4 style="color: var(--warning); margin-top:0;">402 Payment Required</h4>
                <p>Your account has insufficient credits. Please top up via the dashboard.</p>
                <hr style="border:0; border-top:1px solid var(--border-light); margin:1rem 0;">
                
                <h4 style="color: var(--danger); margin-top:0;">500 Internal Server Error (Specific)</h4>
                <p>If the error mentions <code>Thena API key not configured</code>, your Backend Host (Railway) does not have the environment variable set. This is not a client-side error.</p>
            </div>
        </section>

    </main>
</div>

<!-- Prism JS for syntax highlighting -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-bash.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-json.min.js"></script>

<script>
    // --- Tab Switching Logic ---
    function switchTab(btn, lang) {
        const wrapper = btn.closest('.code-wrapper');
        // Update Buttons
        wrapper.querySelectorAll('.code-tab').forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        
        // Update Content
        wrapper.querySelectorAll('pre').forEach(p => p.style.display = 'none');
        const map = { 'bash': 'language-bash', 'python': 'language-python', 'js': 'language-javascript' };
        const targetClass = map[lang];
        wrapper.querySelector(`.${targetClass}`).style.display = 'block';
    }

    // --- Copy Logic ---
    document.querySelectorAll('.copy-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            const wrapper = btn.closest('.code-wrapper');
            const visibleCode = wrapper.querySelector('pre[style*="block"] code') || wrapper.querySelector('pre:not([style*="none"]) code');
            
            if(visibleCode) {
                navigator.clipboard.writeText(visibleCode.innerText);
                const originalText = btn.innerText;
                btn.innerText = "Copied!";
                btn.style.color = "#10b981";
                btn.style.borderColor = "#10b981";
                setTimeout(() => {
                    btn.innerText = originalText;
                    btn.style.color = "";
                    btn.style.borderColor = "";
                }, 2000);
            }
        });
    });

    // --- Mobile Nav Toggle ---
    document.querySelector('.mobile-toggle').addEventListener('click', () => {
        document.getElementById('navLinks').classList.toggle('mobile-visible');
    });

    // --- Active Link Highlighter ---
    const sections = document.querySelectorAll('section');
    const navItems = document.querySelectorAll('.nav-item');

    window.addEventListener('scroll', () => {
        let current = '';
        sections.forEach(section => {
            const sectionTop = section.offsetTop;
            if (pageYOffset >= sectionTop - 200) {
                current = section.getAttribute('id');
            }
        });

        navItems.forEach(item => {
            item.classList.remove('active');
            if (item.getAttribute('href').includes(current)) {
                item.classList.add('active');
            }
        });
    });

    // --- API Testing Logic ---
    const BASE_URL = "https://web-production-9a18.up.railway.app";

    async function testApi(type) {
        let endpoint, body, keyField, resField, btn;
        
        if (type === 'seraphina') {
            endpoint = '/api/developer/seraphina/chat';
            keyField = 'key-seraphina';
            resField = 'res-seraphina';
            body = { 
                message: document.getElementById('msg-seraphina').value,
                stream: false 
            };
        } else if (type === 'bobby') {
            endpoint = '/api/developer/bobby/chat';
            keyField = 'key-bobby';
            resField = 'res-bobby';
            body = { prompt: document.getElementById('msg-bobby').value };
        } else if (type === 'image') {
            endpoint = '/api/developer/generate-image';
            keyField = 'key-gen';
            resField = 'res-gen';
            body = { 
                prompt: document.getElementById('prompt-gen').value,
                model: document.getElementById('model-gen').value
            };
            document.getElementById('img-result').style.display = 'none';
        }

        const apiKey = document.getElementById(keyField).value;
        const resBox = document.getElementById(resField);
        btn = document.activeElement; // The button clicked

        if (!apiKey) {
            resBox.innerHTML = "<span style='color:var(--danger)'>Error: API Key is required.</span>";
            return;
        }

        // UI Loading State
        const originalBtnText = btn.innerText;
        btn.innerText = "Processing...";
        btn.disabled = true;
        resBox.innerText = "Transmitting to Elvion Neural Network...";
        resBox.style.color = "#9ca3af";

        try {
            const req = await fetch(`${BASE_URL}${endpoint}`, {
                method: 'POST',
                headers: {
                    'Authorization': `Bearer ${apiKey.replace('Bearer ', '')}`,
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(body)
            });

            const data = await req.json();

            if (!req.ok) {
                throw new Error(data.detail || `Server Error: ${req.status}`);
            }

            // Success Handling
            resBox.style.color = "var(--success)";
            
            if (type === 'image') {
                resBox.innerText = JSON.stringify({ status: "success", width: data.width, height: data.height }, null, 2);
                if (data.image_b64) {
                    const img = document.getElementById('img-result');
                    img.src = `data:image/png;base64,${data.image_b64}`;
                    img.style.display = 'block';
                }
            } else {
                resBox.innerText = JSON.stringify(data, null, 2);
            }

        } catch (err) {
            resBox.style.color = "var(--danger)";
            resBox.innerText = `Error: ${err.message}`;
            if(err.message.includes("Thena API")) {
                resBox.innerHTML += "\n\n<span style='color:#fff'>[Hint]: Your Backend Server (Railway) is missing the 'THENA_API_KEY' environment variable.</span>";
            }
        } finally {
            btn.innerText = originalBtnText;
            btn.disabled = false;
        }
    }
</script>

</body>
</html>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J1YTKP10ZX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date()); 

  gtag('config', 'G-J1YTKP10ZX');
</script>
