<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Course Viewer | Elvion University</title>
  <meta name="description" content="Learn with interactive courses at Elvion University">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --dark-navy: #00001a;
      --black-bg: #000000;
      --cyan-glow: #00ffff;
      --light-blue-glow: #00aaff;
      --text-color: #e0e0e0;
      --heading-color: #ffffff;
      --gradient-start: #0a1128;
      --gradient-end: #121a30;
      --card-bg: rgba(18, 26, 48, 0.85);
      --border-glow: 0 0 10px var(--cyan-glow), 0 0 20px var(--light-blue-glow);
      --hover-glow: 0 0 15px var(--cyan-glow), 0 0 30px var(--light-blue-glow);
      --button-bg: linear-gradient(45deg, var(--cyan-glow), var(--light-blue-glow));
      --button-text-color: var(--black-bg);
      --star-color: rgba(255, 255, 255, 0.7);
      --sidebar-width: 300px;
      --success-color: #4ade80;
      --warning-color: #fbbf24;
      --error-color: #f87171;
      --primary-color: var(--cyan-glow);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html { scroll-behavior: smooth; }

    body {
      font-family: 'Inter', sans-serif;
      background-color: var(--black-bg);
      color: var(--text-color);
      line-height: 1.7;
      overflow-x: hidden;
      position: relative;
      min-height: 100vh;
    }

    h1, h2, h3, h4, h5, h6 {
      font-family: 'Orbitron', sans-serif;
      color: var(--heading-color);
      margin-top: 0;
    }

    /* Stars Animation */
    #stars-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 0;
      overflow: hidden;
    }

    .star {
      position: absolute;
      background-color: var(--star-color);
      border-radius: 50%;
      opacity: 0;
      animation: twinkle 4s infinite ease-in-out;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0; transform: scale(0.5); }
      50% { opacity: 1; transform: scale(1); }
    }

    /* Main Layout */
    .course-viewer-container {
      display: flex;
      min-height: 100vh;
      position: relative;
      z-index: 1;
    }

    /* Course Sidebar */
    .course-sidebar {
      width: var(--sidebar-width);
      background: var(--card-bg);
      backdrop-filter: blur(10px);
      border-right: 1px solid rgba(0, 255, 255, 0.2);
      position: fixed;
      height: 100vh;
      overflow-y: auto;
      z-index: 100;
      transition: transform 0.3s ease;
    }

    .course-sidebar-header {
      padding: 1.5rem;
      border-bottom: 1px solid rgba(0, 255, 255, 0.1);
    }

    .back-btn {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      color: var(--cyan-glow);
      text-decoration: none;
      font-weight: 600;
      padding: 0.8rem;
      border-radius: 8px;
      transition: all 0.3s ease;
      margin-bottom: 1rem;
    }

    .back-btn:hover {
      background: rgba(0, 255, 255, 0.1);
    }

    .course-info {
      text-align: center;
    }

    .course-icon-large {
      font-size: 3rem;
      color: var(--cyan-glow);
      text-shadow: var(--border-glow);
      margin-bottom: 1rem;
    }

    .course-title {
      font-size: 1.4rem;
      margin-bottom: 0.5rem;
      color: var(--heading-color);
    }

    .course-subtitle {
      font-size: 0.9rem;
      color: var(--text-color);
      opacity: 0.8;
      margin-bottom: 1rem;
    }

    .overall-progress {
      background: rgba(0, 0, 0, 0.3);
      border-radius: 10px;
      padding: 1rem;
      margin-bottom: 1rem;
    }

    .progress-label {
      font-size: 0.85rem;
      color: var(--text-color);
      margin-bottom: 0.5rem;
    }

    .progress-bar-container {
      width: 100%;
      height: 8px;
      background: rgba(0, 255, 255, 0.1);
      border-radius: 10px;
      overflow: hidden;
      margin-bottom: 0.5rem;
    }

    .progress-bar-fill {
      height: 100%;
      background: var(--button-bg);
      border-radius: 10px;
      transition: width 0.8s ease;
      box-shadow: 0 0 10px var(--cyan-glow);
    }

    .progress-text {
      font-size: 0.85rem;
      color: var(--cyan-glow);
      font-weight: 600;
    }

    /* Lessons List */
    .lessons-list {
      padding: 1rem 0;
    }

    .lessons-header {
      padding: 0 1.5rem 1rem 1.5rem;
      font-size: 1.1rem;
      color: var(--heading-color);
      border-bottom: 1px solid rgba(0, 255, 255, 0.1);
    }

    .lesson-item {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1rem 1.5rem;
      cursor: pointer;
      transition: all 0.3s ease;
      border-left: 3px solid transparent;
    }

    .lesson-item:hover {
      background: rgba(0, 255, 255, 0.05);
    }

    .lesson-item.active {
      background: rgba(0, 255, 255, 0.1);
      border-left-color: var(--cyan-glow);
    }

    .lesson-item.completed {
      opacity: 0.8;
    }

    .lesson-status {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.8rem;
      flex-shrink: 0;
    }

    .lesson-status.completed {
      background: var(--success-color);
      color: var(--black-bg);
    }

    .lesson-status.current {
      background: var(--cyan-glow);
      color: var(--black-bg);
    }

    .lesson-status.locked {
      background: rgba(255, 255, 255, 0.1);
      color: var(--text-color);
    }

    .lesson-details {
      flex: 1;
    }

    .lesson-title {
      font-size: 0.9rem;
      font-weight: 600;
      color: var(--heading-color);
      margin-bottom: 0.3rem;
    }

    .lesson-duration {
      font-size: 0.8rem;
      color: var(--text-color);
      opacity: 0.7;
    }

    /* Mobile Menu Toggle */
    .mobile-menu-toggle {
      display: none;
      position: fixed;
      top: 1rem;
      left: 1rem;
      z-index: 101;
      background: var(--card-bg);
      border: 1px solid var(--cyan-glow);
      border-radius: 8px;
      padding: 0.5rem 0.8rem;
      color: var(--cyan-glow);
      cursor: pointer;
      box-shadow: var(--border-glow);
    }

    /* Content Area */
    .content-area {
      flex: 1;
      margin-left: var(--sidebar-width);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    .content-header {
      background: var(--card-bg);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(0, 255, 255, 0.1);
      padding: 1.5rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .lesson-info h1 {
      font-size: 1.5rem;
      margin-bottom: 0.5rem;
    }

    .lesson-meta {
      display: flex;
      gap: 1.5rem;
      font-size: 0.9rem;
      color: var(--text-color);
    }

    .lesson-meta span {
      display: flex;
      align-items: center;
      gap: 0.3rem;
    }

    .content-actions {
      display: flex;
      gap: 1rem;
      align-items: center;
    }

    .action-btn {
      padding: 0.8rem 1.5rem;
      background: var(--button-bg);
      color: var(--button-text-color);
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-family: 'Inter', sans-serif;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .action-btn:hover {
      box-shadow: var(--border-glow);
      transform: scale(1.05);
    }

    .action-btn.secondary {
      background: transparent;
      border: 2px solid var(--cyan-glow);
      color: var(--cyan-glow);
    }

    .action-btn.secondary:hover {
      background: var(--cyan-glow);
      color: var(--black-bg);
    }

    .action-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
      transform: none;
    }

    /* Main Content */
    .main-content {
      flex: 1;
      padding: 2rem;
      background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
    }

    .content-card {
      background: var(--card-bg);
      border-radius: 15px;
      padding: 2rem;
      box-shadow: var(--border-glow);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(0, 255, 255, 0.1);
      margin-bottom: 2rem;
      max-width: 900px; /* Fitting to page constraint */
      margin-left: auto;
      margin-right: auto;
    }

    .lesson-content {
      line-height: 1.8;
      font-size: 1.1rem;
    }

    .lesson-content h2 {
      color: var(--cyan-glow);
      margin: 2rem 0 1rem 0;
      font-size: 1.4rem;
    }

    .lesson-content h3 {
      color: var(--heading-color);
      margin: 1.5rem 0 0.8rem 0;
      font-size: 1.2rem;
    }

    .lesson-content p {
      margin-bottom: 1.2rem;
    }

    .lesson-content ul, .lesson-content ol {
      margin: 1rem 0 1rem 2rem;
    }

    .lesson-content li {
      margin-bottom: 0.5rem;
    }
    
    /* Code block styling for practical examples */
    .lesson-content code {
      background: rgba(0, 255, 255, 0.1);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      color: var(--cyan-glow);
      font-family: 'Courier New', monospace;
    }

    .lesson-content pre {
      background: rgba(0, 0, 0, 0.5);
      padding: 1.5rem;
      border-radius: 8px;
      border-left: 4px solid var(--cyan-glow);
      overflow-x: auto;
      margin: 1.5rem 0;
      box-shadow: 0 0 5px rgba(0, 255, 255, 0.3);
      position: relative;
    }

    .lesson-content pre code {
      background: none;
      padding: 0;
      color: var(--text-color);
      display: block;
      white-space: pre-wrap;
      word-break: break-all;
    }

    /* Interactive Code/Markdown Area Simulation */
    .interactive-code-area {
        background: #1e1e2d;
        border: 2px solid var(--primary-color);
        border-radius: 8px;
        padding: 1rem;
        margin: 1.5rem 0;
        box-shadow: 0 0 10px rgba(0, 255, 255, 0.5);
    }
    .interactive-code-area textarea {
        width: 100%;
        min-height: 150px;
        background: transparent;
        color: var(--success-color);
        border: none;
        resize: vertical;
        padding: 0.5rem;
        font-family: 'Courier New', monospace;
        font-size: 1rem;
        outline: none;
    }
    .interactive-code-area .output {
        border-top: 1px dashed rgba(255, 255, 255, 0.2);
        padding-top: 0.5rem;
        color: var(--warning-color);
        font-size: 0.9rem;
        min-height: 30px;
        margin-top: 0.5rem;
    }
    .interactive-code-area .area-header {
        font-size: 0.8rem;
        color: var(--primary-color);
        margin-bottom: 0.5rem;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }


    /* Video Player Placeholder */
    .media-player {
      width: 100%;
      height: 400px;
      background: linear-gradient(135deg, var(--gradient-start), var(--gradient-end));
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 2rem;
      border: 1px solid rgba(0, 255, 255, 0.2);
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }

    .media-placeholder {
      text-align: center;
      color: var(--text-color);
    }

    .media-placeholder i {
      font-size: 4rem;
      color: var(--cyan-glow);
      margin-bottom: 1rem;
      display: block;
    }

    /* Navigation Controls */
    .lesson-navigation {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1.5rem 2rem;
      background: var(--card-bg);
      backdrop-filter: blur(10px);
      border-top: 1px solid rgba(0, 255, 255, 0.1);
    }

    .nav-info {
      display: flex;
      align-items: center;
      gap: 1rem;
      font-size: 0.9rem;
      color: var(--text-color);
    }

    .lesson-indicator {
      background: rgba(0, 255, 255, 0.1);
      padding: 0.5rem 1rem;
      border-radius: 20px;
      border: 1px solid rgba(0, 255, 255, 0.3);
    }

    .nav-buttons {
      display: flex;
      gap: 1rem;
    }

    /* Quiz/Assessment Styles */
    .quiz-container {
      background: var(--card-bg);
      border-radius: 15px;
      padding: 2rem;
      box-shadow: var(--border-glow);
      backdrop-filter: blur(5px);
      border: 1px solid rgba(0, 255, 255, 0.1);
      margin-bottom: 2rem;
      max-width: 900px;
      margin-left: auto;
      margin-right: auto;
    }

    .quiz-question {
      font-size: 1.2rem;
      color: var(--heading-color);
      margin-bottom: 1.5rem;
      border-bottom: 1px solid rgba(0, 255, 255, 0.1);
      padding-bottom: 1rem;
    }

    .quiz-options {
      display: grid;
      gap: 1rem;
      margin-bottom: 2rem;
    }

    .quiz-option {
      padding: 1rem 1.5rem;
      background: rgba(0, 0, 0, 0.3);
      border: 2px solid rgba(0, 255, 255, 0.2);
      border-radius: 8px;
      cursor: pointer;
      transition: all 0.3s ease, transform 0.1s ease; /* Added transform for animation */
      color: var(--text-color);
      position: relative;
    }

    .quiz-option:hover {
      border-color: var(--cyan-glow);
      background: rgba(0, 255, 255, 0.05);
      transform: translateY(-2px); /* Slight hover animation */
    }

    .quiz-option.selected {
      border-color: var(--cyan-glow);
      background: rgba(0, 255, 255, 0.1);
      color: var(--cyan-glow);
    }
    
    /* Correct/Incorrect state styling with simple animation */
    .quiz-option.correct {
      border-color: var(--success-color) !important;
      background: rgba(74, 222, 128, 0.1) !important;
      color: var(--success-color) !important;
      animation: flash-correct 0.3s ease-in-out;
    }

    .quiz-option.incorrect {
      border-color: var(--error-color) !important;
      background: rgba(248, 113, 113, 0.1) !important;
      color: var(--error-color) !important;
      animation: shake 0.3s;
    }
    
    .quiz-option.correct::after {
      content: ' (Correct)';
      color: var(--success-color);
      font-weight: bold;
      margin-left: 10px;
    }
    .quiz-option.incorrect::after {
      content: ' (Incorrect)';
      color: var(--error-color);
      font-weight: bold;
      margin-left: 10px;
    }
    
    @keyframes flash-correct {
        0% { opacity: 0.5; }
        100% { opacity: 1; }
    }
    
    @keyframes shake {
        0%, 100% { transform: translateX(0); }
        20%, 60% { transform: translateX(-5px); }
        40%, 80% { transform: translateX(5px); }
    }


    .quiz-feedback {
      padding: 1rem;
      border-radius: 8px;
      margin-top: 1rem;
      display: none;
    }

    .quiz-feedback.correct {
      background: rgba(74, 222, 128, 0.1);
      border: 1px solid rgba(74, 222, 128, 0.3);
      color: var(--success-color);
      display: block;
    }

    .quiz-feedback.incorrect {
      background: rgba(248, 113, 113, 0.1);
      border: 1px solid rgba(248, 113, 113, 0.3);
      color: var(--error-color);
      display: block;
    }
    
    /* Completion Modal Adjustments */
    .completion-modal .completion-icon {
        font-size: 4rem;
        color: var(--success-color);
        text-shadow: 0 0 10px var(--success-color);
        margin-bottom: 1rem;
        animation: pulse 1s infinite alternate;
    }
    
    .completion-modal .points-earned {
        font-size: 1.2rem;
        font-weight: 700;
        color: var(--cyan-glow);
        margin: 1.5rem 0;
        padding: 0.5rem 1rem;
        background: rgba(0, 255, 255, 0.1);
        border-radius: 8px;
        display: inline-block;
        border: 1px solid var(--cyan-glow);
    }
    
    @keyframes pulse {
        from { transform: scale(1); opacity: 0.8; }
        to { transform: scale(1.05); opacity: 1; }
    }


    /* Certificate Form & Final Page Styles */
    .final-page-content {
      max-width: 900px;
      margin: 0 auto;
      text-align: center;
    }
    .certificate-form-card {
      background: var(--card-bg);
      border-radius: 15px;
      padding: 3rem;
      box-shadow: var(--hover-glow);
      border: 1px solid var(--primary-color);
      text-align: left;
      margin-top: 2rem;
    }
    .certificate-form-card h2 {
      color: var(--success-color);
      text-shadow: 0 0 10px var(--success-color);
      margin-bottom: 1.5rem;
    }
    .certificate-form-card label {
      display: block;
      margin-top: 1rem;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: var(--text-color);
    }
    .certificate-form-card input[type="text"],
    .certificate-form-card input[type="email"] {
      width: 100%;
      padding: 0.8rem;
      border: 2px solid rgba(0, 255, 255, 0.3);
      border-radius: 8px;
      background: rgba(0, 0, 0, 0.3);
      color: var(--text-color);
      font-size: 1rem;
      transition: border-color 0.3s ease;
    }
    .certificate-form-card input:focus {
      border-color: var(--cyan-glow);
      box-shadow: 0 0 5px var(--cyan-glow);
      outline: none;
    }
    .certificate-form-card .submit-btn {
      width: 100%;
      margin-top: 2rem;
    }

    /* Comment Section Styles */
    .comment-section {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        padding: 1.5rem;
        margin-top: 2rem;
        border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .comment-section textarea {
        width: 100%;
        min-height: 100px;
        padding: 1rem;
        border-radius: 8px;
        border: 2px solid rgba(0, 255, 255, 0.3);
        background: rgba(0, 0, 0, 0.5);
        color: var(--text-color);
        font-size: 1rem;
        resize: vertical;
        outline: none;
        transition: border-color 0.3s ease;
    }
    .comment-section textarea:focus {
        border-color: var(--cyan-glow);
        box-shadow: 0 0 5px var(--cyan-glow);
    }
    .comment-section .comment-btn {
        margin-top: 1rem;
        padding: 0.6rem 1.2rem;
        font-weight: 500;
        float: right;
    }

    /* Completion Modal */
    .completion-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.8);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
      backdrop-filter: blur(5px);
    }

    .completion-content {
      background: var(--card-bg);
      padding: 3rem;
      border-radius: 15px;
      text-align: center;
      max-width: 500px;
      box-shadow: var(--hover-glow);
      border: 1px solid rgba(0, 255, 255, 0.3);
    }
    
    /* Loading State */
    .loading-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 50vh;
    }

    .loading-spinner {
      width: 60px;
      height: 60px;
      border: 4px solid rgba(0, 255, 255, 0.1);
      border-top-color: var(--cyan-glow);
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    .loading-text {
      margin-top: 1rem;
      color: var(--text-color);
      font-size: 1.1rem;
    }

    /* Responsive Design */
    @media (max-width: 992px) {
      .course-sidebar {
        transform: translateX(-100%);
      }

      .course-sidebar.active {
        transform: translateX(0);
      }

      .content-area {
        margin-left: 0;
      }

      .mobile-menu-toggle {
        display: block;
      }

      .main-content {
        padding: 1rem;
        padding-top: 4rem;
      }

      .content-header {
        padding: 1rem;
        flex-direction: column;
        align-items: flex-start;
      }

      .content-actions {
        width: 100%;
        justify-content: stretch;
      }

      .action-btn {
        flex: 1;
        justify-content: center;
      }

      .lesson-navigation {
        padding: 1rem;
        flex-direction: column;
        gap: 1rem;
      }

      .nav-buttons {
        width: 100%;
        justify-content: stretch;
      }

      .nav-buttons .action-btn {
        flex: 1;
      }
    }

    @media (max-width: 768px) {
      .media-player {
        height: 250px;
      }

      .content-card {
        padding: 1.5rem;
      }

      .completion-content {
        margin: 1rem;
        padding: 2rem;
      }

      .quiz-option {
        padding: 0.8rem 1rem;
      }
    }
  </style>
</head>
<body>
  <div id="stars-container"></div>

  <button class="mobile-menu-toggle" id="mobileMenuToggle">
    <i class="fas fa-bars"></i>
  </button>

  <div class="course-viewer-container">
    <aside class="course-sidebar" id="courseSidebar">
      <div class="course-sidebar-header">
        <a href="studyingatelvion.html" class="back-btn">
          <i class="fas fa-arrow-left"></i>
          Back to Dashboard
        </a>
        
        <div class="course-info">
          <i id="courseIconLarge" class="course-icon-large"></i>
          <h2 id="courseTitle" class="course-title">Loading...</h2>
          <p id="courseSubtitle" class="course-subtitle">Please wait...</p>
          
          <div class="overall-progress">
            <div class="progress-label">Overall Progress</div>
            <div class="progress-bar-container">
              <div id="overallProgressBar" class="progress-bar-fill" style="width: 0%"></div>
            </div>
            <div class="progress-text"><span id="overallProgressText">0% Complete</span></div>
            <div class="progress-text" style="margin-top: 0.5rem;"><i class="fas fa-trophy"></i> Total Points: <span id="totalPointsEarnedSidebar">0</span></div>
          </div>
        </div>
      </div>

      <div class="lessons-list">
        <div class="lessons-header">Course Lessons</div>
        <div id="lessonsContainer">
          </div>
      </div>
    </aside>

    <main class="content-area">
      <div class="loading-container" id="loadingContainer">
        <div class="loading-spinner"></div>
        <p class="loading-text">Loading course content...</p>
      </div>

      <header class="content-header" id="contentHeader" style="display: none;">
        <div class="lesson-info">
          <h1 id="lessonTitle">Lesson Title</h1>
          <div class="lesson-meta">
            <span><i class="fas fa-clock"></i> <span id="lessonDuration">45 min</span></span>
            <span><i class="fas fa-book"></i> Lesson <span id="currentLessonNumber">1</span> of <span id="totalLessons">8</span></span>
            <span><i class="fas fa-star"></i> <span id="lessonPoints">10</span> Points</span>
          </div>
        </div>
        <div class="content-actions">
          <button id="markCompleteBtn" class="action-btn" style="display: none;">
            <i class="fas fa-check"></i>
            Mark Complete
          </button>
        </div>
      </header>

      <section class="main-content" id="mainContent" style="display: none;">
        
        <div id="finalCoursePage" style="display: none;" class="final-page-content">
            <h1 style="color: var(--success-color); text-shadow: var(--hover-glow);">Course Completed!</h1>
            <p class="lead" style="margin-bottom: 2rem;">
                Congratulations! You have completed all lessons and earned your GP! The final step is to request your certificate.
            </p>
            
            <div class="overall-progress" style="margin-bottom: 3rem; background: var(--black-bg); border: 2px solid var(--success-color);">
                <div class="progress-label" style="font-size: 1.1rem; color: var(--success-color);">Your Final Course Grade Point (GP)</div>
                <div class="progress-text" style="font-size: 2rem; color: var(--success-color); font-weight: 800;"><span id="finalTotalPoints">0</span> Points</div>
                <p style="font-size: 0.9rem; margin-top: 0.5rem; opacity: 0.8;">(Based on 10 points per successfully completed lesson quiz)</p>
            </div>

            <div class="certificate-form-card">
                <h2>Certificate & Project Submission</h2>
                <p style="margin-bottom: 1.5rem; color: var(--warning-color);">
                    To receive your certificate, please fill in your details below. For courses with a project (e.g., Computer Science, Software Engineering, Visual Arts), please **email your Final Project** (as outlined in the last lesson) to: <strong style="color: var(--cyan-glow);">elvionailabs@gmail.com</strong>.
                </p>
                <form id="certificateForm" action="https://formspree.io/f/mldrbpwo" method="post">
                    <input type="hidden" name="_subject" id="formSubject">
                    <input type="hidden" name="Course Completed" id="completedCourseName">
                    <input type="hidden" name="Total Points Earned" id="formTotalPoints">
                    
                    <label for="fullName">Full Name (for Certificate):</label>
                    <input type="text" id="fullName" name="Full Name" required>

                    <label for="email">Email Address (for delivery):</label>
                    <input type="email" id="email" name="Email" required>

                    <label for="studentId">Elvion Student ID (Optional):</label>
                    <input type="text" id="studentId" name="Student ID">

                    <button type="submit" class="action-btn submit-btn">
                        <i class="fas fa-certificate"></i> Request Certificate
                    </button>
                </form>

                <div class="comment-section">
                    <h4>Feedback & Questions</h4>
                    <form>
                        <textarea placeholder="Share your experience, ask a question, or send a thank you note to Elvion!"></textarea>
                        <button type="submit" class="action-btn comment-btn secondary" style="background: var(--dark-navy); color: var(--cyan-glow);">Submit Feedback</button>
                    </form>
                </div>
            </div>
        </div>

        <div class="media-player" id="mediaPlayer">
          <div class="media-placeholder">
            <i class="fas fa-play-circle"></i>
            <p id="mediaPlaceholderText">Video/Media content coming soon</p>
            <p style="font-size: 0.9rem; opacity: 0.7;">For now, please read the lesson content below</p>
          </div>
        </div>

        <div class="content-card">
          <div id="lessonContent" class="lesson-content">
            </div>
        </div>

        <div id="quizContainer" class="quiz-container" style="display: none;">
          <h3 style="margin-bottom: 1.5rem; color: var(--warning-color);"><i class="fas fa-clipboard-check"></i> Mandatory Quiz: Pass to Proceed</h3>
          <p style="margin-bottom: 2rem; border-bottom: 1px solid rgba(0, 255, 255, 0.1); padding-bottom: 1rem;">
            You must correctly answer all questions below before the 'Next' lesson button is enabled.
          </p>
          <div id="quizQuestions">
            </div>
          <button id="submitQuizBtn" class="action-btn" style="width: 100%; margin-top: 2rem;">
            <i class="fas fa-paper-plane"></i> Submit Answers
          </button>
          <div id="quizResult" style="margin-top: 1rem;"></div>
        </div>
      </section>

      <nav class="lesson-navigation" id="lessonNavigation" style="display: none;">
        <div class="nav-info">
          <div class="lesson-indicator">
            Lesson <span id="navCurrentLesson">1</span> of <span id="navTotalLessons">8</span>
          </div>
          <span><i class="fas fa-trophy"></i> GP: <span id="totalPointsEarnedNav">0</span> Points</span>
        </div>
        <div class="nav-buttons">
          <button id="prevLessonBtn" class="action-btn secondary">
            <i class="fas fa-chevron-left"></i>
            Previous
          </button>
          <button id="nextLessonBtn" class="action-btn">
            Next
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </nav>
    </main>
  </div>

  <div id="completionModal" class="completion-modal">
    <div class="completion-content">
      <i class="fas fa-trophy completion-icon"></i>
      <h2 class="completion-title">Lesson Complete!</h2>
      <p class="completion-message">
        Congratulations! You've successfully completed the quiz and this lesson.
      </p>
      <div class="points-earned">
        <i class="fas fa-star"></i>
        You earned <span id="pointsEarned">10</span> points!
      </div>
      <div style="display: flex; gap: 1rem;">
        <button id="continueBtn" class="action-btn" style="flex: 1;">
          Continue Learning
        </button>
        <button id="backToDashboardBtn" class="action-btn secondary" style="flex: 1;">
          Back to Dashboard
        </button>
      </div>
    </div>
  </div>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-app.js";
    import {
        getAuth,
        onAuthStateChanged
    } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-auth.js";
    import {
        getFirestore,
        doc,
        getDoc,
        updateDoc
    } from "https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore.js";

    const firebaseConfig = {
        apiKey: "AIzaSyAyROm0aBGjry6NUfhNM3e0qwPcCDoIqSk",
        authDomain: "elvionai.firebaseapp.com",
        projectId: "elvionai",
        storageBucket: "elvionai.firebasestorage.app",
        messagingSenderId: "161078300830",
        appId: "1:161078300830:web:f460df8591704eb0e96b8f"
    };

    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);

    // --- FALLBACK/DEFAULT LESSON & QUIZ FOR NEW COURSES ---
    const defaultLessonContent = `
        <h2>Welcome to Your Course!</h2>
        <p>This is the first lesson of your course. Here you will learn the foundational concepts.</p>
        <p>This course is designed to provide you with a comprehensive, pre-university foundation in your chosen field. Our learning methodology focuses on practical knowledge and critical thinking.</p>
        
        <h3>Elvion University Philosophy</h3>
        <p>Elvion University is dedicated to **providing free, quality pre-degree knowledge and certificates** to empower future students globally. Your commitment to completing this course is your most valuable credential.</p>
        
        <div class="interactive-code-area" style="background: rgba(18, 26, 48, 0.85); border-color: var(--warning-color);">
            <div class="area-header" style="color: var(--warning-color);"><span>Course Focus</span></div>
            <p>Please remember to focus on the core concepts of this subject. You will be tested on the content to ensure you grasp the fundamentals before moving to the next lesson.</p>
        </div>
    `;

    const defaultLesson = {
        id: 1,
        title: 'Course Introduction',
        duration: '40 min',
        content: defaultLessonContent,
        quiz: [
            { type: 'mcq', question: 'What is the main purpose of Elvion University?', options: ['Awarding accredited degrees', 'Providing free pre-degree knowledge and certificates', 'Replacing traditional universities', 'Offering high-cost private education'], answer: 'Providing free pre-degree knowledge and certificates' },
            { type: 'mcq', question: 'How is student progress measured in this course viewer?', options: ['Monthly Exams', 'Lesson by lesson mandatory quizzes', 'Instructor approval only', 'Number of videos watched'], answer: 'Lesson by lesson mandatory quizzes' },
        ]
    };

    // Helper to generate default lessons for other courses
    const generateDefaultLessons = (count, coursePrefix, isProject) => {
        return Array(count).fill(0).map((_, i) => {
            let lessonTitle = `Lesson ${i + 1}: Introduction to ${coursePrefix} Concepts`;
            let content = defaultLessonContent.replace(/Welcome!|This is the first lesson/g, `Welcome to ${coursePrefix}!`).replace(/Introduction/g, lessonTitle);

            if (i === 0) {
                // Keep the original quiz for the first lesson of a new course
                return {
                    ...defaultLesson,
                    id: i + 1,
                    title: `${coursePrefix} ${lessonTitle}`,
                    content: content,
                };
            }

            if (i === count - 1) {
                lessonTitle = isProject ? `Lesson ${i + 1}: Final Project / Capstone` : `Lesson ${i + 1}: Conclusion & Next Steps`;
                content = `<h2>${lessonTitle}</h2>
                    <p>Congratulations on reaching the final lesson of the ${coursePrefix} course!</p>
                    <p>This course's final requirement is a **Project Submission** (if \`isProject\` is true) or a final reflection. Follow the certificate steps on the next page.</p>
                    ${isProject ? `<p style="color: var(--cyan-glow);">**Project Submission Required:** Please check the last lesson for specific instructions and remember to **email your project to elvionailabs@gmail.com**.</p>` : ''}
                `;

                // Final lesson quiz should be specific if it's a project
                const finalQuiz = isProject ? [
                    { type: 'mcq', question: `For the ${coursePrefix} course, what is the final deliverable requirement?`, options: ['A final written exam', 'A Project/Capstone Submission', 'A face-to-face interview', 'A group presentation'], answer: 'A Project/Capstone Submission' },
                    { type: 'text', question: 'What is the email address to which you must submit your project for certificate review? (Enter exactly)', answer: 'elvionailabs@gmail.com' },
                ] : [
                    { type: 'mcq', question: `How many lessons did you complete in the ${coursePrefix} course?`, options: ['1', '5', '8', count.toString()], answer: count.toString() },
                    { type: 'mcq', question: 'What is the next suggested step after completing this course?', options: ['Retake the first lesson', 'Explore another Elvion course or request your certificate', 'Close the browser', 'Nothing'], answer: 'Explore another Elvion course or request your certificate' },
                ];

                return {
                    id: i + 1,
                    title: `${coursePrefix} ${lessonTitle}`,
                    duration: `${40 + Math.floor(Math.random() * 20)} min`, // Varied duration
                    content: content,
                    quiz: finalQuiz,
                };
            }

            // Simplified, universal quiz for placeholder lessons after the first one
            const simpleQuiz = [
                { type: 'mcq', question: `How many lessons are in the ${coursePrefix} course? (Hint: The answer is in the course metadata)`, options: ['1', '5', '8', count.toString()], answer: count.toString() },
                { type: 'mcq', question: `What is the most important skill for a ${coursePrefix} professional?`, options: ['Memorization', 'Critical Thinking & Problem Solving', 'Speed Reading', 'Ignoring details'], answer: 'Critical Thinking & Problem Solving' },
            ];

            return {
                id: i + 1,
                title: `${coursePrefix} ${lessonTitle}`,
                duration: `${40 + Math.floor(Math.random() * 20)} min`, // Varied duration
                content: content,
                quiz: simpleQuiz,
            };
        });
    };

    // --- ROBUST AND EXPANDED COMPUTER SCIENCE COURSE (CS101) ---
    // The lessons are now arranged sequentially by ID (1 through 8).
    const cs101Lessons = [
        {
            id: 1,
            title: 'L1: Foundations of Programming: Computational Thinking Across Disciplines',
            duration: '120 min',
            content: `
                <h2>Programming as a Universal Language</h2>
                <p>Programming is not just about writing code. It's a way of thinking that applies to biology (DNA sequences), economics (market models), physics (simulations), and art (generative design). This lesson explores how <b>computational thinking</b> transcends computer science and becomes a tool for solving problems in any domain.</p>

                <h3>Part 1: Computational Thinking - Theoretical Foundations</h3>
                <p>Jeannette Wing's seminal 2006 paper defined computational thinking as "the thought processes involved in formulating problems and their solutions so that the solutions are represented in a form that can be effectively carried out by an information-processing agent."</p>

                <h4>The Four Pillars - Deep Analysis</h4>
                
                <h5>1. Decomposition - Breaking Complexity</h5>
                <p>Breaking a large problem into smaller, manageable sub-problems.</p>
                <p><strong>Example:</strong> Analyzing a company by divisions (marketing, finance, operations) or solving a complex math equation by breaking it into simpler steps.</p>
                
                <pre><code class="language-python"># Computational Decomposition Example
# Problem: Calculate total cost of online order with tax and shipping

def calculate_item_total(items):
    """Calculate subtotal of all items"""
    return sum(item['price'] * item['quantity'] for item in items)

# Master function: combines all calculations
def calculate_total_order(items, tax_rate, weight, distance):
    # Implementation relies on smaller, separate functions (Decomposition)
    subtotal = calculate_item_total(items)
    # ... other calculations ...
    return subtotal # Simplified return
</code></pre>

                <p class="task-highlight">Task: Decompose a real-world process from your field of interest (e.g., planning a wedding, diagnosing a disease, launching a product) into at least 5 computational steps. Document in <code>decomposition_analysis.md</code>.</p>

                <h5>2. Pattern Recognition - Finding Universal Structures</h5>
                <p>Identifying similarities, trends, and regularities in data or problems. **Example:** Recognizing chord progressions in music or symptom patterns for medical diagnosis.</p>

                <h5>3. Abstraction - Essential vs. Incidental Complexity</h5>
                <p>Focusing on what matters and hiding unnecessary detail. A driver doesn't need to understand internal combustion to operate a car—the steering wheel and pedals are **abstractions**.</p>

                <pre><code class="language-python"># HIGH-LEVEL (Abstracted, simple interface)
class EmailService:
    def send(self, to, subject, body):
        """Simple abstraction - user only provides content"""
        self._connect()
        self._compose_and_send(to, subject, body)
        self._disconnect()
    
    def _connect(self):
        # Implementation hidden from user
        pass
</code></pre>

                <h5>4. Algorithm Design - Step-by-Step Solutions</h5>
                <p>Algorithms exist everywhere: recipes, medical protocols, business processes. They define the exact steps and decision points needed to reach a defined outcome.</p>

                <h4>Exercise 1.1: Multi-Domain Algorithm Design</h4>
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <tr style="background: rgba(99, 102, 241, 0.1);">
                        <th style="padding: 10px;">Domain</th>
                        <th style="padding: 10px;">Algorithm Example</th>
                        <th style="padding: 10px;">Key Decision Points</th>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Healthcare</td>
                        <td style="padding: 10px;">Triage protocol</td>
                        <td style="padding: 10px;">IF life-threatening THEN immediate care; ELSE assess severity</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Finance</td>
                        <td style="padding: 10px;">Loan approval</td>
                        <td style="padding: 10px;">IF credit_score > 700 AND income > threshold THEN approve</td>
                    </tr>
                </table>

                <p class="task-highlight">Task: Choose a field outside CS and write a detailed algorithm for a common process. Include conditions, loops, and edge cases. Save as <code>cross_domain_algorithm.txt</code>.</p>

                <h3>Part 2: Variables and Data Types - Mathematical Foundations</h3>
                
                <p>Understanding data types means understanding how computers represent information in binary and the memory constraints involved.</p>

                <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <tr style="background: rgba(99, 102, 241, 0.1);">
                        <th style="padding: 10px;">Type</th>
                        <th style="padding: 10px;">Memory (typical)</th>
                        <th style="padding: 10px;">Range</th>
                        <th style="padding: 10px;">Use Case</th>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><code>int</code></td>
                        <td style="padding: 10px;">4-8 bytes</td>
                        <td style="padding: 10px;">-2³¹ to 2³¹-1 (32-bit)</td>
                        <td style="padding: 10px;">Counting, indexing</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><code>float</code></td>
                        <td style="padding: 10px;">4-8 bytes</td>
                        <td style="padding: 10px;">~±3.4E38 (precision issues)</td>
                        <td style="padding: 10px;">Scientific calculations</td>
                    </tr>
                </table>

                <h4>Floating Point Precision - A Critical Issue</h4>
                <pre><code class="language-python"># The infamous floating point problem
a = 0.1 + 0.2
print(a)  # Output: 0.30000000000000004 (not exactly 0.3!)

# Why? Binary representation cannot precisely store 0.1
# Solution: Use decimal for exact arithmetic in finance/science.
from decimal import Decimal
b = Decimal('0.1') + Decimal('0.2')
print(b)  # Output: 0.3 (exact)
</code></pre>
                <p><strong>Cross-disciplinary analysis:</strong> In finance, rounding errors can cost millions. In physics simulations, accumulated float errors can make predictions diverge from reality.</p>

                <h3>Part 3: Development Environment - Professional Setup</h3>

                <h4>Why These Tools Matter</h4>
                <ul>
                    <li>**Python:** Powers Netflix recommendations, NASA data analysis, Instagram backend.</li>
                    <li>**Git/GitHub:** Essential for collaboration, version tracking, and portfolio hosting.</li>
                    <li>**VS Code:** Industry-standard Integrated Development Environment (IDE).</li>
                </ul>

                <h4>Advanced Setup: Virtual Environments</h4>
                <pre><code class="language-bash"># Why virtual environments? Isolation!
# Project A needs Django 3.2, Project B needs Django 4.0
# Solution: separate environments

python -m venv myproject_env
source myproject_env/bin/activate
pip install django pandas numpy
pip freeze > requirements.txt
</code></pre>

                <p class="task-highlight">Task: Set up a virtual environment, install 5 libraries (requests, pandas, matplotlib, flask, pytest), and document the process with screenshots. Save as <code>environment_setup.pdf</code>.</p>
                
                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <ul>
                        <li>Wing, J. M. (2006). "Computational Thinking." <code>doi.org/10.1145/1118178.1118215</code></li>
                        <li>PEP 8 Style Guide: <code>peps.python.org/pep-0008/</code> (For professional code standards).</li>
                    </ul>
                </div>
            `,
            quiz: [
                {
                    type: 'mcq',
                    question: 'According to Jeannette Wing, computational thinking involves formulating problems so solutions can be:',
                    options: [
                        'Written in any human language',
                        'Represented in a form that can be effectively carried out by an information-processing agent',
                        'Understood only by programmers',
                        'Executed without computers'
                    ],
                    answer: 'Represented in a form that can be effectively carried out by an information-processing agent'
                },
                {
                    type: 'mcq',
                    question: 'Why does 0.1 + 0.2 not equal exactly 0.3 in most programming languages?',
                    options: [
                        'Programming error',
                        'Binary floating-point representation cannot precisely store certain decimal fractions',
                        'Computer hardware limitation',
                        'Python-specific bug'
                    ],
                    answer: 'Binary floating-point representation cannot precisely store certain decimal fractions'
                },
                {
                    type: 'text',
                    question: 'Explain the concept of abstraction using a real-world example outside of programming.',
                    answer: 'Driving a car abstracts engine mechanics; using an ATM abstracts banking operations; reading a map abstracts geographical terrain.'
                },
                {
                    type: 'mcq',
                    question: 'What is the primary purpose of a virtual environment in Python?',
                    options: [
                        'Make code run faster',
                        'Isolate project dependencies to avoid conflicts between different projects',
                        'Create backup copies of code',
                        'Compile Python to machine code'
                    ],
                    answer: 'Isolate project dependencies to avoid conflicts between different projects'
                },
                {
                    type: 'mcq',
                    question: 'What is pattern recognition in computational thinking?',
                    options: [
                        'Designing visual patterns',
                        'Identifying similarities, trends, and regularities in data or problems',
                        'Creating regular expressions',
                        'Matching text strings'
                    ],
                    answer: 'Identifying similarities, trends, and regularities in data or problems'
                },
                {
                    type: 'mcq',
                    question: 'Which debugging technique is most appropriate for production code running on live servers?',
                    options: [
                        'Print statements everywhere',
                        'Structured logging with different severity levels',
                        'Setting breakpoints with pdb',
                        'Commenting out code randomly'
                    ],
                    answer: 'Structured logging with different severity levels'
                },
                {
                    type: 'text',
                    question: 'Write the command to check which version of Python is installed on your system.',
                    answer: 'python --version'
                },
                {
                    type: 'mcq',
                    question: 'According to PEP 8, which is the correct naming convention for a Python function that calculates student grades?',
                    options: [
                        'CalculateStudentGrades',
                        'calculate_student_grades',
                        'CALCULATE_STUDENT_GRADES',
                        'calculateStudentGrades'
                    ],
                    answer: 'calculate_student_grades'
                },
                {
                    type: 'text',
                    question: 'Name two domains outside of computer science where algorithmic thinking is essential, and give one example from each.',
                    answer: 'Medicine (diagnostic protocols), Finance (trading algorithms), Manufacturing (quality control processes), etc.'
                },
                {
                    type: 'mcq',
                    question: 'What is the main goal of **Decomposition**?',
                    options: ['To add more code', 'To break a problem into smaller, manageable parts', 'To ignore details', 'To find patterns'],
                    answer: 'To break a problem into smaller, manageable parts'
                },
            ],
        },
        {
            id: 2,
            title: 'L2: Data Structures: Organizing and Managing Information at Scale',
            duration: '90 min',
            content: `
                <h2>Data Structures in Modern Software</h2>
                <p>Data structures are the building blocks of efficient software. They determine how information is organized, accessed, and manipulated. Choosing the right data structure can mean the difference between a program that runs in milliseconds versus one that takes hours.</p>

                <h3>Why Data Structures Matter</h3>
                <p>Imagine building a social network with 1 billion users. How do you store friendships? How do you find mutual friends in under a second? Or consider Spotify: how does it manage 100 million songs and instantly retrieve any track? The answer lies in carefully chosen <b>data structures</b>.</p>

                <h3>Part 1: Lists and Arrays</h3>
                <p>A list (or array) is an **ordered collection** of elements. Python lists are dynamic, allowing them to grow or shrink. Lists maintain insertion order and allow duplicate values.</p>

                <h4>Core List Operations & Complexity</h4>
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <tr style="background: rgba(99, 102, 241, 0.1);">
                        <th style="padding: 10px; text-align: left;">Operation</th>
                        <th style="padding: 10px; text-align: left;">Time Complexity</th>
                        <th style="padding: 10px; text-align: left;">Use Case</th>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Access by index</td>
                        <td style="padding: 10px;">O(1)</td>
                        <td style="padding: 10px;">Direct access to any element</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Append</td>
                        <td style="padding: 10px;">O(1)</td>
                        <td style="padding: 10px;">Add to end</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Insert (middle)</td>
                        <td style="padding: 10px;">O(n)</td>
                        <td style="padding: 10px;">Insert at specific position (slow)</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Search</td>
                        <td style="padding: 10px;">O(n)</td>
                        <td style="padding: 10px;">Check if element exists (slow)</td>
                    </tr>
                </table>

                <h4>Practical Example: Building a Playlist Manager</h4>
                <pre><code class="language-python"># Save as: playlist_manager.py
class PlaylistManager:
    # ... (Implementation uses list for self.songs) ...
    def add_song(self, song):
        self.songs.append(song)
    def insert_song(self, position, song):
        self.songs.insert(position, song)
    # ... (rest of class) ...
</code></pre>
                <p class="task-highlight">Task: Implement the playlist manager, test all methods, and add two new features: (1) Move a song to a new position, (2) Find the index of a song. Save as <code>playlist_manager.py</code>.</p>

                <h3>Part 2: Dictionaries (Hash Maps)</h3>
                <p>Dictionaries store data as <b>key-value pairs</b>, providing extremely fast lookups. When you need to retrieve data by a unique identifier (like a user ID or product code), dictionaries are the optimal choice ($\mathbf{O(1)}$ average time complexity).</p>

                <pre><code class="language-python"># Dictionary operations and performance
student = {
    "name": "Amara Okafor",
    "age": 21
}

# Fast lookup - O(1)
print(student["name"]) 

# Safe access with get() method
phone = student.get("phone", "Not provided") 
</code></pre>

                <h4>Real-World Application: Student Grade Management System</h4>
                <pre><code class="language-python"># Save as: grade_manager.py
class GradeManager:
    # Dictionary of dictionaries: student_id -> {name, grades}
    def __init__(self):
        self.students = {}
    
    def add_student(self, student_id, name):
        if student_id not in self.students:
            self.students[student_id] = {"name": name, "grades": {}}
    # ... (rest of class: add_grade, get_average, etc.) ...
</code></pre>
                <p class="task-highlight">Task: Extend this system with three features: (1) Delete a student, (2) Update a grade, (3) List all students in a specific course. Test thoroughly and save as <code>grade_manager.py</code>.</p>

                <h3>Part 3: Sets</h3>
                <p>Sets store unique elements with no duplicates. They are perfect for membership testing ($\mathbf{O(1)}$ average), removing duplicates, and mathematical set operations (union, intersection, difference).</p>

                <pre><code class="language-python"># Set operations and use cases
programming_languages = {"Python", "JavaScript", "Java", "C++"}
web_languages = {"JavaScript", "HTML", "CSS", "PHP"}

# Set operations
both = programming_languages.intersection(web_languages)  # Common elements
only_programming = programming_languages.difference(web_languages)

# Fast membership testing - O(1)
if "Python" in programming_languages:
    print("Python is a programming language")
</code></pre>

                <h4>Exercise 2.1: Friend Network Analyzer</h4>
                <p>Build a program that finds mutual friends between users using sets (intersection). This is a core social network feature.</p>
                <pre><code class="language-python"># Save as: friend_network.py
def find_mutual_friends(person1_friends, person2_friends):
    """Find friends in common between two people"""
    return person1_friends.intersection(person2_friends)
# ... (rest of application) ...
</code></pre>

                <p class="task-highlight">Task: Complete the friend network analyzer. Add features to: (1) Find friends of friends, (2) Calculate network size, (3) Detect isolated users. Save as <code>friend_network.py</code>.</p>

                <h3>Part 4: Stacks and Queues</h3>
                <p>These are Abstract Data Types that restrict access to manage data flow for specific purposes.</p>

                <h4>Stack (LIFO - Last In, First Out)</h4>
                <p>Think of a stack of plates. Used in function call management and undo/redo features.</p>

                <pre><code class="language-python"># Stack implementation and applications
class Stack:
    def push(self, item): self.items.append(item)
    def pop(self): return self.items.pop() 
# Application: Balanced Parentheses Checker relies on LIFO
</code></pre>

                <h4>Queue (FIFO - First In, First Out)</h4>
                <p>A line at a bank. Used to manage print jobs, task scheduling, and processing requests in order.</p>

                <pre><code class="language-python"># Queue implementation using collections.deque (efficient)
from collections import deque
class Queue:
    def enqueue(self, item): self.items.append(item)
    def dequeue(self): return self.items.popleft()
# Application: Print Queue Simulator relies on FIFO
</code></pre>

                <h4>Exercise 2.2: Complete Stack Applications</h4>
                <p class="task-highlight">Task: Implement these three programs and save each:</p>
                <ol>
                    <li><code>undo_system.py</code> - Build an undo/redo system for a text editor using two stacks</li>
                    <li><code>browser_history.py</code> - Simulate browser back/forward buttons with stacks</li>
                    <li><code>task_scheduler.py</code> - Create a priority task queue where high-priority tasks jump to the front</li>
                </ol>

                <h3>Part 5: Performance Analysis (Big O)</h3>
                <p>Understanding **time complexity** helps you choose the right data structure. Big O notation describes how performance scales with input size $n$.</p>

                <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <tr style="background: rgba(99, 102, 241, 0.1);">
                        <th style="padding: 10px;">Complexity</th>
                        <th style="padding: 10px;">Name</th>
                        <th style="padding: 10px;">Example</th>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><code>O(1)</code></td>
                        <td style="padding: 10px;">Constant</td>
                        <td style="padding: 10px;">Dictionary lookup, array access by index</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><code>O(n)</code></td>
                        <td style="padding: 10px;">Linear</td>
                        <td style="padding: 10px;">List search, iteration</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;"><code>O(n²)</code></td>
                        <td style="padding: 10px;">Quadratic</td>
                        <td style="padding: 10px;">Nested loops, bubble sort</td>
                    </tr>
                </table>

                <p class="task-highlight">Task: Run the benchmark comparing list vs. set search performance, record results, and write a brief analysis (200 words) explaining why sets are faster for membership testing. Save as <code>performance_analysis.md</code>.</p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <ul>
                        <li>Python Data Structures Documentation: <code>docs.python.org/3/tutorial/datastructures.html</code></li>
                        <li>Visualizing Data Structures: <code>visualgo.net</code></li>
                        <li>Big O Cheat Sheet: <code>bigocheatsheet.com</code></li>
                    </ul>
                </div>
            `,
            quiz: [
                {
                    type: 'mcq',
                    question: 'What is the average time complexity for looking up a value by key in a Python dictionary?',
                    options: ['O(1)', 'O(log n)', 'O(n)', 'O(n²)'],
                    answer: 'O(1)'
                },
                {
                    type: 'mcq',
                    question: 'Which data structure would be most efficient for checking if a user has already visited a webpage (to avoid duplicates)?',
                    options: ['List', 'Dictionary', 'Set', 'Queue'],
                    answer: 'Set'
                },
                {
                    type: 'mcq',
                    question: 'In a stack data structure, which element is removed first?',
                    options: ['The first element added', 'The last element added', 'A random element', 'The middle element'],
                    answer: 'The last element added'
                },
                {
                    type: 'text',
                    question: 'Explain one real-world application where a queue (FIFO) would be more appropriate than a stack (LIFO).',
                    answer: 'Print job management, customer service ticket system, task scheduling, or any scenario where first-come-first-served is needed.'
                },
                {
                    type: 'mcq',
                    question: 'What is the time complexity of appending an element to the end of a Python list?',
                    options: ['O(1) amortized', 'O(log n)', 'O(n)', 'O(n log n)'],
                    answer: 'O(1) amortized'
                },
                {
                    type: 'mcq',
                    question: 'Which operation would be most efficient on a set compared to a list?',
                    options: ['Access by index', 'Maintain order', 'Check membership (if element exists)', 'Allow duplicates'],
                    answer: 'Check membership (if element exists)'
                },
                {
                    type: 'mcq',
                    question: 'You need to implement a browser back button. Which data structure is most suitable?',
                    options: ['Queue', 'Stack', 'Set', 'Dictionary'],
                    answer: 'Stack'
                },
                {
                    type: 'text',
                    question: 'What is the main difference between a list and a set in Python? Name two differences.',
                    answer: 'Lists allow duplicates and maintain order; sets store only unique elements and have no guaranteed order.'
                },
                {
                    type: 'mcq',
                    question: 'Which Python collection would you use to count the frequency of each word in a document most efficiently?',
                    options: ['List', 'Dictionary', 'Set', 'Tuple'],
                    answer: 'Dictionary'
                },
                {
                    type: 'mcq',
                    question: 'In the balanced parentheses checker example, what would happen if you used a queue instead of a stack?',
                    options: [
                        'It would work the same',
                        'It would fail because FIFO order does not match the nesting structure',
                        'It would be faster',
                        'It would use less memory'
                    ],
                    answer: 'It would fail because FIFO order does not match the nesting structure'
                },
            ],
        },
        {
            id: 3,
            title: 'L3: Object-Oriented Programming: Building Scalable Systems',
            duration: '90 min',
            content: `
                <h2>Why Object-Oriented Programming?</h2>
                <p>Object-Oriented Programming (OOP) lets you build code by mimicking the structure of real-world systems. Instead of treating everything as just data and functions, you group attributes and behaviors together in self-contained objects. OOP is essential in everything from web apps to games and enterprise systems.</p>

                <h3>OOP Concepts in Depth</h3>
                <ul>
                    <li>
                        <strong>Encapsulation:</strong> Group data (attributes) and logic (methods) together so the object's state can only be changed by its own methods, protecting internal data integrity.
                        <pre><code class="language-python">class Account:
  def __init__(self, number, owner, balance):
    self._balance = balance  # protected/private data
  def deposit(self, amount):
    self._balance += amount # Access via method
  def get_balance(self):
    return self._balance # Access via method
</code></pre>
                    </li>
                    <li>
                        <strong>Inheritance:</strong> Build new types by extending existing ones (**subclass** extends **superclass**).
                        <pre><code class="language-python">class Animal:
  def speak(self):
    print("Some sound")

class Dog(Animal): # Dog inherits Animal's properties
  def speak(self):
    print("Woof!")
</code></pre>
                    </li>
                    <li>
                        <strong>Polymorphism:</strong> Classes can share the same interface (e.g., the \`speak()\` method), but have their own unique behaviors.
                        <pre><code class="language-python">def animal_sound(animal):
  animal.speak() # Polymorphic call

dog = Dog()
cat = Cat()
animal_sound(dog)  # Woof!
animal_sound(cat)  # Meow!
</code></pre>
                    </li>
                    <li>
                        <strong>Abstraction:</strong> Hide internal complexity. Only expose necessary parts to the user (e.g., using the \`send()\` method in an Email class without seeing the complex SMTP handshake).
                        <pre><code class="language-python">from abc import ABC, abstractmethod

class Vehicle(ABC): # Abstract Base Class
  @abstractmethod
  def move(self):
    pass
# Car must implement move()
class Car(Vehicle):
  def move(self):
    print("Driving a car")
</code></pre>
                    </li>
                </ul>

                <h4>Guided Project: Zoo Management System</h4>
                <p>The system requires using **Inheritance** (Lion, Elephant, Parrot extend Animal) and **Polymorphism** (the \`all_speak\` method works on all animals).</p>
                <pre><code class="language-python"># Save as: zoo.py
class Animal: # Base Class
  def __init__(self, name):
    self.name = name
  def speak(self):
    print(f"{self.name} makes a generic sound.")

class Lion(Animal): # Subclass
  def speak(self):
    print(f"{self.name} roars.")

# ... (Elephant, Parrot subclasses and Zoo class follow) ...
</code></pre>
                <p class="task-highlight">Task: Expand the Zoo by allowing animals to have diets, ages, and a method for feeding time. Print a daily log of feeding all animals with their names and diets. Save as <code>zoo.py</code>.</p>

                <h3>Design Exercises</h3>
                <ul>
                    <li>Refactor the banking system: introduce a new <code>PremiumAccount</code> with bonus interest, using inheritance.</li>
                    <li>Use OOP principles to design a Library Management System (books, members, loans).</li>
                    <li>Explain, in your own words, why polymorphism is vital in large-scale apps. Give an example from your experience or from open-source projects.</li>
                </ul>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Research Design Patterns (like the Factory Pattern) to see how OOP principles are applied to solve common architectural problems.</p>
                </div>
            `,
            quiz: [
                {
                    type: 'mcq',
                    question: 'What keyword is used to create a subclass in Python?',
                    options: ['extends', 'inherits', 'class', 'base'],
                    answer: 'class'
                },
                {
                    type: 'mcq',
                    question: 'In OOP, what is "encapsulation"?',
                    options: [
                        'Reducing memory usage',
                        'Grouping data and methods together in a class',
                        'Making methods public',
                        'Avoiding inheritance'
                    ],
                    answer: 'Grouping data and methods together in a class'
                },
                {
                    type: 'text',
                    question: 'Describe a practical use-case for inheritance in software. Why is it useful?',
                    answer: 'Reusable code logic between parent and child classes (e.g., all bank accounts share a withdraw method, but a savings account adds an interest method).'
                },
                {
                    type: 'mcq',
                    question: 'What does polymorphism enable in a team project?',
                    options: [
                        'Copy/pasting code',
                        'Multiple objects sharing the same interface',
                        'Hard-coding all values',
                        'Using many programming languages'
                    ],
                    answer: 'Multiple objects sharing the same interface'
                },
                {
                    type: 'mcq',
                    question: 'Which Python keyword is used for an abstract base class?',
                    options: ['abstract', 'base', 'ABC', 'super'],
                    answer: 'ABC'
                },
            ],
        },
        {
            id: 4,
            title: 'L4: Database Systems: Foundations and Real-World Use',
            duration: '90 min',
            content: `
                <h2>Introduction to Databases</h2>
                <p>A database manages large, structured data efficiently and securely. Relational databases (like MySQL, PostgreSQL, SQLite) use tables, rows, columns, and SQL for queries. NoSQL databases (MongoDB, Redis) store key-value pairs, JSON, documents, or graphs for maximal flexibility.</p>

                <h3>What Makes a Good Database?</h3>
                <ul>
                    <li>Data integrity (no loss, always accurate)</li>
                    <li>Fast access by query (Performance)</li>
                    <li>Supports multiple users concurrently (Concurrency)</li>
                    <li>Security and disaster recovery (Backups, permissions)</li>
                </ul>

                <h3>Relational Design</h3>
                <p>Tables represent entities (e.g., Students, Courses). Key rules:</p>
                <ul>
                    <li>**Primary key:** Unique value for each record (Student ID)</li>
                    <li>**Foreign key:** Links records between tables (Student ID in Enrollment table)</li>
                    <li>**Normalization:** Process to remove redundancy for efficient storage</li>
                </ul>
                <pre><code class="language-sql">
CREATE TABLE Students (
  id INT PRIMARY KEY,
  name TEXT,
  email TEXT
);

CREATE TABLE Enrollment (
  student_id INT,
  course_id INT,
  grade FLOAT,
  FOREIGN KEY(student_id) REFERENCES Students(id)
);
</code></pre>
                <p class="task-highlight">Task: Draw an ER diagram for a university with Students, Courses, and Instructors. List all possible links and constraints in a short text file.</p>

                <h3>SQL in Action</h3>
                <pre><code class="language-sql">
-- Find all students in a given course
SELECT Students.name, Enrollment.grade
FROM Students
JOIN Enrollment ON Students.id = Enrollment.student_id
WHERE Enrollment.course_id = 101;
</code></pre>

                <h3>NoSQL: Flexibility and Scale</h3>
                <p>MongoDB example, storing user documents (flexible schema):</p>
                <pre><code class="language-json">
{
  "_id": "user123",
  "name": "Chidinma Eze",
  "courses": ["CS101", "MATH201"],
  "profile": { "year": 2023, "completed": true }
}
</code></pre>
                <p class="task-highlight">Task: Design a JSON document schema to store a user's grades per course and overall GPA.</p>

                <h3>Advanced: Transactions and Indexing</h3>
                <ul>
                    <li>**Transactions:** Ensure **all-or-nothing** data updates (critical for moving money).</li>
                    <li>**Indexes:** Speed up search queries (like the index in a book).</li>
                </ul>
                <p class="task-highlight">Research: Find one real-world database outage (e.g., Twitter, Facebook, major banks) and write 150 words summarizing the cause and fix.</p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Research the **ACID properties** (Atomicity, Consistency, Isolation, Durability) that define a reliable transaction system in relational databases.</p>
                </div>
            `,
            quiz: [
                {
                    type: 'mcq',
                    question: 'Which SQL statement retrieves all columns from the table Students?',
                    options: ['SELECT * FROM Students;', 'INSERT INTO Students;', 'UPDATE Students;', 'DROP Students;'],
                    answer: 'SELECT * FROM Students;'
                },
                {
                    type: 'mcq',
                    question: 'What is the purpose of a foreign key?',
                    options: [
                        'Uniquely identifies table columns',
                        'Links records between tables',
                        'Deletes records',
                        'Splits tables in half'
                    ],
                    answer: 'Links records between tables'
                },
                {
                    type: 'text',
                    question: 'Write a SQL statement to find all students whose names start with A.',
                    answer: "SELECT * FROM Students WHERE name LIKE 'A%';"
                },
                {
                    type: 'mcq',
                    question: 'Which MongoDB structure best stores user data and grades?',
                    options: ['Array', 'Table', 'Document', 'Tuple'],
                    answer: 'Document'
                },
                {
                    type: 'mcq',
                    question: 'Why use transactions in databases?',
                    options: [
                        'Make code faster',
                        'Ensure all-or-nothing data updates',
                        'Allow duplicate primary keys',
                        'Prevent email sending'
                    ],
                    answer: 'Ensure all-or-nothing data updates'
                },
            ],
        },
        {
            id: 5,
            title: 'L5: Software Engineering Principles: From Idea to Product',
            duration: '90 min',
            content: `
                <h2>Software Engineering: Structured Development</h2>
                <p>Software engineering transforms ideas into reliable, maintainable software products. It’s about creating scalable systems, working as teams, and continuously improving quality. Key principles include planning, iteration, testing, and documentation.</p>

                <h3>Development Life Cycle (SDLC)</h3>
                <ol>
                    <li>Requirements: Gather and document needs. What are the users' problems?</li>
                    <li>Design: Draw diagrams (UML, ERD) to show *how* the system works.</li>
                    <li>Implementation: Coding, building the actual software.</li>
                    <li>Testing: Verify features work (Unit, integration, user acceptance tests).</li>
                    <li>Deployment: Launch for user access.</li>
                    <li>Maintenance: Bug fixes, updates, improvements.</li>
                </ol>

                <h3>Development Methodologies</h3>
                <ul>
                    <li>
                        Agile: Fast, iterative, continuous feedback; popular in tech firms.
                    </li>
                    <li>
                        Waterfall: Sequential steps, best for tightly-scoped projects with fixed requirements.
                    </li>
                    <li>
                        Kanban & Scrum: Popular frameworks for implementing Agile.
                    </li>
                </ul>
                <p class="task-highlight">Task: Research one real-world Agile project and summarize its sprint process in 150 words.</p>

                <h3>Version Control with Git and GitHub</h3>
                <pre><code class="language-bash">git init
git add .
git commit -m "Initial version"
git push origin main
</code></pre>
                <p>
                    Branching: Develop features in isolation, which prevents breaking the main, working version of the code until the feature is tested and ready to merge.
                </p>
                <p class="task-highlight">Task: Fork an open-source repo on GitHub, create a new branch, and submit a simple change or README edit (Simulated). </p>

                <h3>Testing: Automated and Manual</h3>
                <ul>
                    <li>Unit Test: Test smallest units, e.g. functions/classes.</li>
                    <li>Integration Test: Check how multiple components work together.</li>
                    <li>Acceptance Test (UAT): Final step, actual users verify system meets requirements.</li>
                </ul>
                <pre><code class="language-python">def add(x, y): return x + y

def test_add():
  assert add(2, 3) == 5 # Unit Test Example
</code></pre>

                <h3>Documentation and Collaboration</h3>
                <p>
                    Well-documented code and clear project manuals help future maintainers and new team members. Use README files, **docstrings**, issue tracking, and comments.
                </p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Read the Agile Manifesto to understand the twelve core principles that guide iterative software development.</p>
                </div>
            `,
            quiz: [
                {
                    type: 'mcq',
                    question: 'A software development methodology that favors frequent delivery and adapting to change is called:',
                    options: ['Waterfall', 'Agile', 'Rigid', 'Integration'],
                    answer: 'Agile'
                },
                {
                    type: 'mcq',
                    question: 'What is the main purpose of branching in Git?',
                    options: [
                        'To create more bugs',
                        'To isolate new features/changes until tested and ready',
                        'To delete old code',
                        'To change languages'
                    ],
                    answer: 'To isolate new features/changes until tested and ready'
                },
                {
                    type: 'mcq',
                    question: 'Which testing phase ensures actual users approve the functionality?',
                    options: ['Unit', 'Integration', 'Acceptance', 'Deployment'],
                    answer: 'Acceptance'
                },
                {
                    type: 'text',
                    question: 'Why is documentation important for software longevity?',
                    answer: 'It explains what the code does, how it works, and how to maintain it for future developers, ensuring project longevity.'
                },
                {
                    type: 'mcq',
                    question: 'In the SDLC, which phase comes after "Implementation"?',
                    options: ['Design', 'Testing', 'Analysis', 'Deployment'],
                    answer: 'Testing'
                },
            ],
        },
        {
            id: 6,
            title: 'L6: Computer Networks: Systems Thinking and Global Impact',
            duration: '120 min',
            content: `
                <h2>Networks: The Architecture of Digital Society</h2>
                <p>Computer networks power nearly all modern interactions. The science of networking extends to fields like epidemiology (disease spread) and logistics (traffic/package routing), where systems thinking is essential.</p>

                <h3>In Focus: OSI Model. Layers With Real-World Echoes</h3>
                <p>The OSI (Open Systems Interconnection) Model describes communication in 7 layers, critical for troubleshooting:</p>
                <ul>
                    <li>Layer 1—Physical: Cables, WiFi, fibre (the raw hardware connection).</li>
                    <li>Layer 3—Network: Routing, IP addresses. Analogous to urban planners designing street layouts for traffic flow.</li>
                    <li>Layer 4—Transport: TCP/UDP compare package delivery companies (guaranteed delivery vs. cheapest/speediest no-guarantee mailing).</li>
                    <li>Layers 5–7 (Application): Secure banking sessions (HTTPS), cloud apps, and collaboration tools.</li>
                </ul>

                <h4>Industry Cross-Check: Cybersecurity & Health</h4>
                <ul>
                    <li>Network security: Hospitals prevent ransomware attacks by segmenting networks. analogous to quarantining patient rooms to limit infection spread.</li>
                    <li>Case Study: Research the 2017 NHS ransomware attack: which layers of the stack failed, and how did public health teams respond using IT and medical protocol at once?</li>
                </ul>

                <h3>Protocol Analysis and Applied Case</h3>
                <ul>
                    <li>DNS Manipulation: Internet censorship works via DNS tampering; compare this to how information moves through social protest networks.</li>
                    <li>TCP (Reliable): Used for web pages, email, and banking where data integrity is paramount.</li>
                    <li>UDP (Fast): Used for live video/audio where dropping a few packets is acceptable for speed.</li>
                </ul>

                <h4>Lab: Building a Robust Chat App</h4>
                <p>This task requires applying transport layer concepts to handle unreliable real-world connections.</p>
                <ol>
                    <li>Using <code>socket</code> in Python, create a multi-user chatroom (design for dropped messages, lag, reconnections).</li>
                    <li>Extend your chat app: Add private messaging, broadcast, and “network diagnostics” (users can ping, trace, and display their IP from inside the app).</li>
                </ol>
                <p class="task-highlight">Document all error cases encountered network timeouts, out-of-order messages, abrupt disconnects and propose fixes borrowed from real-world network protocols.</p>

                <h4>Research & Writing Task</h4>
                <ul>
                    <li>Write 300 words explaining similarities and differences between digital network failure and an epidemiology case (e.g. COVID-19 superspreaders).</li>
                </ul>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Research the concept of the "Traceroute" command and how it helps visualize Layer 3 routing by leveraging the Time-To-Live (TTL) field in IP packets.</p>
                </div>
            `,
            quiz: [
                {
                    type: 'mcq',
                    question: 'Which OSI layer would be most affected if a city’s electrical grid is struck by lightning and physical internet cables are fried?',
                    options: ['Data Link', 'Physical', 'Presentation', 'Session'],
                    answer: 'Physical'
                },
                {
                    type: 'text',
                    question: 'Describe a way in which “load balancing” of road traffic is similar to or different from digital packet routing—give a real example.',
                    answer: 'Similar: Both use algorithms to distribute load (cars/packets) across multiple paths to optimize flow/minimize congestion. Different: Packets can be instantly rerouted; traffic movement is slower/less flexible.'
                },
                {
                    type: 'mcq',
                    question: 'Which protocol is most commonly used for streaming live events (where speed is more important than lossless delivery)?',
                    options: ['TCP', 'UDP', 'FTP', 'SMTP'],
                    answer: 'UDP'
                },
                {
                    type: 'text',
                    question: 'How does hospital network segmentation compare with the practice of quarantining infectious patients in health science?',
                    answer: 'Both are analogous; segmentation separates digital systems (like firewalls) to prevent malware/infection spread, just as quarantining separates patients to prevent biological infection spread.'
                },
                {
                    type: 'mcq',
                    question: 'Which tool can best show you the “path” a message takes across networks?',
                    options: ['ping', 'traceroute', 'ifconfig', 'nslookup'],
                    answer: 'traceroute'
                },
            ],
        },
        {
            id: 7,
            title: 'L7: Artificial Intelligence: Algorithms and Societies',
            duration: '120 min',
            content: `
                <h2>AI as a Multidisciplinary Force</h2>
                <p>The reach of AI goes far beyond computers—it shapes justice (predictive policing), healthcare (diagnosis), and environmental science (climate models). This lesson explores AI’s theoretical roots and nuanced impacts on diverse fields.</p>

                <h3>Theory: Data, Representation, and Decision-Making</h3>
                <ul>
                    <li>Cross-Disciplinary Insight: AI models resemble medical diagnostics (X-ray interpretation) and legal risk scores, highlighting the real ethical consequences of algorithmic decisions.</li>
                    <li>Algorithm Transparency: Doctors and lawyers need to “see the reasoning.” AI Explainability (interpretable models, feature importance) is now a growing legal and ethical requirement.</li>
                    <li class="task-highlight">Write a summary of a news article where opaque AI caused a real-world controversy (search: COMPAS recidivism or Amazon CV filter bias).</li>
                </ul>

                <h4>Hands-On: Interpretable Models</h4>
                <p>Simple models like Decision Trees are highly interpretable, unlike complex neural networks ("black boxes").</p>
                <pre><code class="language-python"># Simple decision tree for explainability
from sklearn.tree import DecisionTreeClassifier, export_text
X = [[0,0], [1,1], [0,1], [1,0]]
y = [0,1,1,0]
tree = DecisionTreeClassifier()
tree.fit(X, y)
print(export_text(tree, feature_names=["input1", "input2"]))
</code></pre>

                <h3>Applied Case Study: AI in Medicine</h3>
                <ol>
                    <li>Research AI-driven radiology or COVID triage.</li>
                    <li>Analyze one system for accuracy, bias, and transparency.</li>
                    <li class="task-highlight">Design your own mini-diagnostic system: Given simple “symptoms” as key-value inputs, write a rules-based classifier in code (simulated task).</li>
                </ol>

                <h4>Lab: Data Visualization, Fairness, and Bias</h4>
                <p>Data visualization is essential for uncovering algorithmic bias across different social groups.</p>
                <pre><code class="language-python"># Data visualization—model fairness across groups
import pandas as pd, matplotlib.pyplot as plt
df = pd.DataFrame({"score": [0.8,0.4,0.9,0.6,0.2], "group": ["A","B","A","B","A"], "label": [1,0,1,1,0]})
grouped = df.groupby('group').mean()
grouped['score'].plot(kind='bar')
plt.title('Average AI Score by Group')
plt.show()
</code></pre>
                <p>Can you spot any unfair trends? What could cause them?</p>

                <h3>Critical Reflection</h3>
                <p>Debate: Should AI make decisions in court? In hospital triage? Who is responsible for AI mistakes—engineers, users, legislators?</p>
                <p class="task-highlight">Write a 250-word personal reflection on the pros and cons of AI in a field you care about—how would you ensure fairness and transparency?</p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Research the "Black Box Problem" in deep learning and the methods used (like LIME or SHAP) to make complex models more interpretable.</p>
                </div>
            `,
            quiz: [
                {
                    type: 'mcq',
                    question: 'Which discipline is most concerned with AI explainability for real-world legal decisions?',
                    options: ['Finance', 'Law', 'Art', 'Agriculture'],
                    answer: 'Law'
                },
                {
                    type: 'text',
                    question: 'Describe a case where AI bias caused harm in medicine, law, or education. What transparency/fairness fixes could be used?',
                    answer: 'Example: Facial recognition being less accurate for darker skin tones (Bias); Fix: Require diverse training data and use interpretable models (Transparency).'
                },
                {
                    type: 'mcq',
                    question: 'Which Python tool is best for visualizing model performance and fairness across different social groups?',
                    options: ['math', 'matplotlib', 'nano', 'pytest'],
                    answer: 'matplotlib'
                },
                {
                    type: 'mcq',
                    question: 'What is one benefit of using decision trees over deep neural networks in a sensitive application?',
                    options: [
                        'Better raw accuracy',
                        'Faster computation',
                        'More interpretable decisions (you can see the "why")',
                        'No need for data'
                    ],
                    answer: 'More interpretable decisions (you can see the "why")'
                },
                {
                    type: 'mcq',
                    question: 'The problem where AI models are too complex to understand the reasoning for a decision is known as the:',
                    options: ['Turing Test', 'Black Box Problem', 'O(1) Problem', 'NP-Hard Problem'],
                    answer: 'Black Box Problem'
                },
            ],
        },
        {
            id: 8,
            title: 'L8: Capstone Project: Synthesis & Societal Impact',
            duration: '150 min',
            content: `
                <h2>Capstone: Building for Real-World, Real People</h2>
                <p class="lead" style="color: var(--warning-color);">This project is not just proof of skills, but a demonstration of your readiness to work across boundaries. You’ll deliver code and analysis that matter for technology, people, systems, and society.</p>

                <h3>Your Task: Integrative Challenge</h3>
                <p>Your capstone must synthesize concepts from all lessons (L1-L7) and connect technology with a field outside of core CS (e.g., health, finance, education, arts).</p>
                <ol>
                    <li>
                        Software Engineering: Use iterative SDLC—show your requirements, design (with diagrams), code, test plan, and deployment instructions. 
                        <ul><li>Include at least one diagram: ERD for a database, or UML sequence/class diagram for your system.</li></ul>
                    </li>
                    <li>
                        Networking: Incorporate a communication protocol (e.g., your app interacts with a remote API, or does peer-to-peer messaging via sockets).
                    </li>
                    <li>
                        AI/Data: Include a small ML prediction (even a simple rules-based system) or at least show data analytics/visualization relevant to your field.
                    </li>
                </ol>

                <h3>Deliverables (Mandatory)</h3>
                <ul>
                    <li>Source Code, tests, and professional README (GitHub link required)**</li>
                    <li>
                        Technical reflection report (1-2 pages) describe your problem, choices, and include: 
                        <ul>
                            <li>One table or chart showing performance or design trade-offs.</li>
                            <li>Security, fairness, or ethical consideration relevant to your project.</li>
                            <li>Future work—how your project could tie into another field/discpline.</li>
                        </ul>
                    </li>
                </ul>

                <h3>Professional Standards</h3>
                <ul>
                    <li>Apply and document coding standards (PEP 8)</li>
                    <li>Include automated tests for major features (Unit Testing)</li>
                    <li>Demonstrate data structure efficiency (L2) and OOP usage (L3).</li>
                </ul>
                <p class="task-highlight">ACTION: Submit to <code>elvionailabs@gmail.com</code>. Email subject: “CS101 Capstone Submission – [Your Name]”.</p>

                <h3>Key Takeaways</h3>
                <p>Mastery comes from integration—combining code, data, communication, and critical reflection on how your work serves real people and real problems.</p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Review the capstone project documentation requirements of leading university programs (MIT, Stanford) to ensure your final report meets professional standards.</p>
                </div>
            `,
            quiz: [
                {
                    type: 'mcq',
                    question: 'Which of these is NOT required for your project deliverable?',
                    options: ['Source code', 'Automated tests', 'Game controller', 'Technical report'],
                    answer: 'Game controller'
                },
                {
                    type: 'text',
                    question: 'Describe in 2-3 sentences how your capstone could be modified to serve a new discipline (e.g., education, health, arts, business).',
                    answer: 'A chat app could be modified for mental health support with triage rules (Health) or adapted for adaptive learning by tracking student progress (Education).'
                },
                {
                    type: 'mcq',
                    question: 'Which communication protocol would be best for real-time messaging in your app?',
                    options: ['SMTP', 'TCP sockets', 'IMAP', 'DHCP'],
                    answer: 'TCP sockets'
                },
                {
                    type: 'mcq',
                    question: 'What should your reflection include?',
                    options: [
                        'Only code files',
                        'Performance or design trade-offs, security/ethical concerns, cross-disciplinary application',
                        'Just test results',
                        'Game design tips'
                    ],
                    answer: 'Performance or design trade-offs, security/ethical concerns, cross-disciplinary application'
                },
                {
                    type: 'mcq',
                    question: 'What professional standard must your final code adhere to?',
                    options: ['Using only print statements', 'Code must be over 1000 lines', 'Applying PEP 8 style guidelines', 'Ignoring docstrings'],
                    answer: 'Applying PEP 8 style guidelines'
                },
            ],
        },
    ];

    // --- SOFTWARE ENGINEERING COURSE CONTENT (ALL Template Literals) ---
         // --- ROBUST AND EXPANDED SOFTWARE ENGINEERING COURSE (SWE101 - 10 LESSONS) ---
    const swe101Lessons = [
        {
  id: 1,
  title: 'What is Software Engineering? Discipline & Mindset',
  duration: '90 min',
  content: `
    <h2>What Is Software Engineering?</h2>
    <p>Software engineering is the application of engineering principles to the design, development, maintenance, and testing of software. It blends technical skill with critical thinking, team collaboration, and the discipline to build things that last—think of it as architecture for code, where bridges are digital products and bugs can have real-world consequences.</p>

    <h3>Why Engineering?</h3>
    <ul>
      <li>Unlike simple coding, engineering anticipates change, failure, and growth.</li>
      <li>Software for planes, hospitals, or banks serves millions and must never “just work on my machine.”</li>
      <li>Requires planning, validation, documentation, teamwork, and maintenance practices not just solo hacking.</li>
    </ul>

    <h4>The SWE Mindset: Plan, Test, Document, Optimize</h4>
    <ul>
      <li>Engineers design solutions for the long run, not quick fixes.</li>
      <li>Planning: Requirements, constraints, risks, estimation, and quality control.</li>
      <li>Testing: Always question “what could break?”</li>
      <li>Documentation: The future maintainer may be someone else—or future you.</li>
      <li>Optimization: Performance, maintainability, scalability.</li>
    </ul>

    <div class="interactive-code-area" style="background: rgba(18, 26, 48, 0.85); border-left: 4px solid var(--warning-color);">
      <div class="area-header"><span>The Bridge Analogy</span></div>
      <p>
        A civil engineer can’t just “wing it.” Building a bridge requires stress calculations, material testing, plans for maintenance, and compliance with safety codes. Software for elections, chemistry labs, or air traffic control is no different: the stakes demand discipline and process.
      </p>
    </div>

    <h4>Engineering Fundamentals</h4>
    <ul>
      <li>Separation of concerns</li>
      <li>Don’t Repeat Yourself (DRY)</li>
      <li>Single Responsibility Principle</li>
      <li>KISS (Keep It Simple)</li>
      <li>Validation of input, output, and assumptions</li>
      <li>Design for testability</li>
    </ul>

    <h4>Case Study: The Therac-25 Disaster</h4>
    <p>Software flaws in a medical device led to lethal overdoses. Why? No systematic code review, no fail-safe mechanisms. Great engineering saves lives.</p>

    <h3>Practical Activity</h3>
    <ol>
      <li>Describe a scenario in your life where a systematic engineering mindset (not just a quick fix) would have avoided a problem.</li>
      <li>Draft a basic requirement doc for a “personal daily planner” tool—list 5 user stories and 3 risks that would affect its success.</li>
    </ol>

    <h3>Further Reading</h3>
    <ul>
      <li>"Software Engineering at Google" (<code>abseil.io/resources/swe-book/</code>)</li>
      <li>IEEE/ISO Standard for SWE: <code>iso.org/standard/24640.html</code></li>
      <li>"The Mythical Man-Month" by F. Brooks</li>
    </ul>

    <h3>Key Takeaways</h3>
    <p>
      Software engineering brings rigor to coding. It’s about working in teams, building for scale, and leaving a legacy that’s durable, understandable, and safe.
    </p>
  `,
  quiz: [
    {
      type: 'mcq',
      question: 'Why is a systematic mindset necessary in software engineering?',
      options: [
        'Because it’s more fun than coding',
        'Because systems serve many users and errors have real consequences',
        'Because engineers write longer code',
        'Because it lets you work solo forever'
      ],
      answer: 'Because systems serve many users and errors have real consequences'
    },
    {
      type: 'mcq',
      question: 'Which principle means you should avoid duplicating logic or information in code?',
      options: ['DRY', 'DRINK', 'DOY', 'DEEP'],
      answer: 'DRY'
    },
    {
      type: 'mcq',
      question: 'The Therac-25 case study demonstrates the importance of:',
      options: [
        'Manual testing',
        'Engineering discipline and fail-safes',
        'Using JavaScript',
        'Buying more computers'
      ],
      answer: 'Engineering discipline and fail-safes'
    },
    {
      type: 'text',
      question: 'List three qualities that separate engineering from “hobbyist” coding.',
      answer: ''
    },
    {
      type: 'text',
      question: 'Write a user story for a daily planner app.',
      answer: ''
    },
  ],
        },
        {
  id: 2,
  title: 'Software Development Lifecycle: From Idea to Product',
  duration: '100 min',
  content: `
    <h2>The Software Development Lifecycle (SDLC)</h2>
    <p>Every successful software project follows a lifecycle, a structured process from initial concept to deployment and maintenance. Understanding SDLC models helps teams deliver quality software on time and within budget.</p>

    <h3>The Six Phases of SDLC</h3>
    
    <h4>1. Planning & Feasibility</h4>
    <p><strong>Goal:</strong> Define the project scope, identify stakeholders, assess feasibility.</p>
    <p><strong>Questions:</strong></p>
    <ul>
      <li>What problem are we solving?</li>
      <li>Who are the users?</li>
      <li>Is it technically feasible?</li>
      <li>Do we have the budget and time?</li>
      <li>What are the risks?</li>
    </ul>

    <p><strong>Example: Planning a Food Delivery App</strong></p>
    <pre><code># Project Planning Document

Project: Elvion Eats - Campus Food Delivery
Stakeholders:
  - Students (customers)
  - Campus restaurants (vendors)
  - Delivery personnel
  - University administration

Technical Feasibility:
  - Mobile app (iOS/Android)
  - Real-time order tracking (GPS integration)
  - Payment processing (integration with payment gateways)
  - Backend infrastructure (cloud hosting)

Budget: $50,000
Timeline: 6 months
Team: 5 developers, 1 designer, 1 project manager

Risks:
  - Vendor adoption
  - Payment gateway delays
  - GPS accuracy on campus
  - User acquisition</code></pre>

    <h4>2. Requirements Analysis</h4>
    <p><strong>Goal:</strong> Document exactly what the system must do.</p>

    <h5>Functional Requirements (What the system does)</h5>
    <ul>
      <li>FR1: Users shall be able to browse restaurant menus</li>
      <li>FR2: Users shall be able to place orders with delivery address</li>
      <li>FR3: System shall calculate delivery time estimates</li>
      <li>FR4: Vendors shall receive real-time order notifications</li>
      <li>FR5: Users shall be able to track order status</li>
    </ul>

    <h5>Non-Functional Requirements (How the system performs)</h5>
    <ul>
      <li>NFR1: System shall support 1000 concurrent users</li>
      <li>NFR2: Order placement shall complete within 3 seconds</li>
      <li>NFR3: System uptime shall be 99.9%</li>
      <li>NFR4: All payment data shall be encrypted</li>
      <li>NFR5: Mobile app shall work offline for browsing</li>
    </ul>

    <h4>3. System Design</h4>
    <p><strong>Goal:</strong> Create the blueprint for how the system will be built.</p>

    <h5>High-Level Architecture</h5>
    <pre><code># System Architecture: Elvion Eats

┌─────────────┐
│  Mobile App │ (iOS/Android)
└──────┬──────┘
       │ HTTPS/REST API
┌──────▼──────────────┐
│   API Gateway       │
└──────┬──────────────┘
       │
┌──────▼──────────────┐
│  Load Balancer      │
└──┬────────────────┬─┘
   │                │
┌──▼───────┐  ┌────▼─────┐
│ App      │  │   App    │
│ Server 1 │  │ Server 2 │
└──┬───────┘  └────┬─────┘
   │               │
   └───────┬───────┘
       ┌───▼────────┐
       │  Database  │
       │ (PostgreSQL)│
       └────────────┘

External Services:
- Payment Gateway (Stripe/Paystack)
- SMS Service (Twilio)
- Maps API (Google Maps)
- Push Notifications (Firebase)</code></pre>

    <h5>Database Design</h5>
    <pre><code class="language-sql">-- Core Tables Design

CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    email VARCHAR(255) UNIQUE NOT NULL,
    phone VARCHAR(20) NOT NULL,
    name VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE restaurants (
    id SERIAL PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    location VARCHAR(500) NOT NULL,
    rating DECIMAL(2,1),
    is_active BOOLEAN DEFAULT true
);

CREATE TABLE menu_items (
    id SERIAL PRIMARY KEY,
    restaurant_id INT REFERENCES restaurants(id),
    name VARCHAR(255) NOT NULL,
    description TEXT,
    price DECIMAL(10,2) NOT NULL,
    is_available BOOLEAN DEFAULT true
);

CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    user_id INT REFERENCES users(id),
    restaurant_id INT REFERENCES restaurants(id),
    status VARCHAR(50) NOT NULL,
    total_amount DECIMAL(10,2) NOT NULL,
    delivery_address TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE order_items (
    id SERIAL PRIMARY KEY,
    order_id INT REFERENCES orders(id),
    menu_item_id INT REFERENCES menu_items(id),
    quantity INT NOT NULL,
    price_at_time DECIMAL(10,2) NOT NULL
);</code></pre>

    <h4>4. Implementation (Development)</h4>
    <p><strong>Goal:</strong> Write the actual code following the design.</p>

    <pre><code class="language-python"># Sample Implementation: Order Service

from datetime import datetime
from typing import List, Dict
import logging

class OrderService:
    """Handles order creation and management"""
    
    def __init__(self, db, payment_service, notification_service):
        self.db = db
        self.payment_service = payment_service
        self.notification_service = notification_service
        self.logger = logging.getLogger(__name__)
    
    def create_order(self, user_id: int, items: List[Dict], 
                     delivery_address: str) -> Dict:
        """
        Create a new order with payment processing
        
        Args:
            user_id: ID of the user placing order
            items: List of {menu_item_id, quantity}
            delivery_address: Delivery location
            
        Returns:
            Order details dictionary
            
        Raises:
            ValueError: If validation fails
            PaymentError: If payment processing fails
        """
        try:
            # Validate input
            self._validate_order_input(user_id, items, delivery_address)
            
            # Calculate total
            total_amount = self._calculate_total(items)
            
            # Start database transaction
            with self.db.transaction():
                # Create order record
                order_id = self.db.insert_order({
                    'user_id': user_id,
                    'status': 'pending',
                    'total_amount': total_amount,
                    'delivery_address': delivery_address,
                    'created_at': datetime.now()
                })
                
                # Insert order items
                for item in items:
                    self.db.insert_order_item({
                        'order_id': order_id,
                        'menu_item_id': item['menu_item_id'],
                        'quantity': item['quantity'],
                        'price_at_time': item['price']
                    })
                
                # Process payment
                payment_result = self.payment_service.charge(
                    user_id=user_id,
                    amount=total_amount,
                    order_id=order_id
                )
                
                if not payment_result.success:
                    raise PaymentError("Payment failed")
                
                # Update order status
                self.db.update_order_status(order_id, 'confirmed')
                
                # Send notifications
                self._send_notifications(order_id, user_id)
                
                self.logger.info(f"Order {order_id} created successfully")
                
                return {
                    'order_id': order_id,
                    'status': 'confirmed',
                    'total': total_amount,
                    'estimated_delivery': self._estimate_delivery_time()
                }
        
        except Exception as e:
            self.logger.error(f"Order creation failed: {e}")
            raise
    
    def _validate_order_input(self, user_id, items, address):
        """Validate order input data"""
        if not user_id or not isinstance(user_id, int):
            raise ValueError("Invalid user ID")
        if not items or len(items) == 0:
            raise ValueError("Order must contain at least one item")
        if not address or len(address) < 10:
            raise ValueError("Invalid delivery address")
        # Additional validation...
    
    def _calculate_total(self, items):
        """Calculate order total"""
        return sum(item['price'] * item['quantity'] for item in items)
    
    def _estimate_delivery_time(self):
        """Estimate delivery time based on restaurant load"""
        # Implementation...
        pass
    
    def _send_notifications(self, order_id, user_id):
        """Send order confirmations"""
        # Send to user
        self.notification_service.send_user_confirmation(user_id, order_id)
        # Send to restaurant
        self.notification_service.send_restaurant_alert(order_id)</code></pre>

    <h4>5. Testing & Quality Assurance</h4>
    <p><strong>Goal:</strong> Ensure the system works correctly and meets requirements.</p>

    <h5>Testing Pyramid</h5>
    <pre><code>      /\\
     /  \\     E2E Tests (Few)
    /----\\    Integration Tests (Some)
   /------\\   Unit Tests (Many)
  /________\\
</code></pre>

    <h5>Unit Test Example</h5>
    <pre><code class="language-python">import pytest
from order_service import OrderService

class TestOrderService:
    
    def setup_method(self):
        self.mock_db = MockDatabase()
        self.mock_payment = MockPaymentService()
        self.mock_notification = MockNotificationService()
        self.service = OrderService(
            self.mock_db,
            self.mock_payment,
            self.mock_notification
        )
    
    def test_create_order_success(self):
        """Test successful order creation"""
        items = [
            {'menu_item_id': 1, 'quantity': 2, 'price': 10.00}
        ]
        
        result = self.service.create_order(
            user_id=1,
            items=items,
            delivery_address="123 Campus Road, Dorm A"
        )
        
        assert result['status'] == 'confirmed'
        assert result['total'] == 20.00
        assert 'order_id' in result
    
    def test_create_order_empty_items(self):
        """Test order creation fails with empty items"""
        with pytest.raises(ValueError, match="at least one item"):
            self.service.create_order(
                user_id=1,
                items=[],
                delivery_address="123 Campus Road"
            )
    
    def test_create_order_invalid_address(self):
        """Test order creation fails with invalid address"""
        items = [{'menu_item_id': 1, 'quantity': 1, 'price': 10.00}]
        
        with pytest.raises(ValueError, match="Invalid delivery address"):
            self.service.create_order(
                user_id=1,
                items=items,
                delivery_address="Bad"
            )
    
    def test_create_order_payment_failure(self):
        """Test order rollback on payment failure"""
        self.mock_payment.should_fail = True
        items = [{'menu_item_id': 1, 'quantity': 1, 'price': 10.00}]
        
        with pytest.raises(PaymentError):
            self.service.create_order(
                user_id=1,
                items=items,
                delivery_address="123 Campus Road"
            )
        
        # Verify no order was created
        assert self.mock_db.order_count() == 0</code></pre>

    <h4>6. Deployment & Maintenance</h4>
    <p><strong>Goal:</strong> Release to production and keep it running.</p>

    <h5>Deployment Checklist</h5>
    <ul>
      <li>All tests passing</li>
      <li>Code reviewed and approved</li>
      <li>Database migrations tested</li>
      <li>Environment variables configured</li>
      <li>Monitoring and logging enabled</li>
      <li>Rollback plan prepared</li>
      <li>Stakeholders notified</li>
      <li>Documentation updated</li>
    </ul>

    <h3>SDLC Methodologies</h3>

    <h4>Waterfall Model</h4>
    <p>Sequential phases: complete one before moving to the next.</p>
    
    <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
      <tr style="background: rgba(99, 102, 241, 0.1);">
        <th style="padding: 10px;">Advantages</th>
        <th style="padding: 10px;">Disadvantages</th>
        <th style="padding: 10px;">Best For</th>
      </tr>
      <tr>
        <td style="padding: 10px;">
          - Clear structure<br>
          - Easy to manage<br>
          - Well-documented<br>
          - Works with fixed requirements
        </td>
        <td style="padding: 10px;">
          - Inflexible<br>
          - Late testing<br>
          - No working software until end<br>
          - Difficult to change
        </td>
        <td style="padding: 10px;">
          - Government contracts<br>
          - Regulated industries<br>
          - Projects with stable requirements<br>
          - Hardware integration
        </td>
      </tr>
    </table>

    <h4>Agile Methodology</h4>
    <p>Iterative approach with frequent releases and continuous feedback.</p>

    <h5>Agile Manifesto Values</h5>
    <ul>
      <li>Individuals and interactions over processes and tools</li>
      <li>Working software over comprehensive documentation</li>
      <li>Customer collaboration over contract negotiation</li>
      <li>Responding to change over following a plan</li>
    </ul>

    <h5>Scrum Framework</h5>
    <pre><code># Scrum Sprint Cycle (2 weeks)

Week 1:
  Monday: Sprint Planning
    - Review backlog
    - Commit to sprint goals
    - Break down user stories
  
  Daily: Standup (15 min)
    - What did you do yesterday?
    - What will you do today?
    - Any blockers?
  
  Friday: Sprint Review
    - Demo completed work
    - Gather feedback

Week 2:
  Daily: Continue standups
  
  Friday: Sprint Retrospective
    - What went well?
    - What could improve?
    - Action items for next sprint
  
  Then: Start next sprint</code></pre>

    <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
      <tr style="background: rgba(99, 102, 241, 0.1);">
        <th style="padding: 10px;">Advantages</th>
        <th style="padding: 10px;">Disadvantages</th>
        <th style="padding: 10px;">Best For</th>
      </tr>
      <tr>
        <td style="padding: 10px;">
          - Flexible to changes<br>
          - Early delivery of features<br>
          - Continuous feedback<br>
          - Higher customer satisfaction
        </td>
        <td style="padding: 10px;">
          - Requires discipline<br>
          - Can be chaotic without structure<br>
          - Documentation may suffer<br>
          - Requires customer involvement
        </td>
        <td style="padding: 10px;">
          - Startups<br>
          - Web/mobile apps<br>
          - Projects with evolving requirements<br>
          - Innovation-focused teams
        </td>
      </tr>
    </table>

    <h4>DevOps: Continuous Integration/Continuous Deployment (CI/CD)</h4>
    <p>Automate everything from code commit to production deployment.</p>

    <pre><code># CI/CD Pipeline Example

1. Developer commits code
   ↓
2. Automated tests run
   ↓
3. Code quality checks (linting, security scan)
   ↓
4. Build application
   ↓
5. Deploy to staging environment
   ↓
6. Run integration tests
   ↓
7. Manual approval (optional)
   ↓
8. Deploy to production
   ↓
9. Monitor and alert</code></pre>

    <h3>Real-World Case Studies</h3>

    <h4>Case Study 1: Healthcare.gov Launch Failure</h4>
    <p><strong>Problem:</strong> The US healthcare website crashed on launch day (2013).</p>
    <p><strong>Causes:</strong></p>
    <ul>
      <li>Poor project management</li>
      <li>Insufficient testing</li>
      <li>Integration issues between 55 contractors</li>
      <li>Tight deadline with late changes</li>
    </ul>
    <p><strong>Lessons:</strong> Incremental development, continuous testing, clear ownership, realistic timelines.</p>

    <h4>Case Study 2: Spotify's Agile Success</h4>
    <p><strong>Approach:</strong> Squad-based agile development.</p>
    <ul>
      <li>Small, autonomous teams (squads)</li>
      <li>Each squad owns a feature area</li>
      <li>Regular releases (multiple per day)</li>
      <li>Strong automation and testing</li>
    </ul>
    <p><strong>Results:</strong> Rapid innovation, high employee satisfaction, market leadership.</p>

    <h3>Exercise 2.1: Choose Your Methodology</h3>
    <p>For each scenario, recommend Waterfall, Agile, or hybrid and justify:</p>
    <ol>
      <li>Building a mobile game with uncertain features</li>
      <li>Developing aircraft control software</li>
      <li>Creating a university course registration system</li>
      <li>Building a social media startup</li>
    </ol>
    <p class="task-highlight">Save analysis as <code>methodology_analysis.md</code>.</p>

    <h3>Exercise 2.2: Sprint Planning</h3>
    <p>Create a 2-week sprint plan for adding a "favorites" feature to Elvion Eats:</p>
    <ul>
      <li>User stories with acceptance criteria</li>
      <li>Task breakdown</li>
      <li>Estimation (story points)</li>
      <li>Daily standup questions</li>
    </ul>
    <p class="task-highlight">Save as <code>sprint_plan.md</code>.</p>

    <h3>Key Takeaways</h3>
    <p>The SDLC provides structure for software development. Waterfall offers predictability, Agile offers flexibility. Modern teams often blend approaches based on project needs. Understanding these models helps you deliver quality software on time.</p>
  `,
  quiz: [
    {
      type: 'mcq',
      question: 'In which SDLC phase do you define what the system must do?',
      options: ['Implementation', 'Requirements Analysis', 'Testing', 'Deployment'],
      answer: 'Requirements Analysis'
    },
    {
      type: 'mcq',
      question: 'Which statement is a functional requirement?',
      options: [
        'System must respond in under 2 seconds',
        'System must support 10,000 users',
        'Users shall be able to reset their password',
        'System must be available 99.9% of the time'
      ],
      answer: 'Users shall be able to reset their password'
    },
    {
      type: 'text',
      question: 'Explain the difference between functional and non-functional requirements with examples.',
      answer: 'Functional requirements define what the system does (features); non-functional requirements define how it performs (speed, security, scalability).'
    },
    {
      type: 'mcq',
      question: 'In the Agile Manifesto, which is valued more?',
      options: [
        'Comprehensive documentation over working software',
        'Working software over comprehensive documentation',
        'Following a plan over responding to change',
        'Contract negotiation over customer collaboration'
      ],
      answer: 'Working software over comprehensive documentation'
    },
    {
      type: 'mcq',
      question: 'What is the typical duration of a Scrum sprint?',
      options: ['1 day', '1 week', '2-4 weeks', '6 months'],
      answer: '2-4 weeks'
    },
    {
      type: 'text',
      question: 'Name three things discussed in a daily Scrum standup meeting.',
      answer: 'What you did yesterday, what you will do today, and any blockers/impediments.'
    },
    {
      type: 'mcq',
      question: 'Which SDLC model is best for projects with frequently changing requirements?',
      options: ['Waterfall', 'Agile', 'V-Model', 'Spiral'],
      answer: 'Agile'
    },
    {
      type: 'mcq',
      question: 'What is the purpose of CI/CD in modern software development?',
      options: [
        'To write documentation',
        'To automate testing, building, and deployment',
        'To hold meetings',
        'To design user interfaces'
      ],
      answer: 'To automate testing, building, and deployment'
    },
    {
      type: 'text',
      question: 'What was a primary cause of the Healthcare.gov launch failure?',
      answer: 'Poor project management, insufficient testing, integration issues, tight deadlines.'
    },
    {
      type: 'mcq',
      question: 'In the testing pyramid, which type of test should you have the most of?',
      options: ['End-to-end tests', 'Integration tests', 'Unit tests', 'Manual tests'],
      answer: 'Unit tests'
    },
  ],
        },
        {
            id: 3,
            title: 'L3: SDLC and Methodologies: Agile vs. Waterfall',
            duration: '100 min',
            content: `
                <h2>The Software Development Lifecycle (SDLC)</h2>
                <p>Every successful software project follows a lifecycle—a structured process from initial concept to deployment and maintenance. Understanding SDLC models helps teams deliver quality software on time and within budget.</p>

                <h3>The Six Phases of SDLC</h3>
                <ol>
                    <li>Planning & Feasibility: Define project scope, stakeholders, risk.</li>
                    <li>Requirements Analysis: Document what the system must do (L2, L4).</li>
                    <li>System Design: Create the architecture and blueprints (L5, L6).</li>
                    <li>Implementation (Development): Write the code.</li>
                    <li>Testing & QA: Verify the system works correctly (L7).</li>
                    <li>Deployment & Maintenance: Release and keep the system running (L8, L9).</li>
                </ol>

                <h3>SDLC Methodologies: Agile vs. Waterfall</h3>

                <h4>Waterfall Model</h4>
                <p>Sequential phases: complete one before moving to the next. Rigid and best for projects with stable, fixed requirements (e.g., regulated hardware, government contracts).</p>
                
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <tr style="background: rgba(99, 102, 241, 0.1);">
                        <th style="padding: 10px;">Advantages</th>
                        <th style="padding: 10px;">Disadvantages</th>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">- Clear structure, easy to manage<br>- Well-documented, fixed requirements</td>
                        <td style="padding: 10px;">- Inflexible, difficult to change<br>- Late testing (high risk)</td>
                    </tr>
                </table>

                <h4>Agile Methodology (Scrum)</h4>
                <p>Iterative approach with frequent releases and continuous feedback. **Flexible** and best for projects with evolving requirements (e.g., startups, web/mobile apps).</p>

                <div class="interactive-code-area" style="background: rgba(18, 26, 48, 0.85); border-left: 4px solid var(--primary-color);">
                    <div class="area-header"><span>Agile Manifesto Values</span></div>
                    <ul>
                        <li>Working software over comprehensive documentation</li>
                        <li>Responding to change over following a plan</li>
                    </ul>
                </div>
                
                <p class="task-highlight">Task: For the four scenarios below, recommend either **Waterfall** or **Agile** (or hybrid) and justify your choice in a short paragraph:</p>
                <ol>
                    <li>Building a mobile game with uncertain features</li>
                    <li>Developing aircraft control software</li>
                    <li>Creating a university course registration system (Hybrid/Agile)</li>
                    <li>Building a social media startup</li>
                </ol>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Research the **V-Model** and **Spiral Model**—two alternatives to Waterfall and Agile that incorporate risk analysis and verification/validation earlier.</p>
                </div>
            `,
            quiz: [
                { type: 'mcq', question: 'In which SDLC phase do you define what the system must do?', options: ['Implementation', 'Requirements Analysis', 'Testing', 'Deployment'], answer: 'Requirements Analysis' },
                { type: 'mcq', question: 'Which SDLC model is best for projects with frequently changing requirements?', options: ['Waterfall', 'Agile', 'V-Model', 'Spiral'], answer: 'Agile' },
                { type: 'text', question: 'What is the primary risk associated with the Waterfall model?', answer: 'Inflexibility/difficulty responding to change, or late discovery of errors.' },
                { type: 'mcq', question: 'In the Agile Manifesto, which is valued more?', options: ['Comprehensive documentation over working software', 'Working software over comprehensive documentation', 'Following a plan over responding to change', 'Contract negotiation over customer collaboration'], answer: 'Working software over comprehensive documentation' },
                { type: 'mcq', question: 'For which type of project is the Waterfall model usually recommended?', options: ['Startups', 'Mobile apps', 'Regulated hardware/fixed requirements', 'Projects with high uncertainty'], answer: 'Regulated hardware/fixed requirements' },
            ],
        },
        {
            id: 4,
            title: 'L4: Scrum Framework: Roles, Artifacts, and Flow',
            duration: '90 min',
            content: `
                <h2>Scrum: Implementing Agile</h2>
                <p>Scrum is the most widely used framework for implementing Agile development. It relies on fixed timeboxes called Sprints (usually 2-4 weeks) and clearly defined roles to manage complexity and deliver value incrementally.</p>

                <h3>Scrum Roles and Responsibilities</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <tr style="background: rgba(99, 102, 241, 0.1);">
                        <th style="padding: 10px;">Role</th>
                        <th style="padding: 10px;">Primary Focus</th>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Product Owner (PO)</td>
                        <td style="padding: 10px;">Defines WHAT to build. Manages the Product Backlog (prioritization, value).</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Scrum Master (SM)</td>
                        <td style="padding: 10px;">Defines HOW the team works. Facilitates, removes impediments, ensures Scrum rules are followed.</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Development Team</td>
                        <td style="padding: 10px;">Defines HOW MUCH it can do. Delivers the working product increment.</td>
                    </tr>
                </table>

                <h3>Scrum Artifacts and Events</h3>
                <ul>
                    <li>Product Backlog: A prioritized, dynamic list of features/user stories managed by the PO.</li>
                    <li>Sprint Backlog: The subset of the Product Backlog selected for the current Sprint.</li>
                    <li>Daily Standup (Scrum): A 15-minute meeting where the Development Team syncs progress, answering: (1) What did I do yesterday? (2) What will I do today? (3) Any impediments?</li>
                    <li>Sprint Retrospective: Held after the Sprint Review to reflect on **process** and identify improvements for the next sprint (L7).</li>
                </ul>

                <h4>Exercise: Sprint Planning</h4>
                <p>Create a 2-week sprint plan for adding a "favorites" feature to Elvion Eats:</p>
                <ul>
                    <li>Draft 3 User Stories with acceptance criteria (L2).</li>
                    <li>Break down tasks and assign story points (estimation).</li>
                    <li>Outline the Daily standup questions (What, Why, Blockers).</li>
                </ul>
                <p class="task-highlight">Save as <code>sprint_plan.md</code>. (Simulated)</p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Research the Definition of Done (DoD) in Scrum and why it’s critical for ensuring quality and preventing ambiguity at the end of a sprint.</p>
                </div>
            `,
            quiz: [
                { type: 'mcq', question: 'Which Scrum role is responsible for ensuring the team follows the framework and removing roadblocks?', options: ['Product Owner', 'Scrum Master', 'Development Team', 'Stakeholder'], answer: 'Scrum Master' },
                { type: 'mcq', question: 'What is the primary content of the Product Backlog?', options: ['Completed tasks', 'A prioritized list of features/user stories', 'The team\'s daily meeting notes', 'Budget reports'], answer: 'A prioritized list of features/user stories' },
                { type: 'text', question: 'What is the fixed timebox of work in the Scrum framework called?', answer: 'Sprint' },
                { type: 'mcq', question: 'What is the maximum recommended duration for a Daily Standup?', options: ['30 minutes', '1 hour', '15 minutes', 'Until all problems are solved'], answer: '15 minutes' },
                { type: 'mcq', question: 'The Sprint Retrospective focuses on improving the team\'s:', options: ['Product features', 'Technical debt', 'Process and workflow', 'Design patterns'], answer: 'Process and workflow' },
            ],
        },
        {
            id: 5,
            title: 'L5: From Specification to Blueprint: Design Documentation',
            duration: '90 min',
            content: `
                <h2>System Design: Architecture and Visualization</h2>
                <p>Once requirements (SRS) are defined (L2), the next step is designing how the system will be built. This is articulated in the **Architectural Design Document (ADD), using diagrams to communicate complex structural ideas.</p>

                <h3>The Architectural Drivers</h3>
                <p>Architecture is fundamentally driven by Non-Functional Requirements (NFRs) (L2). A requirement for high Scalability drives you toward Microservices, while a requirement for high Isolation might favor a 3-Tier structure.</p>

                <h4>Common Architectural Styles</h4>
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <tr style="background: rgba(99, 102, 241, 0.1);">
                        <th style="padding: 10px; text-align: left;">Style</th>
                        <th style="padding: 10px; text-align: left;">Key Structure</th>
                        <th style="padding: 10px; text-align: left;">Benefit (NFR)</th>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Monolithic</td>
                        <td style="padding: 10px;">Single, unified codebase for all functions.</td>
                        <td style="padding: 10px;">Simplicity, easier initial deployment.</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">3-Tier</td>
                        <td style="padding: 10px;">Separates Presentation, Business Logic, and Data layers.</td>
                        <td style="padding: 10px;">Security, Modularity.</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Microservices</td>
                        <td style="padding: 10px;">Collection of small, independent services communicating via APIs.</td>
                        <td style="padding: 10px;">Extreme scalability, high resilience.</td>
                    </tr>
                </table>

                <h3>UML: The Language of Design</h3>
                <p>**UML (Unified Modeling Language)** is the standard language for visualizing software artifacts.</p>
                <ul>
                    <li>Class Diagram: Shows the static structure of classes, attributes, operations, and relationships (inheritance, association). (Good for visualizing data models/OOP structure).</li>
                    <li>Sequence Diagram: Shows the dynamic sequence of messages passed between objects over time. (Good for visualizing a complex "Checkout" or "Login" flow).</li>
                </ul>
                <pre><code class="language-text">
// UML Class Diagram (Text Representation)
[User] 1 --* [Order]
// User has one or more orders.
</code></pre>

                <p class="task-highlight">Task: For an online examination system, sketch a simplified **Class Diagram** (simulated) showing the relationship between <code>Student</code>, <code>Exam</code>, and <code>Question</code> classes. Identify the type of relationship (one-to-many, many-to-many) for each link.</p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Research the Client-Server architecture and compare its benefits and drawbacks versus the Monolithic architecture.</p>
                </div>
            `,
            quiz: [
                { type: 'mcq', question: 'Which architectural style separates Presentation, Business Logic, and Data layers?', options: ['Monolithic', 'Microservices', 'Client-Server', '3-Tier'], answer: '3-Tier' },
                { type: 'mcq', question: 'Software Architecture is primarily driven by which type of requirement?', options: ['Functional Requirements', 'User Stories', 'Non-Functional Requirements', 'Code Complexity'], answer: 'Non-Functional Requirements' },
                { type: 'text', question: 'What industry-standard language is used to draw Class and Sequence Diagrams?', answer: 'UML' },
                { type: 'mcq', question: 'Which diagram type is best suited for showing the flow of messages between objects over time (e.g., a "User Login" flow)?', options: ['Class Diagram', 'ER Diagram', 'Sequence Diagram', 'Activity Diagram'], answer: 'Sequence Diagram' },
                { type: 'mcq', question: 'The biggest benefit of a Microservices architecture is high:', options: ['Security isolation', 'Initial deployment speed', 'Scalability and resilience', 'Code simplicity'], answer: 'Scalability and resilience' },
            ],
        },
        {
            id: 6,
            title: 'L6: Design Patterns: Smart Solutions for Common Problems',
            duration: '90 min',
            content: `
                <h2>Design Patterns: The Engineer’s Toolkit</h2>
                <p>A Design Pattern is a generalized, reusable solution to a commonly occurring problem within software design. They are not code itself, but blueprints that lead to highly flexible, maintainable, and robust systems by solving problems that have appeared in countless projects before.</p>

                <h3>The Three Categories and Key Patterns</h3>
                <p>We classify patterns by their primary goal (Creational, Structural, Behavioral).</p>

                <h4>1. Creational Patterns: Object Creation</h4>
                <ul>
                    <li>Singleton: Ensures a class has only one instance (e.g., Configuration Manager).</li>
                    <li>Factory Method: Provides an interface for creating objects, letting subclasses define the exact class to instantiate.</li>
                </ul>

                <h4>2. Structural Patterns: Composition</h4>
                <ul>
                    <li>Adapter: Allows the interface of an existing class to be used as another interface (e.g., connecting old code to new APIs).</li>
                    <li>Decorator: Attaches additional responsibilities to an object dynamically (e.g., adding logging or caching to a function).</li>
                </ul>

                <h4>3. Behavioral Patterns: Interaction and Communication</h4>
                <ul>
                    <li>Observer: Defines a one-to-many dependency so that when one object (the subject) changes state, all its dependents (the observers) are notified (e.g., social media notifications).</li>
                    <li>Strategy: Defines a family of algorithms, encapsulates each one, and makes them interchangeable (e.g., pluggable sorting or pricing algorithms).</li>
                </ul>

                <h3>Practical Deep Dive: The Singleton Pattern</h3>
                <p>The Singleton is used to manage global state securely, as shown in the simulated Python example.</p>
                <pre><code class="language-python"># Singleton Concept in Python (Simulated)
class ConfigurationManager:
    _instance = None 

    @staticmethod
    def getInstance():
        if ConfigurationManager._instance == None:
            ConfigurationManager._instance = ConfigurationManager()
        return ConfigurationManager._instance
</code></pre>

                <p class="task-highlight">Task: Write a simple Python/JS class (simulated) that manages application logging. Implement the **Singleton pattern** to ensure only one logging instance exists across the entire application. Justify why this pattern is critical for logging (to prevent conflicting log files).</p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Research the Strategy Pattern and how it can be used to switch payment providers (Stripe, PayPal, Paystack) without modifying core checkout code.</p>
                </div>
            `,
            quiz: [
                { type: 'mcq', question: 'Which design pattern ensures a class has only one instance and provides a global access point?', options: ['Factory', 'Observer', 'Adapter', 'Singleton'], answer: 'Singleton' },
                { type: 'mcq', question: 'The **Observer** pattern belongs to which category of design patterns?', options: ['Creational', 'Structural', 'Behavioral', 'Architectural'], answer: 'Behavioral' },
                { type: 'text', question: 'Which pattern allows two incompatible interfaces to work together, often described using the analogy of a power adapter?', answer: 'Adapter' },
                { type: 'mcq', question: 'The **Decorator** pattern is a structural pattern used to:', options: ['Ensure a single instance', 'Hide internal logic', 'Add functionality to an object dynamically', 'Create objects based on input'], answer: 'Add functionality to an object dynamically' },
                { type: 'mcq', question: 'The **Factory Method** pattern is primarily used to solve problems related to:', options: ['Communication between objects', 'Interface compatibility', 'Object creation logic', 'Algorithm speed'], answer: 'Object creation logic' },
            ],
        },
        {
            id: 7,
            title: 'L7: System Testing: From Unit Tests to UAT',
            duration: '90 min',
            content: `
                <h2>Testing: The Engine of Reliability</h2>
                <p>Testing is vital to safety, security, and real-world trust. The goal is to verify that the system works correctly and confirm compliance with requirements (L2).</p>

                <h3>The Testing Pyramid</h3>
                <p>The Testing Pyramid is a metaphor that suggests the majority of testing effort should be focused on the smallest, fastest tests:</p>
                <ul>
                    <li>Base (Largest): Unit Tests: Test smallest components (functions) in isolation. Provide high coverage (L2).</li>
                    <li>Middle: Integration Tests: Verify that multiple components (e.g., API, database, authentication service) work together correctly.</li>
                    <li>Top (Smallest): End-to-End (E2E) / UI Tests: Simulate a full user journey. Slow, but verify the entire system works.</li>
                </ul>

                <h3>Key Testing Types</h3>
                <ul>
                    <li>Regression Testing: Re-running old tests to ensure new changes haven't broken existing functionality.</li>
                    <li>User Acceptance Testing (UAT): The final stage where the actual users or clients test the software to ensure it satisfies their business needs (Functional Requirements). Failure means the software does not meet the contract.</li>
                </ul>

                <h4>Unit Test Implementation (TDD approach)</h4>
                <p>Test-Driven Development (TDD) advocates writing the test first, seeing it fail, then writing the minimal code to make it pass. This ensures all code is testable.</p>
                <pre><code class="language-python"># Example using Python's pytest framework

def test_discount_vip():
    # Write test case first (expected output: 80)
    assert calculate_discount(100, True) == 80

def calculate_discount(price, is_vip):
    # Then write the minimal code to pass the test
    if is_vip:
        return price * 0.80
    return price
</code></pre>

                <p class="task-highlight">Task: For a function that calculates a student's final grade, write three separate unit test cases to cover: (1) Normal passing grade, (2) Grade of zero, and (3) Grade that results in a float/decimal number. Document the expected output for each test.</p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Research the concept of **Mocking and Stubbing**—techniques used in unit testing to simulate external components (like a slow database) so tests remain fast and isolated.</p>
                </div>
            `,
            quiz: [
                { type: 'mcq', question: 'Which stage of testing verifies the correctness of individual functions or methods in isolation?', options: ['Integration Test', 'User Acceptance Test (UAT)', 'End-to-End Test', 'Unit Test'], answer: 'Unit Test' },
                { type: 'mcq', question: 'What is the primary goal of User Acceptance Testing (UAT)?', options: ['To verify the code is bug-free', 'To check compliance with Non-Functional Requirements', 'To verify the software satisfies the business needs and requirements of the end-user', 'To measure code coverage'], answer: 'To verify the software satisfies the business needs and requirements of the end-user' },
                { type: 'text', question: 'What is the purpose of Regression Testing?', answer: 'To re-run existing tests to catch unintended bugs introduced by new code changes.' },
                { type: 'mcq', question: 'The Test Pyramid suggests that the majority of testing effort should be focused on:', options: ['Integration Tests', 'End-to-End Tests', 'Manual Tests', 'Unit Tests'], answer: 'Unit Tests' },
                { type: 'mcq', question: 'Which methodology advocates writing tests before writing the implementation code?', options: ['Agile', 'TDD (Test-Driven Development)', 'Waterfall', 'Kanban'], answer: 'TDD (Test-Driven Development)' },
            ],
        },
        {
            id: 8,
            title: 'L8: Continuous Integration and Deployment (CI/CD)',
            duration: '75 min',
            content: `
                <h2>CI/CD: Automating the Pipeline</h2>
                <p>In modern SWE, the process of moving code from a developer’s computer to production is highly automated using CI/CD (Continuous Integration/Continuous Deployment) pipelines. This reduces risk and enables rapid feature delivery.</p>

                <h3>Continuous Integration (CI)</h3>
                <p>CI is the practice of frequently merging all developers' working copies to a shared mainline (like the <code>main</code> branch in Git). Every merge triggers an automated build and test process.</p>
                <ul>
                    <li>Goal: Catch integration errors quickly.</li>
                    <li>Process: Code commit $\rightarrow$ Build $\rightarrow$ Run Unit/Integration Tests $\rightarrow$ Report Success/Failure.</li>
                </ul>

                <h3>Continuous Delivery/Deployment (CD)</h3>
                <p>Continuous Delivery (CD) ensures the software can be released to users at any time (always releasable). Continuous Deployment automates the release of every passing change directly to production.</p>

                <h4>Deployment Strategies: Minimizing Downtime</h4>
                <p>Engineers use strategies to deploy updates with minimal disruption:</p>
                <ul>
                    <li>Blue/Green Deployment: Two identical environments (Blue is live, Green is new). Deploy to Green, test it, then switch the router to Green. (Fast rollback possible).</li>
                    <li>Canary Release: Deploying the new version to a small subset of users (e.g., 5%) before rolling out to everyone. This limits the blast radius of any bugs.</li>
                </ul>

                <p class="task-highlight">Task: For an online banking project, identify one automated action that should occur during the CI phase (after a code merge) and one action that should occur during the CD phase (during production release).</p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Research the concept of DevOps (Development Operations) and how it facilitates the CI/CD culture by breaking down silos between development and IT teams.</p>
                </div>
            `,
            quiz: [
                { type: 'mcq', question: 'Which practice focuses on frequently merging code and running automated tests and builds?', options: ['Continuous Deployment', 'Continuous Delivery', 'Continuous Integration (CI)', 'Waterfall'], answer: 'Continuous Integration (CI)' },
                { type: 'mcq', question: 'The deployment strategy that releases the new version to a small percentage of users before a full rollout is called:', options: ['Blue/Green Deployment', 'Canary Release', 'Monolithic Deployment', 'TDD'], answer: 'Canary Release' },
                { type: 'text', question: 'What is the primary technical tool used for the entire CI/CD pipeline and collaborative coding?', answer: 'Git/GitHub' },
                { type: 'mcq', question: 'The main goal of automating the entire CI/CD pipeline is to:', options: ['Reduce the number of developers', 'Increase the time spent testing', 'Reduce risk and enable rapid, frequent feature delivery', 'Only deploy once per year'], answer: 'Reduce risk and enable rapid, frequent feature delivery' },
                { type: 'mcq', question: 'In a Blue/Green deployment, why is the Green environment initially kept hidden from the public?', options: ['To save money', 'To test the new version safely before switching all traffic to it', 'To increase testing time', 'To hide the code'], answer: 'To test the new version safely before switching all traffic to it' },
            ],
        },
        {
            id: 9,
            title: 'L9: Maintenance, Technical Debt, and Project Risk',
            duration: '90 min',
            content: `
                <h2>The Long Game: Maintenance is Most of the Work</h2>
                <p>The development phase accounts for only about 30% of a software system's total cost. The remaining 70% is spent on Software Maintenance, keeping a system operational and evolving after deployment.</p>

                <h3>Technical Debt and Refactoring</h3>
                <ul>
                    <li>Technical Debt: The deferred cost of choosing a faster, easier solution now instead of a better, more robust one. This debt must eventually be repaid through refactoring.</li>
                    <li>Refactoring (L2): Restructuring existing code without changing its external behavior, primarily to improve maintainability and reduce technical debt.</li>
                </ul>

                <h3>Types of Maintenance (The 70%)</h3>
                <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
                    <tr style="background: rgba(99, 102, 241, 0.1);">
                        <th style="padding: 10px; text-align: left;">Type</th>
                        <th style="padding: 10px; text-align: left;">Goal</th>
                        <th style="padding: 10px; text-align: left;">Example</th>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Corrective</td>
                        <td style="padding: 10px;">Fixing defects and errors (bugs).</td>
                        <td style="padding: 10px;">Patching a security vulnerability.</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Adaptive</td>
                        <td style="padding: 10px;">Modifying the system to cope with changes in the environment.</td>
                        <td style="padding: 10px;">Updating code to comply with a new data privacy law (GDPR).</td>
                    </tr>
                    <tr>
                        <td style="padding: 10px;">Perfective</td>
                        <td style="padding: 10px;">Improving performance, reliability, and maintainability.</td>
                        <td style="padding: 10px;">Rewriting a slow O(n²) search function.</td>
                    </tr>
                </table>

                <h3>Project Risk Management</h3>
                <p>Projects typically fail due to poor management, scope creep, and underestimated risk.</p>
                <ul>
                    <li>Scope Creep: The uncontrolled expansion of the project scope without adjustments to time or budget (the #1 cause of failure).</li>
                    <li>Mitigation: Implement a formal Change Control Process where all scope changes must be documented, approved, and assessed for impact.</li>
                </ul>

                <p class="task-highlight">Task: Read a short article on "Technical Debt" and write a paragraph explaining why ignoring it is financially and operationally dangerous for a long-term software product.</p>

                <div class="further-reading-section">
                    <h4>📚 Academic References & Further Reading</h4>
                    <p>Review the IEEE Code of Ethics for Engineers, a guiding principle for professional responsibility in software and engineering.</p>
                </div>
            `,
            quiz: [
                { type: 'mcq', question: 'Which type of maintenance involves fixing bugs and defects in the software?', options: ['Adaptive', 'Perfective', 'Corrective', 'Evolutionary'], answer: 'Corrective' },
                { type: 'mcq', question: 'The primary goal of refactoring is to:', options: ['Add new features', 'Fix bugs quickly', 'Restructure code to improve maintainability without changing its external function', 'Decrease code complexity'], answer: 'Restructure code to improve maintainability without changing its external function' },
                { type: 'text', question: 'What is the term for the deferred cost of choosing a faster, non-optimal solution during development?', answer: 'Technical Debt' },
                { type: 'mcq', question: 'Which is the number one cause of software project failure?', options: ['Poor testing', 'Insufficient tools', 'Scope Creep', 'High maintenance costs'], answer: 'Scope Creep' },
                { type: 'mcq', question: 'Updating a system to comply with a new government data regulation (like GDPR) falls under which maintenance type?', options: ['Corrective', 'Adaptive', 'Perfective', 'Preventive'], answer: 'Adaptive' },
            ],
        },
        {
            id: 10,
            title: 'L10: Capstone: Architectural Design and Final Review',
            duration: '120 min',
            content: `
                <h2>The Capstone: The Architectural Design Document</h2>
                <p class="lead" style="color: var(--warning-color);">This final requirement is your chance to synthesize all 9 SWE principles, from requirements and agile methods to design patterns and risk management. Your deliverable is a comprehensive Architectural Design Document (ADD) for a complex system.</p>

                <h3>Project Brief: The "Elvion Project Manager"</h3>
                <p>Design a system that allows remote teams to manage project backlogs (tasks, stories), assign responsibilities, track time, and generate progress reports.</p>

                <h4>Required Sections for Submission (The ADD)</h4>
                <ol>
                    <li>Requirements (SRS): Detail at least 5 Functional and 5 Non-Functional Requirements (L2).</li>
                    <li>Methodology & Workflow: Justify your choice of methodology (L3) and describe the Scrum Roles (L4) involved.</li>
                    <li>Architectural Design (Mandatory Core):
                        <ul>
                            <li>High-Level Architecture: Propose the structure (L5) (e.g., 3-Tier, Microservices) and justify your choice based on NFRs.</li>
                            <li>Visualization: Use a UML Class or Sequence Diagram (L5) to visualize component interactions.</li>
                            <li>Design Pattern Application: Specify and justify one Creational and one Structural/Behavioral pattern you would use (L6).</li>
                        </ul>
                    </li>
                    <li>Testing Strategy: Propose a testing plan detailing the role of Unit Tests, Integration Tests, and UAT (L7).</li>
                    <li>Risk and Maintenance Plan: Identify two major project risks (L9) and explain how you would manage Technical Debt (L9).</li>
                </ol>
                
                <div class="interactive-code-area" style="background: rgba(18, 26, 48, 0.85); border-left: 4px solid var(--success-color);">
                    <div class="area-header" style="color: var(--success-color);"><span>Submission Instructions</span></div>
                    <p>This is a non-code project. Your final submission is the written document. Save your document as: <strong>SWE101_YourName_DesignDoc.pdf</strong>.</p>
                    <p style="color: var(--error-color); font-weight: bold;">ACTION: Email your final document to: <code>elvionailabs@gmail.com</code></p>
                </div>
                <p>Once you pass the final quiz below, click "Final Exam/Certificate" in the navigation bar to proceed with certificate request.</p>
            `,
            quiz: [
                { type: 'mcq', question: 'For the SWE101 course, what is the final deliverable requirement?', options: ['A full, working code application', 'An Architectural Design Document', 'A face-to-face interview', 'A group presentation'], answer: 'An Architectural Design Document' },
                { type: 'text', question: 'What is the email address to which you must submit your project for certificate review? (Enter exactly)', answer: 'elvionailabs@gmail.com' },
                { type: 'mcq', question: 'Which UML diagram type should you use to visualize the relationships between major classes in your design (L5)?', options: ['Sequence Diagram', 'Activity Diagram', 'Class Diagram', 'Use Case Diagram'], answer: 'Class Diagram' },
                { type: 'mcq', question: 'The Capstone requires justifying your Architectural choice based on:', options: ['The amount of code written', 'Non-Functional Requirements (NFRs)', 'The popularity of the language', 'The price of the database'], answer: 'Non-Functional Requirements (NFRs)' },
                { type: 'text', question: 'What is the primary risk identified in L9 that causes projects to fail?', answer: 'Scope Creep' },
            ],
        },
    ];


const lawLessons = [
  {
    id: 1,
    title: 'Introduction to Law: Rules, Rights, and Why We Need Them',
    duration: '15 min',
    content: `
      <h2>Welcome to Law School (Where Everything Has a Case!)</h2>
      <p>Law is everywhere. It's why you can't just "borrow" your neighbor's generator forever, why marriages need documents (not just love), and why politicians can't simply declare themselves president-for-life. Law creates order in chaos, settles disputes without fists, and when done right, protects the weak from the powerful. Think of it as society's operating system, complete with bugs, updates, and the occasional crash.</p>

      <h3>Why Do We Even Have Law?</h3>
      <ul>
        <li><strong>Order:</strong> Without law, it's survival of the loudest. Traffic would be pure chaos (well, more than it already is in Lagos).</li>
        <li><strong>Justice:</strong> Law aims to be fair. Sometimes it succeeds, sometimes... well, we'll discuss that in class.</li>
        <li><strong>Rights Protection:</strong> Your freedom to speak, worship, own property all backed by law.</li>
        <li><strong>Dispute Resolution:</strong> Better to argue in court than settle disagreements at the village square with fists.</li>
        <li><strong>Social Change:</strong> Laws against child marriage, female genital mutilation, corruption—law can push society forward (if enforced).</li>
      </ul>

      <h3>Where Does Law Come From?</h3>
      <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
        <tr style="background: #f0f0f0;">
          <th style="padding: 10px;">Source</th>
          <th style="padding: 10px;">What It Is</th>
          <th style="padding: 10px;">Example</th>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Constitution</strong></td>
          <td style="padding: 10px;">Supreme law everyone answers to it</td>
          <td style="padding: 10px;">1999 Nigerian Constitution</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Legislation</strong></td>
          <td style="padding: 10px;">Laws made by elected representatives</td>
          <td style="padding: 10px;">Criminal Code, Companies Act</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Case Law</strong></td>
          <td style="padding: 10px;">Judge-made rules from court decisions</td>
          <td style="padding: 10px;">Precedents binding lower courts</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Customary Law</strong></td>
          <td style="padding: 10px;">Traditional practices recognized as law</td>
          <td style="padding: 10px;">Inheritance rules in many communities</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>International Law</strong></td>
          <td style="padding: 10px;">Treaties and conventions</td>
          <td style="padding: 10px;">ECOWAS agreements, UN conventions</td>
        </tr>
      </table>

      <h3>Criminal vs Civil: Know the Difference or Pay the Price</h3>
      <ul>
        <li><strong>Criminal Law:</strong> You vs The State. Someone commits a crime (theft, murder, fraud). State prosecutes. Punishment: jail, fines, or worse.</li>
        <li><strong>Civil Law:</strong> You vs Another Person/Company. Disputes over contracts, property, divorce, injuries. Winner gets money or court orders, not jail time.</li>
      </ul>
      <p><em>Fun fact:</em> You can be sued civilly AND prosecuted criminally for the same act. Steal your employer's laptop? Criminal charge for theft AND civil suit for damages. Double trouble.</p>

      <h3>Legal Systems: Common Law vs Civil Law</h3>
      <ul>
        <li><strong>Common Law (Nigeria, UK, US):</strong> Judges interpret laws and create precedents. If Justice Okoro ruled a certain way in 1995, that ruling still guides judges today unless a higher court says otherwise.</li>
        <li><strong>Civil Law (France, Germany, most of Europe):</strong> Everything is codified. Judges apply written codes; they don't "make" law.</li>
        <li><strong>Mixed Systems:</strong> Many African countries blend colonial law, customary practices, and modern statutes. Nigeria is one giant legal remix.</li>
      </ul>

      <h4>Skills Every Law Student Needs</h4>
      <ol>
        <li><strong>Reading:</strong> Cases are long. Statutes are dense. Coffee helps.</li>
        <li><strong>Analysis:</strong> "What does this law actually mean?" is asked more often than "Who won Big Brother?"</li>
        <li><strong>Argument:</strong> Convince someone you're right with evidence, logic, and zero shouting.</li>
        <li><strong>Writing:</strong> Clear, precise, persuasive. No room for "I think maybe possibly..."</li>
        <li><strong>Ethics:</strong> Knowing right from wrong even when clients (or bosses) don't.</li>
      </ol>

      <h4>Class Discussion</h4>
      <ul>
        <li>Can law ever be 100% fair? Should it try?</li>
        <li>Name a law you think is outdated. Why?</li>
        <li>What happens when custom conflicts with statute?</li>
      </ul>

      <h3>Key Takeaways</h3>
      <ul>
        <li>Law is the framework holding society together—imperfect, evolving, essential.</li>
        <li>It comes from multiple sources and affects every aspect of life.</li>
        <li>Lawyers aren't just arguing for fun, they're protecting rights, resolving conflicts, and shaping the future.</li>
      </ul>
    `,
    quiz: [
      {
        type: 'mcq',
        question: 'Which is NOT a formal source of law in Nigeria?',
        options: ['Constitution', 'Legislation', 'Viral Twitter thread', 'Case law'],
        answer: 'Viral Twitter thread'
      },
      {
        type: 'mcq',
        question: 'In criminal law, who brings the case to court?',
        options: ['The victim', 'The State', 'A random citizen', 'The defendant's family'],
        answer: 'The State'
      },
      {
        type: 'text',
        question: 'Describe one customary law practice in your community. Is it enforced like statutory law?',
        answer: ''
      },
      {
        type: 'mcq',
        question: 'The main difference between criminal and civil law is:',
        options: [
          'Civil cases are faster',
          'Criminal law punishes societal wrongs; civil law resolves private disputes',
          'Only rich people use civil courts',
          'Criminal lawyers wear better suits'
        ],
        answer: 'Criminal law punishes societal wrongs; civil law resolves private disputes'
      },
    ],
  },

  {
    id: 2,
    title: 'Constitutional Law: Power, Politics, and Your Rights',
    duration: '15 min',
    content: `
      <h2>Constitutional Law: The Big Boss Document</h2>
      <p>If law were a family, the Constitution would be the stern but fair grandparent everyone respects (or pretends to). It sets the rules for how government operates, who has power, and—crucially—what government can't do to you. In Nigeria, constitutional law is where politics meets legal drama, where governors fight the federal government, and where citizens occasionally win against the mighty state.</p>

      <h3>What Exactly Is a Constitution?</h3>
      <ul>
        <li><strong>Written:</strong> One big document (like Nigeria's 1999 Constitution, still being amended like a group project nobody wants to finish).</li>
        <li><strong>Unwritten:</strong> Mix of statutes, conventions, and tradition (like the UK—somehow it works).</li>
        <li><strong>Rigid:</strong> Hard to change, requires special procedures, supermajorities, sometimes referendums.</li>
        <li><strong>Flexible:</strong> Easy to amend—treated like regular law.</li>
      </ul>

      <h3>Functions: What Does a Constitution Do?</h3>
      <ol>
        <li><strong>Creates Government Structure:</strong> Executive (President, Governors), Legislature (National Assembly, State Houses), Judiciary (Supreme Court down to Magistrates).</li>
        <li><strong>Distributes Power:</strong> Federal vs State (cue endless arguments about resource control and state police).</li>
        <li><strong>Limits Government:</strong> You can't arrest citizens without reason, seize property without compensation, or ban opposition parties (in theory).</li>
        <li><strong>Protects Rights:</strong> Freedom of speech, religion, movement, fair trial, life itself.</li>
        <li><strong>Provides Amendment Process:</strong> Because no law lasts forever unchanged—except maybe parking fines.</li>
      </ol>

      <h3>Fundamental Human Rights (The Good Stuff)</h3>
      <p>Chapter IV of the Nigerian Constitution lists rights every citizen can claim. These include:</p>
      <ul>
        <li><strong>Right to Life:</strong> Can't be arbitrarily killed (though extrajudicial killings remain a serious problem).</li>
        <li><strong>Right to Dignity:</strong> No torture, inhuman treatment, or slavery.</li>
        <li><strong>Right to Personal Liberty:</strong> Can't be detained forever without trial (unfortunately, "remand" can stretch definitions).</li>
        <li><strong>Right to Fair Hearing:</strong> Innocent until proven guilty; right to a lawyer.</li>
        <li><strong>Freedom of Speech and Press:</strong> Say what you want—within limits (defamation, national security concerns).</li>
        <li><strong>Freedom of Religion:</strong> Worship as you choose; state can't impose religion.</li>
        <li><strong>Right to Property:</strong> Your stuff is yours (unless government needs it for "public purpose" with compensation, theoretically).</li>
      </ul>

      <h4>The Big Debate: Economic and Social Rights</h4>
      <p>Chapter II of the Constitution lists aspirational goals, education, health, employment. But these are "non-justiciable," meaning you can't sue government for failing to provide them. Should you be able to? Lawyers argue. Politicians dodge. Citizens suffer.</p>

      <h3>Separation of Powers: The Great Balancing Act</h3>
      <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
        <tr style="background: #f0f0f0;">
          <th style="padding: 10px;">Branch</th>
          <th style="padding: 10px;">Function</th>
          <th style="padding: 10px;">Nigerian Example</th>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Executive</strong></td>
          <td style="padding: 10px;">Enforces laws, runs government</td>
          <td style="padding: 10px;">President, Governors, Ministers</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Legislature</strong></td>
          <td style="padding: 10px;">Makes laws, approves budgets</td>
          <td style="padding: 10px;">National Assembly, State Houses</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Judiciary</strong></td>
          <td style="padding: 10px;">Interprets laws, resolves disputes</td>
          <td style="padding: 10px;">Supreme Court, High Courts</td>
        </tr>
      </table>
      <p><em>Why separate them?</em> So no single person or group becomes too powerful. Checks and balances prevent dictatorship, at least in theory. Practice can be... messier.</p>

      <h3>Federalism: Never-Ending Conversation</h3>
      <ul>
        <li>Federal government handles defense, currency, foreign affairs, major infrastructure.</li>
        <li>States control education (mostly), health, agriculture, local roads.</li>
        <li>Local governments... exist? (Autonomy is a hot topic.)</li>
        <li>Big fights: Who controls oil money? Can states create their own police? Should regions have more power?</li>
      </ul>

      <h3>Judicial Review: When Courts Say "No" to Government</h3>
      <p>Courts can declare laws or executive actions unconstitutional. This power—judicial review, is the judiciary's superweapon.</p>
      <ul>
        <li><strong>Marbury v. Madison (1803, US):</strong> Established judicial review. Courts worldwide borrowed the concept.</li>
        <li><strong>Attorney-General of the Federation v. Abubakar (2007, Nigeria):</strong> Nigerian courts confirmed they can strike down unconstitutional laws.</li>
      </ul>

      <h4>Hot Constitutional Issues Today</h4>
      <ul>
        <li>Electoral reform: Can we trust election results?</li>
        <li>State police: Should states control their security?</li>
        <li>Resource control: Should oil-producing states keep more revenue?</li>
        <li>Local government autonomy: Are LGAs truly independent or just extensions of state governments?</li>
        <li>Citizenship and indigeneship: Who belongs where, and does it matter?</li>
      </ul>

      <h4>Class Activity</h4>
      <ol>
        <li>Research: Find a recent Supreme Court case that dealt with fundamental rights. What was decided?</li>
        <li>Debate: Should economic rights (jobs, healthcare) be enforceable in court?</li>
        <li>Draft: Write one constitutional amendment you'd propose. Justify it in 200 words.</li>
      </ol>

      <h3>Key Takeaways</h3>
      <ul>
        <li>The Constitution is supreme but only as strong as those who enforce and defend it.</li>
        <li>Separation of powers prevents tyranny; federalism distributes authority.</li>
        <li>Rights are worthless if unenforced—know yours, defend them.</li>
      </ul>
    `,
    quiz: [
      {
        type: 'mcq',
        question: 'Under the 1999 Constitution, who can declare a law unconstitutional?',
        options: ['The President', 'The Governor', 'The Courts', 'The National Assembly'],
        answer: 'The Courts'
      },
      {
        type: 'text',
        question: 'Name two fundamental rights guaranteed in Chapter IV of the Nigerian Constitution.',
        answer: ''
      },
      {
        type: 'mcq',
        question: 'Separation of powers is designed to:',
        options: [
          'Make government slower',
          'Prevent any single branch from becoming too powerful',
          'Confuse citizens',
          'Increase the number of politicians'
        ],
        answer: 'Prevent any single branch from becoming too powerful'
      },
      {
        type: 'text',
        question: 'Why are Chapter II rights (economic and social) non-justiciable in Nigeria?',
        answer: ''
      },
    ],
  },

  {
    id: 3,
    title: 'Criminal Law: Crimes, Punishments, and Justice',
    duration: '15 min',
    content: `
      <h2>Criminal Law: When Society Says "Enough!"</h2>
      <p>Criminal law is where the rubber meets the road—or where the thief meets the jail cell. This is the law that defines what society won't tolerate: murder, theft, fraud, assault. Break these rules and the state comes for you. Not your neighbor. Not your uncle. The entire government machinery. Criminal law is serious business, but it's also where justice and mercy wrestle, where innocence must be proven by the state, and where a good lawyer can mean the difference between freedom and a very long time behind bars.</p>

      <h3>What Makes Something a Crime?</h3>
      <p>Not every bad act is a crime. Being rude? Not a crime. Cheating in Ludo? Morally questionable, legally fine. For conduct to be criminal, it needs:</p>
      <ol>
        <li><strong>Actus Reus (Guilty Act):</strong> You actually did something wrong—or failed to do something you were legally required to do.</li>
        <li><strong>Mens Rea (Guilty Mind):</strong> You intended it, were reckless, or were negligent. Accidents (true accidents) aren't usually crimes.</li>
        <li><strong>Concurrence:</strong> The act and intent must happen together. Planning a crime but never doing it? Conspiracy. Doing something accidentally? Probably not criminal.</li>
        <li><strong>Causation:</strong> Your act must cause the harm. If someone else's action breaks the chain, you might escape liability.</li>
      </ol>

      <h3>Types of Crimes</h3>
      <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
        <tr style="background: #f0f0f0;">
          <th style="padding: 10px;">Category</th>
          <th style="padding: 10px;">Examples</th>
          <th style="padding: 10px;">Punishment Range</th>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Felonies</strong></td>
          <td style="padding: 10px;">Murder, armed robbery, rape, arson</td>
          <td style="padding: 10px;">Long imprisonment, sometimes death penalty</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Misdemeanors</strong></td>
          <td style="padding: 10px;">Petty theft, simple assault, public disorder</td>
          <td style="padding: 10px;">Short jail time, fines, community service</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Statutory Offenses</strong></td>
          <td style="padding: 10px;">Cybercrimes, environmental violations, traffic offenses</td>
          <td style="padding: 10px;">Varies widely by statute</td>
        </tr>
      </table>

      <h3>Defenses: When "I Did It" Doesn't Mean "I'm Guilty"</h3>
      <ul>
        <li><strong>Self-Defense:</strong> Someone attacks you; you fight back with reasonable force. Key word: reasonable. You can't shoot someone for slapping you.</li>
        <li><strong>Insanity:</strong> You didn't understand what you were doing due to mental illness. Hard to prove; rarely succeeds.</li>
        <li><strong>Duress:</strong> Someone forced you to commit a crime under immediate threat. "Do this or I kill your family." (Doesn't work for murder in most jurisdictions.)</li>
        <li><strong>Mistake:</strong> Genuine mistake of fact can negate intent. Took someone's bag thinking it was yours? Not theft if honest mistake.</li>
        <li><strong>Alibi:</strong> "I wasn't there." Simple, effective—if provable.</li>
        <li><strong>Consent:</strong> In some cases (like sports injuries), consent can be a defense.</li>
      </ul>

      <h3>Criminal Procedure: From Arrest to Verdict</h3>
      <ol>
        <li><strong>Investigation:</strong> Police gather evidence, interview witnesses.</li>
        <li><strong>Arrest:</strong> Suspect detained—must be informed of charges and rights.</li>
        <li><strong>Arraignment:</strong> Accused brought to court, charges read, plea entered (guilty, not guilty, no contest).</li>
        <li><strong>Bail Hearing:</strong> Court decides if accused can be released pending trial. Not automatic; depends on offense severity and flight risk.</li>
        <li><strong>Trial:</strong> Prosecution proves guilt beyond reasonable doubt. Defense challenges evidence, presents alternative narrative.</li>
        <li><strong>Verdict:</strong> Guilty or not guilty (not "innocent" subtle but important distinction).</li>
        <li><strong>Sentencing:</strong> If guilty, judge imposes punishment—jail, fine, probation, community service, or in extreme cases, death.</li>
        <li><strong>Appeal:</strong> Either party can appeal—though prosecution can't appeal an acquittal (double jeopardy).</li>
      </ol>

      <h3>Landmark Nigerian Criminal Law</h3>
      <ul>
        <li><strong>Criminal Code Act:</strong> Applies in southern Nigeria—inherited from British colonial law.</li>
        <li><strong>Penal Code:</strong> Applies in northern Nigeria—influenced by Islamic law.</li>
        <li><strong>Administration of Criminal Justice Act (ACJA) 2015:</strong> Modernized criminal procedure faster trials, better rights protection (in theory).</li>
      </ul>

      <h4>Modern Challenges</h4>
      <ul>
        <li><strong>Cybercrime:</strong> Online fraud (Yahoo Yahoo), hacking, identity theft—new crimes need new laws.</li>
        <li><strong>Police Brutality:</strong> #EndSARS highlighted extrajudicial killings, illegal detention, torture. Justice requires accountability.</li>
        <li><strong>Prison Conditions:</strong> Overcrowding, awaiting-trial inmates languishing for years—system needs reform.</li>
        <li><strong>Death Penalty:</strong> Still on the books for murder, armed robbery, treason. Should it be abolished? Debate rages.</li>
      </ul>

      <h4>Interesting Scenarios</h4>
      <ul>
        <li>Your friend asks you to hold a bag. Turns out it contains stolen goods. Are you guilty of theft?</li>
        <li>You're driving and someone jumps in front of your car. They die. Murder? Manslaughter? Neither?</li>
        <li>You slap someone who insulted your mother. Crime or justified?</li>
      </ul>

      <h4>Class Activity</h4>
      <ol>
        <li>Mock Trial: Stage a simple theft case. Assign roles—judge, prosecutor, defense, witnesses. See who wins.</li>
        <li>Debate: Should Nigeria abolish the death penalty?</li>
        <li>Research: Find one case of wrongful conviction. What went wrong? How was it corrected (if at all)?</li>
      </ol>

      <h3>Key Takeaways</h3>
      <ul>
        <li>Criminal law protects society, but it must also protect the accused from abuse.</li>
        <li>Proof beyond reasonable doubt is a high bar—intentionally so.</li>
        <li>Justice delayed is justice denied—Nigeria's criminal justice system needs urgent reform.</li>
      </ul>
    `,
    quiz: [
      {
        type: 'mcq',
        question: 'Which element refers to the physical act of committing a crime?',
        options: ['Mens rea', 'Actus reus', 'Alibi', 'Causation'],
        answer: 'Actus reus'
      },
      {
        type: 'mcq',
        question: 'In criminal law, who must prove guilt?',
        options: ['The defendant', 'The prosecution', 'The judge', 'The jury'],
        answer: 'The prosecution'
      },
      {
        type: 'text',
        question: 'Explain the difference between self-defense and duress as defenses.',
        answer: ''
      },
      {
        type: 'mcq',
        question: 'What is the standard of proof in criminal cases?',
        options: [
          'Balance of probabilities',
          'Beyond reasonable doubt',
          'Clear and convincing evidence',
          'Preponderance of evidence'
        ],
        answer: 'Beyond reasonable doubt'
      },
      {
        type: 'text',
        question: 'Create a brief scenario where someone commits actus reus but lacks mens rea.',
        answer: ''
      },
    ],
  },

  {
    id: 4,
    title: 'Contract Law: Promises You Can Actually Enforce',
    duration: '15 min',
    content: `
      <h2>Contract Law: When Handshakes Need Backup</h2>
      <p>Every day, you make agreements. Buy pure water? Contract. Rent a room? Contract. Hire a mechanic who "promises" to fix your car "before sunset"? Contract (good luck enforcing that one). Contract law determines which promises are legally binding and what happens when someone breaks their word. In Nigeria, where business deals still involve considerable "trust," knowing contract law can save you money, time, and heartbreak.</p>

      <h3>What Makes a Contract Valid?</h3>
      <p>Not every promise is a contract. For legal enforceability, you need these six elements:</p>
      <ol>
        <li><strong>Offer:</strong> Clear proposal with definite terms. "I'll sell you my phone for N50,000."</li>
        <li><strong>Acceptance:</strong> Unconditional agreement to all terms. "Yes, I'll buy it." (Silence doesn't count; maybe doesn't count.)</li>
        <li><strong>Consideration:</strong> Something of value exchanged. Money, goods, services, even a promise. "I'll pay you N50,000" (buyer's consideration). "I'll transfer the phone" (seller's consideration).</li>
        <li><strong>Intention to Create Legal Relations:</strong> Both parties mean for this to be legally binding. Social invitations ("Let's grab lunch sometime") don't count.</li>
        <li><strong>Capacity:</strong> Parties must be legally capable. Minors, mentally ill persons, and intoxicated people often can't make binding contracts.</li>
        <li><strong>Legality:</strong> Purpose must be lawful. "I'll pay you N1 million to burn down my competitor's shop" is not enforceable (and is also criminal).</li>
      </ol>

      <h3>Types of Contracts</h3>
      <table style="width: 100%; border-collapse: collapse; margin: 20px 0;">
        <tr style="background: #f0f0f0;">
          <th style="padding: 10px;">Type</th>
          <th style="padding: 10px;">Description</th>
          <th style="padding: 10px;">Example</th>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Express</strong></td>
          <td style="padding: 10px;">Terms stated clearly (oral or written)</td>
          <td style="padding: 10px;">Written sale agreement for land</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Implied</strong></td>
          <td style="padding: 10px;">Terms inferred from conduct</td>
          <td style="padding: 10px;">You board a taxi—payment is implied</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Bilateral</strong></td>
          <td style="padding: 10px;">Promise for a promise</td>
          <td style="padding: 10px;">Employment contract</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Unilateral</strong></td>
          <td style="padding: 10px;">Promise for an act</td>
          <td style="padding: 10px;">Reward for finding lost dog</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Written</strong></td>
          <td style="padding: 10px;">Documented on paper</td>
          <td style="padding: 10px;">Lease agreements, land sales</td>
        </tr>
        <tr>
          <td style="padding: 10px;"><strong>Oral</strong></td>
          <td style="padding: 10px;">Spoken agreement</td>
          <td style="padding: 10px;">Buying vegetables at the market</td>
        </tr>
      </table>

      <h3>When Contracts Go Wrong: Breach</h3>
      <p>Breach occurs when one party fails to perform their obligations. Not all breaches are equal:</p>
      <ul>
        <li><strong>Minor Breach:</strong> Small deviation that doesn't destroy the contract's purpose. Late delivery by one day? Annoying, but contract still stands.</li>
        <li><strong>Material Breach:</strong> Fundamental failure. You paid for a car; seller delivers a bicycle. Contract is essentially destroyed.</li>
        <li><strong>Anticipatory Breach:</strong> One party announces they won't perform before the deadline. Other party can sue immediately—no need to wait for failure.</li>
      </ul>

      <h3>Remedies: What You Get When Someone Breaks Their Promise</h3>
      <ol>
        <li><strong>Damages:</strong> Money to compensate for loss. Most common remedy. Types include:
          <ul>
            <li><strong>Compensatory:</strong> Covers actual loss.</li>
            <li><strong>Consequential:</strong> Covers indirect losses (lost profits, etc.).</li>
            <li><strong>Nominal:</strong> Tiny amount when breach occurred but no real loss.</li>
            <li><strong>Punitive:</strong> Rare in contract law (more common in torts)—punishes especially bad conduct.</li>
          </ul>
        </li>
        <li><strong>Specific Performance:</strong> Court orders breaching party to actually perform. Used mainly for unique goods (land, rare items), not for personal services (can't force someone to work).</li>
        <li><strong>Rescission:</strong> Contract is canceled; parties return what they received.</li>
        <li><strong>Injunction:</strong> Court order to stop doing something. "Stop using my trademark."</li>
      </ol>

      <h3>Defenses to Breach Claims</h3>
      <ul>
        <li><strong>Impossibility:</strong> Performance became impossible through no fault of either party (natural disaster destroys goods).</li>
        <li><strong>Frustration:</strong> Unforeseen event makes contract pointless (wedding venue burns down before the ceremony).</li>
        <li><strong>Mistake:</strong> Both parties were mistaken about a fundamental fact (sold you a "diamond" ring—turns out it's glass).</li>
        <li><strong>Duress:</strong> Forced into contract under threat.</li>
        <li><strong>Undue Influence:</strong> One party took unfair advantage of trust/authority relationship.</li>
        <li><strong>Misrepresentation:</strong> False statement induced you to enter contract.</li>
      </ul>

      <h3>Nigerian Contract Law: Key Points</h3>
      <ul>
        <li>Governed by common law principles plus statutes like the Sale of Goods Act.</li>
        <li>Some contracts must be in writing (land transactions under Statute of Frauds).</li>
        <li>Customary law may apply to marriage and family contracts.</li>
        <li>Nigerian courts enforce contracts but delays are common—alternative dispute resolution (arbitration, mediation) is increasingly popular.</li>
      </ul>

      <h4>Famous Cases</h4>
      <ul>
        <li><strong>Carlill v. Carbolic Smoke Ball Co (1893):</strong> Company advertised reward for anyone who used product and still got flu. Woman used it, got flu, sued for reward. Court ruled: ad was unilateral contract; company must pay. Lesson: Don't make promises you can't keep—even in ads.</li>
        <li><strong>UAC v. Macfoy (1961, Nigeria):</strong> "You cannot put something on nothing and expect it to stand." If contract is void from the start, no rights arise from it.</li>
      </ul>

      <h4>Real-Life Scenarios</h4>
      <ul>
        <li>You order fried rice "extra spicy." Restaurant delivers mild. Breach of contract? (Probably not—too vague. Good luck proving damages.)</li>
        <li>Mechanic quotes N20,000 to fix your car. After work, demands N50,000. Enforceable? (Original quote is the contract, unless new work was genuinely necessary and you agreed.)</li>
        <li>You lend a friend money. They promise to repay "when things get better." Enforceable? (Probably not—too vague, no timeframe.)</li>
      </ul>

      <h4>Class Activity</h4>
      <ol>
        <li>Draft a simple contract for selling a phone. Include all six essential elements.</li>
        <li>Debate: Should oral contracts be as enforceable as written ones?</li>
        <li>Role-play: Negotiate a contract for renting an apartment. Identify points of disagreement and how to resolve them.</li>
      </ol>

      <h3>Key Takeaways</h3>
      <ul>
        <li>Contracts are everywhere, knowing the rules protects you in business and daily life.</li>
        <li>All six elements must be present for enforceability.</li>
        <li>Get it in writing, especially for big transactions.</li>
        <li>When in doubt, consult a lawyer before signing anything.</li>
      </ul>
    `,
    quiz: [
      {
        type: 'mcq',
        question: 'Which of the following is NOT an essential element of a valid contract?',
        options: ['Offer', 'Acceptance', 'Witness', 'Consideration'],
        answer: 'Witness'
      },
      {
        type: 'mcq',
        question: 'A 15-year-old signs a contract to buy a luxury car. What is the likely legal status?',
        options: [
          'Fully enforceable',
          'Void due to lack of capacity',
          'Valid if parents approve later',
          'Automatically criminal'
        ],
        answer: 'Void due to lack of capacity'
      },
      {
        type: 'text',
        question: 'Give an example of an implied contract from everyday life.',
        answer: ''
      },
      {
        type: 'mcq',
        question: 'What remedy orders the breaching party to actually perform their obligation?',
        options: ['Damages', 'Rescission', 'Specific performance', 'Injunction'],
        answer: 'Specific performance'
      },
      {
        type: 'text',
        question: 'Why is it generally better to have written contracts rather than oral ones?',
        answer: ''
      },
    ],
  },
      {
  id: 5,
  title: 'Tort Law: Rights, Wrongs, and Everyday Drama',
  duration: '15 min',
  content: `
    <h2>Welcome to Tort Law: The Law of Problems</h2>
    <p>Let’s be honest: Life is full of drama. Someone scratches your car at Shoprite and simply drives off. Your neighbor’s goat eats all your yam seedlings. A teacher slaps a student “to correct him” and the whole street hears about it. In all this, who pays, who sues, who wins, and why? This is the world of tort law, where people go from “Mr, pay me my damages!” to actually getting justice (sometimes…)</p>

    <h3>Tort? What’s That?</h3>
    <p>“Tort” is just a fancy word for a civil wrong (not a crime, not a contract issue). If someone owes you money, think contract. If someone punches you during an argument in traffic, think tort.</p>

    <h4>Types of Torts (Major Gists)</h4>
    <ul>
      <li><strong>Negligence:</strong> “You looking at the road at all?!” carelessness that causes harm. Example: Okada rider texting while riding, rans into you.</li>
      <li><strong>Intentional Torts:</strong> “He did it on purpose!” Assault, battery, false imprisonment, defamation (calling your neighbor a “thief” on Facebook).</li>
      <li><strong>Strict Liability:</strong> “Geez, your dog bit him. Pay your dues.” Even if you were careful, you are liable. Applies for dangerous animals, chemical spills, etc.</li>
    </ul>

    <h3>Negligence: Classic</h3>
    <ol>
      <li><strong>Duty of Care:</strong> Did the other person owe you a duty? (Drivers owe fellow road users…bank owes customers)</li>
      <li><strong>Breach:</strong> Did they break it? (Drove like James Bond or abandoned a manhole)</li>
      <li><strong>Damage:</strong> Did you actually suffer loss or injury?</li>
      <li><strong>Causation:</strong> Was their problem the real cause? Don’t blame NEPA for rain!</li>
    </ol>
    <p>Case: <strong>Donoghue v. Stevenson</strong> (the "snail in the ginger beer" you can be sued for hidden dangers in things you sell, even pure water).</p>

    <h4>Hot Takes</h4>
    <ul>
      <li>Government sues Banks for flooding Lagos Island: “Why didn’t you build enough drainage?”</li>
      <li>Landlords sued for refusing to repair leaking roofs tenant’s property spoilt in the rain.</li>
      <li>“Area boys” take over your shop, but nobody warns you: who is liable?</li>
    </ul>

    <h3>Defenses to Torts</h3>
    <ul>
      <li><strong>Volenti:</strong> “Can you take the risk! You attended the street wrestling match anyway.”</li>
      <li><strong>Contributory Negligence:</strong> “Nobody sent you to cross Third Mainland Bridge at midnight.”</li>
      <li><strong>Act of God:</strong> “Thunder fire transformer” some things just can’t realistically be blamed on anyone.</li>
    </ul>

    <h4>How Much is Enough?</h4>
    <p>You don’t just get damages because “I’m angry!” You must show real loss. Nigerian courts can award N5,000, N5 million, even apologies in newspapers. Emotional distress? Only if truly severe… not just your village people suspecting you.</p>

    <h4>Mini-Debate</h4>
    <p><em>Do you think “slapping for discipline” should ever be allowed? Or talk true: has anyone ever “torted” you and you didn’t even know you could sue?</em></p>

    <h3>Key Takeaways</h3>
    <ul>
      <li>Tort law is real-life problems, but organized by judges, not okada riders.</li>
      <li>Not all hurts go to court, but knowing your rights gives you power (and peace of mind).</li>
      <li>Nigerian flavor: Watch for what’s enforceable, even the police sometimes call everything “civil matter.”</li>
    </ul>
  `,
  quiz: [
    {
      type: 'mcq',
      question: 'What’s the FIRST thing you prove in Nigerian negligence?',
      options: ['That the police was informed', 'That there was a duty of care', 'That you are angry', 'That the warden agrees with you'],
      answer: 'That there was a duty of care'
    },
    {
      type: 'mcq',
      question: 'Your landlord leaves the well uncovered and you fall in—he says, “Rain, not me!” What would likely apply?',
      options: ['Strict liability', 'Breach of contract', 'Act of God', 'Assault'],
      answer: 'Strict liability'
    },
    {
      type: 'text',
      question: 'Write your own short true or imagined story of a tort. Make it funny!',
      answer: ''
    },
    {
      type: 'mcq',
      question: 'Calling your ex’s new partner “thief” on Twitter, they sue and win. Which tort?',
      options: ['Battery', 'Defamation', 'False imprisonment', 'Frustration'],
      answer: 'Defamation'
    },
  ],
      },
      {
  id: 6,
  title: 'Property Law: Land, Lagos Life, and Legal Drama',
  duration: '15 min',
  content: `
    <h2>Property Law: Everyone Wants a Piece</h2>
    <p>In every country, land is wealth and the source of more heated family meetings than who gets the biggest piece of chicken at Christmas. If you've ever wondered why those "This Land Is Not For Sale" signs multiply on fence blocks like they’re breeding, you’re about to find out. Property law determines who really “owns” what, whose signature counts, and how not to buy land you’ll regret at family reunions.</p>

    <h3>What Counts as Property?</h3>
    <ul>
      <li><strong>Land:</strong> Not just the sand under your feet, also everything built on top, trees (except if your uncle wants mangoes from “the old days”), and even the oil under the ground if you’re lucky or Shell is unlucky.</li>
      <li><strong>Personal Property:</strong> All moveable things. Yes, that Toyota Corolla is personal property, even when 15 relatives want to borrow it.</li>
      <li><strong>Intellectual Property:</strong> Your cousin’s Afrobeats hit and that Nollywood script your aunt claims she wrote.</li>
    </ul>

    <h3>Land Ownership in Modern Nigeria</h3>
    <ul>
      <li><strong>Freehold:</strong> “Forever land” (super rare—Land Use Act mostly took it from you).</li>
      <li><strong>Leasehold:</strong> You’re more of a long-term guest than king; you get years, not eternity.</li>
      <li><strong>Customary:</strong> Family land. Don't even think about selling it without calling every cousin, including that one in the UK.</li>
      <li><strong>Statutory Right of Occupancy:</strong> You own, but you need the Governor's “blessing” for nearly every transaction. File this under “patience is a virtue.”</li>
    </ul>

    <h3>The Land Use Act (1978)</h3>
    <ul>
      <li>All land in every state belongs to the Governor. Yes, even that plot your ancestors farmed “since 1802.”</li>
      <li>To sell, assign, mortgage, or transfer: get the Governor’s consent or face legal drama worthy of any Nollywood courtroom.</li>
      <li>Urban land: Governor. Rural land: Local Government. Confused? That’s why lawyers have jobs.</li>
    </ul>

    <h3>Land Deals: How to Stay Out of Trouble</h3>
    <ol>
      <li><strong>Before You Buy:</strong> Visit the land. If there’s a sign reading “Not For Sale,” believe it, or at least dig very deep.</li>
      <li><strong>Registry Search:</strong> Before your wallet leaves your pocket, check the Lands Registry. If you find 5 names as owners, walk away—quickly.</li>
      <li><strong>Get Professionals:</strong> Surveyor for boundaries. Lawyer for documents. Think of them as your personal security.</li>
      <li><strong>Papers:</strong> At least four: Deed of Assignment, Survey Plan, Governor’s Consent, and—if possible Certificate of Occupancy. Receipts are not ownership!</li>
      <li><strong>Don’t Forget Physical Possession:</strong> Fence it, mark it, and maybe plant cassava as extra security. Everyone respects the farmer.</li>
    </ol>

    <h3>Common Disputes (and Unexpected Plot Twists)</h3>
    <ul>
      <li><strong>Multiple Owners:</strong> Bought the same land from three different “owners”? Welcome to Saturday at the Lagos High Court.</li>
      <li><strong>Inheritance Feuds:</strong> If family land is involved, schedule mediation and refreshments. This might take a while.</li>
      <li><strong>Government Acquisition:</strong> “Public purpose” means your house could make way for new stadium parking. Compensation is your right though “prompt” is sometimes an optimistic term.</li>
      <li><strong>Land Grabbing:</strong> Yes, it’s illegal. Still, never leave your land empty and trust “all will be well.”</li>
    </ul>

    <h3>Nigerian Real-Life Advice</h3>
    <ul>
      <li>Never pay for land in cash, at night, or at a party. If a receipt is handwritten and says “Trust me,” call your lawyer.</li>
      <li>Don’t ignore the Omonile (“land lord boys”); they may not have legal rights, but their presence is a practical matter. Negotiate, but always protect your legal interests.</li>
    </ul>

    <h4>Fun Task</h4>
    <ul>
      <li>Write a checklist titled: “Ten Ways Not To Get Scammed Buying Land in Nigeria.” Bonus: Share it with someone leaving for the city soon.</li>
    </ul>

    <h3>Key Takeaways</h3>
    <ul>
      <li>Proper documentation and due diligence save you from endless disputes and awkward family meetings.</li>
      <li>Land Use Act is law; family custom is reality. You need both lawyers and wisdom.</li>
    </ul>
  `,
  quiz: [
    {
      type: 'mcq',
      question: 'In Nigeria, who grants the Certificate of Occupancy for urban land?',
      options: ['President', 'Governor', 'Oba', 'Local Government Chairman'],
      answer: 'Governor'
    },
    {
      type: 'mcq',
      question: 'What is the main legal risk with verbal land sales?',
      options: [
        'Governor may block you on WhatsApp',
        'No legal title, easy to dispute in court',
        'You forget payment',
        'Custom says it’s fine'
      ],
      answer: 'No legal title, easy to dispute in court'
    },
    {
      type: 'mcq',
      question: 'You discover your “family land” has been sold to another buyer. What is the wisest first action?',
      options: [
        'Organise family meeting',
        'Call the police immediately',
        'File a court claim and secure your title documents',
        'Go on social media'
      ],
      answer: 'File a court claim and secure your title documents'
    },
    {
      type: 'text',
      question: 'Suggest two practical steps to avoid “Omonile” land drama.',
      answer: ''
    },
  ],
    },
    {
  id: 7,
  title: 'Legal Practice & Procedure: How Cases Move and Lawyers Win',
  duration: '15 min',
  content: `
    <h2>Behind the Scenes: How Legal Battles Are Really Fought</h2>
    <p>
      Forget the television “Objection, My Lord!”, real courtroom drama is a mix of paperwork, strategy, and good old professional hustle. Legal practice is the engine that turns legal theory into client victories (or, occasionally, comedic blunders worthy of a sitcom).
    </p>
    
    <h3>Nigerian Court System: The Game Board</h3>
    <ul>
      <li>
        <strong>Supreme Court:</strong> The final stop, no appeals, no takebacks.
      </li>
      <li>
        <strong>Court of Appeal:</strong> Handles complaints when one party feels wronged by a High Court’s decision.
      </li>
      <li>
        <strong>Federal and State High Courts:</strong> Where the major action begins criminal, civil, family, land, the works.
      </li>
      <li>
        <strong>Lower Courts:</strong> Magistrate (minor offences, day-to-day quarrels), Customary, Sharia (personal and cultural matters).
      </li>
      <li>
        <strong>Special Tribunals:</strong> Elections, tax, industrial disputes—if it’s messy, it might need one.
      </li>
    </ul>

    <h3>How a Lawsuit Really Starts</h3>
    <ol>
      <li>
        <strong>Client arrives:</strong> Often mentions “my rights” a lot, but facts are slippery. Patience and good note-taking win the day.
      </li>
      <li>
        <strong>Paperwork begins:</strong> Writ of Summons kicks things off. Statement of claim follows. If your handwriting is bad, improve your typing speed!
      </li>
      <li>
        <strong>Serving the other side:</strong> Don’t assume WhatsApp service counts, get proper court-authorized service for valid proceedings.
      </li>
      <li>
        <strong>Pleadings:</strong> Like chess—each side lays out claims, defences, even counterclaims. A good pleading is tight, clear, and leaves zero room for confusion.
      </li>
    </ol>
    
    <h3>From Filing to Judgment</h3>
    <ul>
      <li>
        <strong>Trial:</strong> Witnesses take the stand. Cross-examination is where lawyers' wit shines (and sometimes, fails spectacularly).
      </li>
      <li>
        <strong>Final Address:</strong> Think “closing speech”—the best argument the judge will hear that day.
      </li>
      <li>
        <strong>Judgment:</strong> Some are delivered the same month. Others... well, keep track, and keep reminding the registry.
      </li>
      <li>
        <strong>Enforcement:</strong> A judgment without enforcement is like jollof rice without party, disappointing. Bailiffs, police, and sometimes, creative negotiation get things moving.
      </li>
    </ul>

    <h3>Procedural Pitfalls—And How To Dodge Them</h3>
    <ul>
      <li>
        <strong>Missed deadlines:</strong> No tragedy moves a judge faster than expired limitation periods. Mark your calendar!
      </li>
      <li>
        <strong>Improper service:</strong> No valid service, no valid case—no matter how convincing your evidence is.
      </li>
      <li>
        <strong>Missing evidence:</strong> Bring originals, certified copies, don’t let that vital birth certificate be “forgotten at home.” 
      </li>
      <li>
        <strong>Poor courtroom manners:</strong> Disrespect can earn rebuke or worse, find yourself cited for contempt, and you’ll have a story for life.
      </li>
    </ul>

    <h3>Professional Etiquette and Surviving It All</h3>
    <ul>
      <li>
        Dress like you mean business; leave your patterned socks at home.
      </li>
      <li>
        Address the bench with utmost respect "Your Lordship” never goes out of style.
      </li>
      <li>
        Be early. Judges have long memories, and you want yours to be fond.
      </li>
      <li>
        Never raise your voice, unless it’s to be heard, not to be rude.
      </li>
      <li>
        Remember: The registry staff know more about schedules than you think. Be nice!
      </li>
    </ul>

    <h4>Changing Times: Technology and Practice</h4>
    <ul>
      <li>
        Electronic filing means fewer lines at the court registry and less exercise running for signatures.
      </li>
      <li>
        Virtual hearings are here. If you forget to unmute or wear your wig with pajamas, be ready for office jokes.
      </li>
    </ul>

    <h4>Ask Yourself</h4>
    <ul>
      <li>Which case forms make you anxious?</li>
      <li>What’s your proudest (or funniest) courtroom moment, observed or feared?</li>
      <li>Why do some cases last longer than all four seasons?</li>
    </ul>

    <h3>Key Takeaways</h3>
    <ul>
      <li>Courtroom wins depend as much on knowing procedure as knowing the law.</li>
      <li>Humor, humility, and attention to paperwork will save you more than once in your career.</li>
      <li>Nigerian courts run on law, respect, and the occasional miracle.</li>
    </ul>
  `,
  quiz: [
    {
      type: 'mcq',
      question: 'Which document actually starts a civil suit in the High Court?',
      options: ['Notice of Appeal', 'Writ of Summons', 'Counterclaim', 'Affidavit'],
      answer: 'Writ of Summons'
    },
    {
      type: 'mcq',
      question: 'During a trial, forgetting to bring your only copy of a vital document is best described as:',
      options: [
        'An unfortunate learning experience',
        'A “minor” issue',
        'A routine event',
        'Grounds for celebration'
      ],
      answer: 'An unfortunate learning experience'
    },
    {
      type: 'text',
      question: 'Share (invent or recall) a brief courtroom blunder that would make your colleagues laugh (or cringe).',
      answer: ''
    },
    {
      type: 'mcq',
      question: 'If you address a Magistrate as “My Lord,” what is the probable result?',
      options: [
        'More respect for you',
        'Mild correction,use “Your Worship” instead',
        'Immediate suspension',
        'The case is dismissed'
      ],
      answer: 'Mild correction use “Your Worship” instead'
    },
  ],
    },
    ];
      
    // Assembling all courses
    const allCourses = [
        // CS101 now uses the robust, detailed lessons
        { id: 'cs101', title: 'Computer Science', description: 'Fundamentals of computing, programming, and algorithms', icon: 'fas fa-laptop-code', totalLessons: 8, estimatedHours: 120, mediaType: 'video', lessons: cs101Lessons },
        // Software Engineering Course
        { id: 'swe101', title: 'Software Engineering', description: 'Design, develop, and maintain large-scale software systems.', icon: 'fas fa-cogs', totalLessons: 10, estimatedHours: 80, mediaType: 'video', lessons: swe101Lessons },
        // OTHER COURSES WITH GENERATED PLACEHOLDERS
        { id: 'law101', title: 'Law (LLB)', description: 'Comprehensive study of legal principles and practice.', icon: 'fas fa-balance-scale', totalLessons: 10, estimatedHours: 90, mediaType: 'video', lessons: law101Lessons },
        { id: 'eng101', title: 'English & Literary Studies', description: 'Study of English language, literature, and critical analysis.', icon: 'fas fa-pen-nib', totalLessons: 4, estimatedHours: 60, mediaType: 'audio', lessons: generateDefaultLessons(4, 'ENG', false) },
        { id: 'his101', title: 'History & Strategic Studies', description: 'World history, Nigerian history, and strategic studies.', icon: 'fas fa-globe-africa', totalLessons: 5, estimatedHours: 75, mediaType: 'audio', lessons: generateDefaultLessons(5, 'HIS', false) },
        { id: 'bus101', title: 'Business Administration', description: 'Principles of management, marketing, finance, and entrepreneurship.', icon: 'fas fa-chart-line', totalLessons: 7, estimatedHours: 100, mediaType: 'audio', lessons: generateDefaultLessons(7, 'BUS', true) },
        { id: 'mass101', title: 'Mass Communication', description: 'Journalism, public relations, broadcasting, and digital media communication.', icon: 'fas fa-bullhorn', totalLessons: 6, estimatedHours: 90, mediaType: 'audio', lessons: generateDefaultLessons(6, 'MASS', false) },
        { id: 'math101', title: 'Mathematics Education', description: 'Methods and strategies for teaching mathematics.', icon: 'fas fa-calculator', totalLessons: 5, estimatedHours: 70, mediaType: 'audio', lessons: generateDefaultLessons(5, 'MATED', false) },
        { id: 'aed101', title: 'Adult Education', description: 'Teaching and learning strategies for adult learners.', icon: 'fas fa-chalkboard-teacher', totalLessons: 4, estimatedHours: 60, mediaType: 'audio', lessons: generateDefaultLessons(4, 'ADULT', false) },
        {
            id: 'visart101',
            title: 'Visual Arts & Digital Media',
            description: 'A study of animation, painting, graphic design, and digital art.',
            icon: 'fas fa-palette',
            totalLessons: 6,
            estimatedHours: 95,
            mediaType: 'video',
            lessons: generateDefaultLessons(6, 'VA', true)
        },
    ];

    let currentUser = null;
    let userData = null;
    let currentCourse = null;
    let currentLesson = 1;
    let totalLessons = 0;
    let quizPassed = false; // New state to track if quiz is passed for navigation

    // URL Parameters
    const urlParams = new URLSearchParams(window.location.search);
    const courseId = urlParams.get('courseId');
    const lessonParam = urlParams.get('lesson');

    // ... (DOM Content Loaded and Star Animation code remains the same)

    // Mobile Menu Toggle
    const mobileMenuToggle = document.getElementById('mobileMenuToggle');
    const courseSidebar = document.getElementById('courseSidebar');

    mobileMenuToggle.addEventListener('click', () => {
        courseSidebar.classList.toggle('active');
    });

    // Close sidebar when clicking outside on mobile
    document.addEventListener('click', (e) => {
        if (window.innerWidth <= 992) {
            if (!courseSidebar.contains(e.target) && !mobileMenuToggle.contains(e.target)) {
                courseSidebar.classList.remove('active');
            }
        }
    });

    // Auth State Management
    onAuthStateChanged(auth, async (user) => {
        if (user) {
            currentUser = user;
            await loadUserData();
            await initializeCourseViewer();
        } else {
            // Redirect to enrollment page if not logged in
            window.location.href = 'enroll.html';
        }
    });

    async function loadUserData() {
        try {
            const userDocRef = doc(db, 'users', currentUser.uid);
            const userDoc = await getDoc(userDocRef);

            if (userDoc.exists()) {
                userData = userDoc.data();
                // Ensure totalPoints exists for new users
                if (userData.totalPoints === undefined) {
                    userData.totalPoints = 0;
                    await updateDoc(userDocRef, { totalPoints: 0 });
                }
            } else {
                // Redirect to dashboard (or enrollment flow) if user data is missing
                window.location.href = 'studyingatelvion.html';
            }
        } catch (error) {
            console.error('Error loading user data:', error);
            alert('Error loading user data. Please try again.');
        }
    }

    async function initializeCourseViewer() {
        if (!courseId) {
            alert('No course specified');
            window.location.href = 'studyingatelvion.html';
            return;
        }

        currentCourse = findCourseById(courseId);
        if (!currentCourse) {
            alert('Course not found');
            window.location.href = 'studyingatelvion.html';
            return;
        }

        totalLessons = currentCourse.totalLessons;
        currentLesson = parseInt(lessonParam) || 1;

        // Check if user is enrolled
        const enrolledCourse = userData.enrolledCourses?.find(c => c.courseId === courseId);
        if (!enrolledCourse) {
            alert('You are not enrolled in this course');
            window.location.href = 'studyingatelvion.html';
            return;
        }

        setupCourseInterface();
        renderLessonsList();
        loadLesson(currentLesson);

        document.getElementById('loadingContainer').style.display = 'none';
        document.getElementById('contentHeader').style.display = 'flex';
        document.getElementById('mainContent').style.display = 'block';
        document.getElementById('lessonNavigation').style.display = 'flex';
    }

    function findCourseById(courseId) {
        return allCourses.find(c => c.id === courseId);
    }

    function setupCourseInterface() {
        document.getElementById('courseIconLarge').className = `course-icon-large ${currentCourse.icon}`;
        document.getElementById('courseTitle').textContent = currentCourse.title;
        document.getElementById('courseSubtitle').textContent = currentCourse.description;

        // Populate Certificate Form details
        document.getElementById('formSubject').value = `Certificate Request: ${currentCourse.title}`;
        document.getElementById('completedCourseName').value = currentCourse.title;

        updateOverallProgress();
    }

    function updateOverallProgress() {
        const enrolledCourse = userData.enrolledCourses?.find(c => c.courseId === courseId);
        const progress = enrolledCourse?.progress || 0;
        const completedLessons = enrolledCourse?.completedLessons?.length || 0;

        document.getElementById('overallProgressBar').style.width = `${progress}%`;
        document.getElementById('overallProgressText').textContent = `${progress}% Complete (${completedLessons}/${totalLessons} lessons)`;

        // Update Total Points for GP (sidebar and nav)
        document.getElementById('totalPointsEarnedSidebar').textContent = userData.totalPoints || 0;
        document.getElementById('totalPointsEarnedNav').textContent = userData.totalPoints || 0;
        document.getElementById('formTotalPoints').value = userData.totalPoints || 0;
        document.getElementById('finalTotalPoints').textContent = userData.totalPoints || 0;
    }

    function renderLessonsList() {
        const container = document.getElementById('lessonsContainer');
        const enrolledCourse = userData.enrolledCourses?.find(c => c.courseId === courseId);
        const completedLessons = enrolledCourse?.completedLessons || [];

        container.innerHTML = '';

        currentCourse.lessons.forEach((lesson) => {
            const lessonNumber = lesson.id;
            const isCompleted = completedLessons.includes(lessonNumber);
            const isCurrent = lessonNumber === currentLesson;
            const isAccessible = lessonNumber <= (enrolledCourse?.currentLesson || 1);

            const lessonItem = document.createElement('div');
            lessonItem.className = `lesson-item ${isCurrent ? 'active' : ''} ${isCompleted ? 'completed' : ''}`;

            let statusIcon, statusClass;
            if (isCompleted) {
                statusIcon = '<i class="fas fa-check"></i>';
                statusClass = 'completed';
            } else if (isCurrent) {
                statusIcon = lessonNumber;
                statusClass = 'current';
            } else if (isAccessible) {
                statusIcon = lessonNumber;
                statusClass = ''; // Accessible but not current/completed
            } else {
                statusIcon = '<i class="fas fa-lock"></i>';
                statusClass = 'locked';
            }

            lessonItem.innerHTML = `
                <div class="lesson-status ${statusClass}">${statusIcon}</div>
                <div class="lesson-details">
                    <div class="lesson-title">${lesson.title}</div>
                    <div class="lesson-duration">${lesson.duration}</div>
                </div>
            `;

            if (isAccessible) {
                lessonItem.style.cursor = 'pointer';
                lessonItem.addEventListener('click', () => {
                    if (lessonNumber !== currentLesson) {
                        loadLesson(lessonNumber);
                        courseSidebar.classList.remove('active'); // Close on mobile navigation
                    }
                });
            } else {
                lessonItem.style.opacity = '0.5';
                lessonItem.style.cursor = 'not-allowed';
            }

            container.appendChild(lessonItem);
        });

        // Add the final certificate page link
        if (enrolledCourse?.progress === 100) {
            const finalItem = document.createElement('div');
            finalItem.className = `lesson-item ${currentLesson === totalLessons + 1 ? 'active' : ''}`;
            finalItem.style.borderLeftColor = 'var(--success-color)';
            finalItem.innerHTML = `
                <div class="lesson-status completed" style="background: var(--success-color);"><i class="fas fa-certificate"></i></div>
                <div class="lesson-details">
                    <div class="lesson-title" style="color: var(--success-color); font-weight: 700;">Final Exam/Certificate</div>
                    <div class="lesson-duration">Your Course GP is Ready</div>
                </div>
            `;
            finalItem.style.cursor = 'pointer';
            finalItem.addEventListener('click', () => {
                loadLesson(totalLessons + 1);
                courseSidebar.classList.remove('active'); // Close on mobile navigation
            });
            container.appendChild(finalItem);
        }
    }

    function loadLesson(lessonNumber) {
        currentLesson = lessonNumber;
        quizPassed = false; // Reset quiz state for the new lesson

        // Update URL without reloading
        const newUrl = new URL(window.location);
        newUrl.searchParams.set('lesson', lessonNumber);
        window.history.pushState({}, '', newUrl);

        // Hide all main content elements first
        document.getElementById('finalCoursePage').style.display = 'none';
        document.getElementById('contentHeader').style.display = 'flex';
        document.getElementById('lessonNavigation').style.display = 'flex';
        const contentCard = document.querySelector('.content-card');
        const quizContainer = document.getElementById('quizContainer');
        const mediaPlayer = document.getElementById('mediaPlayer');

        contentCard.style.display = 'block';
        mediaPlayer.style.display = 'flex';

        if (currentLesson === totalLessons + 1) {
            // Final Page Logic
            document.getElementById('contentHeader').style.display = 'none';
            document.getElementById('lessonNavigation').style.display = 'none';
            document.getElementById('finalCoursePage').style.display = 'block';
            contentCard.style.display = 'none';
            quizContainer.style.display = 'none';
            mediaPlayer.style.display = 'none';

            updateOverallProgress(); // Refresh GP
        } else {
            // Lesson Page Logic
            const lesson = currentCourse.lessons.find(l => l.id === lessonNumber);
            if (!lesson) return;

            // Update header
            document.getElementById('lessonTitle').textContent = lesson.title;
            document.getElementById('lessonDuration').textContent = lesson.duration;
            document.getElementById('currentLessonNumber').textContent = lessonNumber;
            document.getElementById('totalLessons').textContent = totalLessons;
            document.getElementById('lessonPoints').textContent = '10';
            document.getElementById('markCompleteBtn').style.display = 'none';

            // Update navigation
            document.getElementById('navCurrentLesson').textContent = lessonNumber;
            document.getElementById('navTotalLessons').textContent = totalLessons;

            // Update content
            document.getElementById('lessonContent').innerHTML = lesson.content;

            // Update media player
            const mediaPlaceholderText = document.getElementById('mediaPlaceholderText');
            if (currentCourse.mediaType === 'audio') {
                mediaPlayer.innerHTML = `
                    <audio controls style="width:100%; height: auto; outline:none; border-radius:10px; box-shadow:0 0 8px var(--cyan-glow);">
                        <source src="university/generic_audio.mp3" type="audio/mpeg">
                        Your browser does not support the audio element.
                    </audio>
                `;
                mediaPlaceholderText.textContent = 'Audio content for this lesson is available above.';
            } else {
                mediaPlayer.innerHTML = `
                <div class="media-placeholder">
                    <i class="fas fa-play-circle"></i>
                    <p id="mediaPlaceholderText">Video content coming soon</p>
                    <p style="font-size: 0.9rem; opacity: 0.7;">For now, please read the lesson content below</p>
                </div>
                `;
                mediaPlaceholderText.textContent = 'Video content coming soon';
            }

            // Render Quiz
            const enrolledCourse = userData.enrolledCourses?.find(c => c.courseId === courseId);
            const isCompleted = enrolledCourse?.completedLessons?.includes(currentLesson);

            if (lesson.quiz) {
                quizContainer.style.display = 'block';
                renderQuiz(lesson.quiz, isCompleted);
            } else {
                quizContainer.style.display = 'none';
            }
        }

        // Update navigation buttons and state
        updateNavigationControls();

        // Update sidebar
        renderLessonsList();

        // Scroll to top
        window.scrollTo(0, 0);
    }

    function updateNavigationControls() {
        const prevBtn = document.getElementById('prevLessonBtn');
        const nextBtn = document.getElementById('nextLessonBtn');
        const enrolledCourse = userData.enrolledCourses?.find(c => c.courseId === courseId);
        const isCompleted = enrolledCourse?.completedLessons?.includes(currentLesson);
        const isCourseFullyCompleted = enrolledCourse?.progress === 100;

        // Previous Button Logic
        prevBtn.disabled = currentLesson <= 1;

        // Next Button Logic
        if (currentLesson === totalLessons) {
            nextBtn.textContent = 'Final Exam/Certificate';
            // Enable only if all lessons are completed (progress 100%)
            nextBtn.disabled = !isCourseFullyCompleted && !isCompleted; // Use isCompleted as a fallback if progress hasn't updated immediately
        } else if (currentLesson === totalLessons + 1) {
            // On Final Page, next is always disabled
            nextBtn.textContent = 'Course Completed';
            nextBtn.disabled = true;
        } else if (isCompleted || quizPassed) {
            nextBtn.textContent = 'Next Lesson';
            nextBtn.disabled = false;
        } else {
            nextBtn.textContent = 'Pass Quiz to Unlock';
            nextBtn.disabled = true;
        }
    }

    // --- QUIZ LOGIC (Updated to include animation/feedback) ---

    function renderQuiz(quizData, isLessonCompleted) {
        const quizQuestionsContainer = document.getElementById('quizQuestions');
        quizQuestionsContainer.innerHTML = '';
        document.getElementById('quizResult').innerHTML = ''; // Clear result area

        // Hide submit button if lesson is already completed
        const submitBtn = document.getElementById('submitQuizBtn');
        submitBtn.style.display = isLessonCompleted ? 'none' : 'block';

        quizData.forEach((q, index) => {
            const questionElement = document.createElement('div');
            questionElement.className = 'quiz-question-wrapper';
            questionElement.style.marginBottom = '2rem'; // Separating questions

            // Check if the quiz is a code output type or a plain MCQ/Text type
            const questionContent = q.type === 'code-output' ? q.question : `Question ${index + 1}: ${q.question}`;

            questionElement.innerHTML = `
                <div class="quiz-question">${questionContent}</div>
                <div class="quiz-options" data-question-index="${index}">
                    ${q.type === 'mcq' || q.type === 'code-output' ? q.options.map(option => `
                        <div class="quiz-option" data-answer="${option}" ${isLessonCompleted ? 'style="cursor: default;"' : ''}>${option}</div>
                    `).join('') : ''}
                    ${q.type === 'text' ? `
                        <input type="text" class="text-input-answer" placeholder="Type your answer here..." style="width: 100%; padding: 1rem; border-radius: 8px; border: 2px solid rgba(0, 255, 255, 0.3); background: rgba(0, 0, 0, 0.5); color: var(--text-color); font-size: 1rem;" ${isLessonCompleted ? 'disabled' : ''}>
                    ` : ''}
                </div>
            `;
            quizQuestionsContainer.appendChild(questionElement);
        });

        // Add event listeners for MCQ selection only if not completed
        if (!isLessonCompleted) {
            quizQuestionsContainer.querySelectorAll('.quiz-option').forEach(option => {
                option.addEventListener('click', function () {
                    const optionsGroup = this.closest('.quiz-options');
                    // Deselect all others in the group
                    optionsGroup.querySelectorAll('.quiz-option').forEach(opt => opt.classList.remove('selected', 'correct', 'incorrect'));
                    // Select the clicked one
                    this.classList.add('selected');
                });
            });
        } else {
            // If completed, visually mark the correct answer on load
            quizData.forEach((q, index) => {
                const optionsGroup = document.querySelector(`.quiz-options[data-question-index="${index}"]`);
                if (q.type === 'mcq' || q.type === 'code-output') {
                    // Mark the correct answer
                    optionsGroup.querySelector(`.quiz-option[data-answer="${q.answer}"]`)?.classList.add('correct');
                } else if (q.type === 'text') {
                    const input = optionsGroup.querySelector(`.text-input-answer`);
                    // Ensure input box shows the correct answer if the lesson is complete
                    input.value = q.answer;
                    input.style.border = `2px solid var(--success-color)`;
                }
            });
            document.getElementById('quizResult').innerHTML = `<div class="quiz-feedback correct"><i class="fas fa-check-circle"></i> **Lesson Already Completed!** You may move to the next lesson.</div>`;
            quizPassed = true;
            updateNavigationControls();
        }
    }

    document.getElementById('submitQuizBtn').addEventListener('click', () => {
        const lesson = currentCourse.lessons.find(l => l.id === currentLesson);
        const quizData = lesson.quiz;
        let allCorrect = true;
        let score = 0;

        // Reset and evaluate
        quizData.forEach((q, index) => {
            const optionsGroup = document.querySelector(`.quiz-options[data-question-index="${index}"]`);
            let isCorrect = false;

            if (q.type === 'mcq' || q.type === 'code-output') {
                const selectedOption = optionsGroup.querySelector('.quiz-option.selected');

                // Clear all previous result classes and animation classes first
                optionsGroup.querySelectorAll('.quiz-option').forEach(opt => opt.classList.remove('correct', 'incorrect'));

                if (selectedOption) {
                    // Ensure comparison is case and whitespace insensitive for robustness
                    const selectedAnswer = selectedOption.dataset.answer.trim();
                    const correctAnswer = q.answer.trim();

                    if (selectedAnswer === correctAnswer) {
                        isCorrect = true;
                        selectedOption.classList.add('correct');
                    } else {
                        selectedOption.classList.add('incorrect');
                        // Highlight the correct answer
                        optionsGroup.querySelector(`.quiz-option[data-answer="${q.answer}"]`)?.classList.add('correct');
                    }
                } else {
                    // User did not select an answer, fail and highlight correct answer
                    optionsGroup.querySelector(`.quiz-option[data-answer="${q.answer}"]`)?.classList.add('correct');
                }
            } else if (q.type === 'text') {
                const input = optionsGroup.querySelector('.text-input-answer');
                const userAnswer = input.value.trim().toLowerCase().replace(/[.,;]/g, ''); // Remove common punctuation
                const correctAnswer = q.answer.trim().toLowerCase().replace(/[.,;]/g, '');

                // Simple check for text answer equivalence
                // Note: For complex text answers, this requires fuzzy matching which is beyond simple client-side JS.
                // We use exact/near-exact match here.
                if (userAnswer === correctAnswer || (q.type === 'text' && q.answer.includes(userAnswer))) { // Added a simple inclusion check for partial credit in some cases, although quiz design should favor exact matches.
                    isCorrect = true;
                    input.style.border = `2px solid var(--success-color)`;
                } else {
                    input.style.border = `2px solid var(--error-color)`;
                }
            }

            if (isCorrect) {
                score++;
            } else {
                allCorrect = false;
            }
        });

        const quizResultElement = document.getElementById('quizResult');
        const totalQuestions = quizData.length;
        // Require 80% to pass
        const requiredScore = Math.ceil(totalQuestions * 0.8);
        const passed = score >= requiredScore;

        if (passed) {
            quizResultElement.innerHTML = `
                <div class="quiz-feedback correct">
                    <i class="fas fa-check-circle"></i> **Quiz Passed!** You got ${score}/${totalQuestions} correct. Lesson unlocked!
                </div>
            `;
            // Mark lesson complete and show modal.
            markLessonComplete();
            document.getElementById('submitQuizBtn').style.display = 'none'; // Hide submit after passing
        } else {
            quizResultElement.innerHTML = `
                <div class="quiz-feedback incorrect">
                    <i class="fas fa-times-circle"></i> **Quiz Failed.** Score: ${score}/${totalQuestions}. You need ${requiredScore} to pass. Please review the lesson and try again.
                </div>
            `;
            // Disable navigation controls if quiz failed
            quizPassed = false;
            updateNavigationControls();
        }
    });

    // --- END QUIZ LOGIC ---


    // Event Listeners
    document.getElementById('prevLessonBtn').addEventListener('click', () => {
        if (currentLesson === totalLessons + 1) {
            loadLesson(totalLessons); // Back from final page to last lesson
        } else if (currentLesson > 1) {
            loadLesson(currentLesson - 1);
        }
    });

    document.getElementById('nextLessonBtn').addEventListener('click', () => {
        if (currentLesson < totalLessons) {
            // This is only enabled if the lesson is completed/quiz is passed
            loadLesson(currentLesson + 1);
        } else if (currentLesson === totalLessons) {
            // Go to final page (Only enabled if progress is 100)
            const enrolledCourse = userData.enrolledCourses?.find(c => c.courseId === courseId);
            if (enrolledCourse?.progress === 100 || enrolledCourse?.completedLessons?.includes(totalLessons)) {
                loadLesson(currentLesson + 1);
            }
        }
    });

    document.getElementById('continueBtn').addEventListener('click', () => {
        document.getElementById('completionModal').style.display = 'none';
        if (currentLesson < totalLessons) {
            loadLesson(currentLesson + 1);
        } else if (currentLesson === totalLessons) {
            loadLesson(currentLesson + 1); // Go to the final certificate page
        }
    });

    // Corrected Dashboard Redirect
    document.getElementById('backToDashboardBtn').addEventListener('click', () => {
        window.location.href = 'studyingatelvion.html';
    });

    async function markLessonComplete() {
        try {
            const enrolledCourseIndex = userData.enrolledCourses.findIndex(c => c.courseId === courseId);
            if (enrolledCourseIndex === -1) return;

            const enrolledCourse = userData.enrolledCourses[enrolledCourseIndex];

            // Check for double completion (to prevent point inflation)
            if (enrolledCourse.completedLessons?.includes(currentLesson)) {
                // Already completed, just update session state and show modal
                quizPassed = true;
                updateNavigationControls();
                document.getElementById('pointsEarned').textContent = '0 (Already earned)';
                document.getElementById('completionModal').style.display = 'flex';
                return;
            }

            // Add to completed lessons
            if (!enrolledCourse.completedLessons) {
                enrolledCourse.completedLessons = [];
            }
            enrolledCourse.completedLessons.push(currentLesson);

            // Update current lesson access: currentLesson + 1
            enrolledCourse.currentLesson = Math.max(enrolledCourse.currentLesson || 1, currentLesson + 1);

            // Calculate progress
            const completedCount = enrolledCourse.completedLessons.length;
            enrolledCourse.progress = Math.round((completedCount / totalLessons) * 100);

            // Update user data: GP/Points logic is here
            userData.enrolledCourses[enrolledCourseIndex] = enrolledCourse;
            userData.completedLessons = (userData.completedLessons || 0) + 1;
            userData.totalPoints = (userData.totalPoints || 0) + 10; // 10 points per lesson

            // Save to database
            await updateDoc(doc(db, 'users', currentUser.uid), {
                enrolledCourses: userData.enrolledCourses,
                completedLessons: userData.completedLessons,
                totalPoints: userData.totalPoints
            });

            // Update UI
            updateOverallProgress();
            renderLessonsList();

            // Mark Quiz as passed for this session
            quizPassed = true;
            updateNavigationControls();

            // Show completion modal
            document.getElementById('pointsEarned').textContent = '10';
            document.getElementById('completionModal').style.display = 'flex';

        } catch (error) {
            console.error('Error marking lesson complete:', error);
            alert('Error updating progress. Please try again.');
        }
    }

    // Initialize stars (outside of DOMContentLoaded to be safe with module imports)
    document.addEventListener('DOMContentLoaded', () => {
        const starsContainer = document.getElementById('stars-container');
        const numStars = 100;
        const minSize = 1;
        const maxSize = 3;
        for (let i = 0; i < numStars; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            const size = Math.random() * (maxSize - minSize) + minSize;
            star.style.width = `${size}px`;
            star.style.height = `${size}px`;
            star.style.left = `${Math.random() * 100}%`;
            star.style.top = `${Math.random() * 100}%`;
            star.style.animationDelay = `${Math.random() * 4}s`;
            star.style.animationDuration = `${3 + Math.random() * 2}s`;
            starsContainer.appendChild(star);
        }
    });

</script>
</body>
</html>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-J1YTKP10ZX"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date()); 

  gtag('config', 'G-J1YTKP10ZX');
</script>

                                                   
                                      
