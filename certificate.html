<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Elvion AI — Certificate Generator</title>

  <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@700;900&family=Montserrat:wght@400;500;600;700&family=Playfair+Display:wght@700&display=swap" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <style>
    :root {
      --navy: #0a1f44;
      --navy-glow: #2952a3;
      --gold: #d4af37;
      --gold-gradient: linear-gradient(135deg, #bf953f, #fcf6ba, #b38728, #fbf5b7, #aa771c);
      --paper: #ffffff;
      --text: #1c1c1c;
      --muted: #555;
    }

    body {
      background: #eef2f5;
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
    }

    /* Layout Container */
    .app-container {
      display: flex;
      gap: 30px;
      align-items: flex-start;
      justify-content: center;
      flex-wrap: wrap;
      max-width: 100%;
    }

    /* --- THE CERTIFICATE FRAME --- */
    /* This controls the outer "Bluish Fiery" Glow */
    .cert-frame {
      position: relative;
      background: var(--navy);
      padding: 10px;
      box-shadow: 
        0 0 20px rgba(41, 82, 163, 0.6), /* Blue Glow */
        0 0 0 2px #162d5c; /* Sharp edge */
      transition: all 0.3s ease;
    }

    /* Aspect Ratio Sizes */
    .size-standard { width: 842px; height: 595px; } /* A4 Landscape */
    .size-square   { width: 700px; height: 700px; } /* 1:1 */
    .size-wide     { width: 960px; height: 540px; } /* 16:9 */

    /* The Inner Paper */
    .cert-paper {
      background: var(--paper);
      width: 100%;
      height: 100%;
      box-sizing: border-box;
      position: relative;
      border: 5px double var(--gold);
      padding: 40px;
      display: flex;
      flex-direction: column;
      justify-content: space-between; /* Pushes content apart */
      overflow: hidden;
    }

    /* The Watermark (Centered Background Logo) */
    .watermark {
      position: absolute;
      top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      width: 60%; /* Relative to container */
      height: 60%;
      background-image: url('https://i.postimg.cc/brGKkFLC/IMG-20251007-234104-159.webp');
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
      opacity: 0.06;
      z-index: 0;
      pointer-events: none;
      filter: grayscale(100%) sepia(100%) hue-rotate(190deg) saturate(200%); /* Navy tint */
    }

    /* Content Layer */
    .content {
      position: relative;
      z-index: 2;
      text-align: center;
      height: 100%;
      display: flex;
      flex-direction: column;
    }

    /* Header */
    .header-logo { height: 40px; opacity: 0.8; margin-bottom: 10px; }
    .org-title {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 3px;
      color: var(--navy);
      font-size: 14px;
      margin-bottom: 20px;
    }

    /* Main Title */
    .cert-title {
      font-family: 'Cinzel', serif;
      font-size: 48px;
      font-weight: 700;
      text-transform: uppercase;
      color: var(--navy);
      margin: 0;
      line-height: 1;
      text-shadow: 2px 2px 0px #e0e0e0;
    }

    .cert-subtitle {
      font-size: 13px;
      color: var(--muted);
      margin-top: 10px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* Recipient Section */
    .recipient-block {
      flex-grow: 1; /* Takes up available space */
      display: flex;
      flex-direction: column;
      justify-content: center;
    }
    
    .presented-to {
      font-size: 12px;
      color: var(--gold); /* Using flat gold color for text */
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 5px;
    }

    .recipient-name {
      font-family: 'Playfair Display', serif;
      font-size: 42px;
      color: #000;
      margin: 5px 0 15px 0;
      border-bottom: 1px solid #ccc;
      display: inline-block;
      padding-bottom: 10px;
      min-width: 300px;
    }

    .course-block {
      margin-bottom: 20px;
    }
    .course-intro { font-size: 13px; color: var(--muted); margin-bottom: 5px; }
    .course-name {
      font-family: 'Montserrat', sans-serif;
      font-size: 22px;
      font-weight: 700;
      color: var(--navy);
    }

    /* Footer (Signatures & Seal) */
    .footer {
      display: flex;
      justify-content: space-between;
      align-items: flex-end;
      padding: 0 20px;
      margin-top: 10px;
    }

    /* Signature Block */
    .sig-area {
      text-align: center;
      width: 200px;
    }
    .sig-img { width: 180px; height: 60px; object-fit: contain; display: block; margin: 0 auto; }
    .sig-line { height: 2px; background: var(--navy); margin-bottom: 5px; width: 100%; }
    .sig-name { font-weight: 700; font-size: 14px; color: var(--navy); }
    .sig-title { font-size: 10px; text-transform: uppercase; color: var(--muted); letter-spacing: 1px; display:block; margin-top:2px;}

    /* THE PERFECT SEAL */
    .seal-wrapper {
      position: relative;
      width: 110px;
      height: 110px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    /* The Jagged Edge (CSS Polygon) */
    .seal-bg {
      position: absolute;
      width: 100%; height: 100%;
      background: var(--gold-gradient);
      clip-path: polygon(50% 0%, 61% 10%, 75% 6%, 81% 19%, 94% 22%, 93% 36%, 100% 45%, 93% 57%, 98% 70%, 87% 78%, 86% 92%, 72% 92%, 65% 100%, 50% 93%, 35% 100%, 28% 92%, 14% 92%, 13% 78%, 2% 70%, 7% 57%, 0% 45%, 7% 36%, 6% 22%, 19% 19%, 25% 6%, 39% 10%);
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
    }
    .seal-inner {
      position: relative;
      z-index: 2;
      width: 86px; height: 86px;
      border-radius: 50%;
      border: 2px solid rgba(10, 31, 68, 0.5);
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      color: var(--navy);
      text-align: center;
    }
    .seal-year { font-size: 24px; font-weight: 900; font-family: 'Cinzel', serif; line-height: 1; }
    .seal-label { font-size: 9px; font-weight: 700; text-transform: uppercase; letter-spacing: 1px; margin-top: 3px; }

    /* Disclaimer */
    .disclaimer {
      font-size: 9px;
      color: #888;
      margin-top: 15px;
      max-width: 90%;
      margin-left: auto;
      margin-right: auto;
    }

    /* --- CONTROLS --- */
    .controls {
      background: #fff;
      width: 300px;
      padding: 20px;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
    }
    .controls h3 { margin: 0 0 15px 0; color: var(--navy); font-size: 16px; border-bottom: 2px solid #eee; padding-bottom: 8px; }
    
    .ctrl-row { margin-bottom: 12px; }
    .ctrl-row label { display: block; font-size: 11px; font-weight: 700; color: var(--navy); margin-bottom: 4px; text-transform: uppercase; }
    .ctrl-row input { width: 100%; padding: 8px; border: 1px solid #ddd; border-radius: 4px; font-family: inherit; box-sizing: border-box; }

    .size-btns { display: flex; gap: 5px; margin-bottom: 15px; }
    .size-btn {
      flex: 1;
      padding: 8px;
      border: 1px solid var(--navy);
      background: #fff;
      color: var(--navy);
      font-size: 10px;
      font-weight: 700;
      cursor: pointer;
      border-radius: 4px;
    }
    .size-btn.active { background: var(--navy); color: #fff; }

    .action-btn {
      width: 100%;
      padding: 12px;
      background: var(--navy);
      color: #fff;
      border: none;
      border-radius: 4px;
      font-weight: 700;
      cursor: pointer;
      margin-top: 10px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 1px;
    }
    .action-btn:hover { background: #162d5c; }

    canvas#sigpad { width: 100%; height: 80px; border: 1px dashed #ccc; background: #fafafa; cursor:crosshair;}
  </style>
</head>
<body>

<div class="app-container">

  <div id="cert-frame" class="cert-frame size-standard">
    <div class="cert-paper">
      
      <div class="watermark"></div>

      <div class="content">
        <div>
          <img src="https://i.postimg.cc/brGKkFLC/IMG-20251007-234104-159.webp" class="header-logo" alt="Logo">
          <div class="org-title" id="out-org">Elvion AI Innovations</div>
          <h1 class="cert-title">Certificate of Completion</h1>
          <div class="cert-subtitle">Award of Academic Excellence</div>
        </div>

        <div class="recipient-block">
          <div class="presented-to">This certificate is presented to</div>
          <div class="recipient-name" id="out-recipient">Kolade Ogunlana</div>
          
          <div class="course-block">
            <div class="course-intro">For successfully completing the prescribed course in</div>
            <div class="course-name" id="out-course">LAW — Legal Foundations & Modern Practice</div>
          </div>
        </div>

        <div class="footer">
          <div class="sig-area">
            <img id="out-sig-img" class="sig-img" src="" style="display:none;">
            <div class="sig-line"></div>
            <div class="sig-name" id="out-sig-name">Kolade Philip Ogunlana</div>
            <div class="sig-title">President,<br>Elvion AI Innovations</div>
          </div>

          <div class="seal-wrapper">
            <div class="seal-bg"></div>
            <div class="seal-inner">
              <div class="seal-year">2025</div>
              <div class="seal-label">Official<br>Seal</div>
            </div>
          </div>

          <div class="sig-area" style="text-align: right;">
            <div style="font-size: 12px; margin-bottom: 4px;"><strong>Date:</strong> <span id="out-date">Nov 23, 2025</span></div>
            <div style="font-size: 12px; margin-bottom: 10px;"><strong>Grade:</strong> <span id="out-grade">4.75 / 5.00</span></div>
            <div style="font-size: 10px; color:#999;">ID: <span id="out-id">ELV-8842</span></div>
          </div>
        </div>

        <div class="disclaimer">
          This certificate certifies that the individual named above has completed the coursework and requirements set forth by Elvion AI Innovations. It serves as a formal record of learning achievement and technical proficiency for academic and professional portfolios.
        </div>

      </div>
    </div>
  </div>

  <div class="controls">
    <h3>Design & Content</h3>

    <div class="ctrl-row">
      <label>Certificate Shape</label>
      <div class="size-btns">
        <button class="size-btn active" onclick="setSize('standard')">A4 Standard</button>
        <button class="size-btn" onclick="setSize('square')">Square (1:1)</button>
        <button class="size-btn" onclick="setSize('wide')">16:9 Wide</button>
      </div>
    </div>

    <div class="ctrl-row">
      <label>Recipient Name</label>
      <input type="text" id="in-recipient" value="Kolade Ogunlana">
    </div>
    
    <div class="ctrl-row">
      <label>Course Name</label>
      <input type="text" id="in-course" value="LAW — Legal Foundations & Modern Practice">
    </div>

    <div class="ctrl-row">
      <label>Signer Name</label>
      <input type="text" id="in-sig-name" value="Kolade Philip Ogunlana">
    </div>

    <div class="ctrl-row" style="display:flex; gap:10px;">
       <div style="flex:1"><label>Grade</label><input type="text" id="in-grade" value="4.75 / 5.00"></div>
       <div style="flex:1"><label>Date</label><input type="date" id="in-date"></div>
    </div>

    <div class="ctrl-row">
      <label>Signature (Draw)</label>
      <canvas id="sigpad"></canvas>
      <button style="font-size:10px; padding:4px; margin-top:4px; cursor:pointer;" id="btn-apply-sig">Apply Signature</button>
      <button style="font-size:10px; padding:4px; margin-top:4px; cursor:pointer;" id="btn-clear-sig">Clear</button>
    </div>

    <button class="action-btn" id="btn-download">Download Certificate</button>
  </div>

</div>

<script>
  // --- 1. Aspect Ratio Switcher ---
  function setSize(size) {
    const frame = document.getElementById('cert-frame');
    // Remove old classes
    frame.classList.remove('size-standard', 'size-square', 'size-wide');
    // Add new class
    frame.classList.add('size-' + size);
    
    // Update buttons visual state
    document.querySelectorAll('.size-btn').forEach(b => b.classList.remove('active'));
    event.target.classList.add('active');
  }

  // --- 2. Live Text Updates ---
  const map = {
    'in-recipient': 'out-recipient',
    'in-course': 'out-course',
    'in-grade': 'out-grade',
    'in-sig-name': 'out-sig-name'
  };

  for (let id in map) {
    document.getElementById(id).addEventListener('input', function(e) {
      document.getElementById(map[id]).textContent = e.target.value;
    });
  }

  // Date
  const dateInput = document.getElementById('in-date');
  dateInput.valueAsDate = new Date();
  dateInput.addEventListener('change', function(e){
    const d = new Date(e.target.value);
    document.getElementById('out-date').textContent = d.toLocaleDateString('en-US', {month:'short', day:'numeric', year:'numeric'});
  });
  // Init date text
  document.getElementById('out-date').textContent = new Date().toLocaleDateString('en-US', {month:'short', day:'numeric', year:'numeric'});


  // --- 3. Signature Logic ---
  const canvas = document.getElementById('sigpad');
  const ctx = canvas.getContext('2d');
  let drawing = false;

  function resizeCanvas() {
    const ratio = Math.max(window.devicePixelRatio || 1, 1);
    canvas.width = canvas.offsetWidth * ratio;
    canvas.height = canvas.offsetHeight * ratio;
    ctx.scale(ratio, ratio);
    ctx.strokeStyle = "#0a1f44"; // Navy ink
    ctx.lineWidth = 2;
  }
  setTimeout(resizeCanvas, 100); // Wait for layout

  function getPos(e) {
    const r = canvas.getBoundingClientRect();
    const x = e.touches ? e.touches[0].clientX : e.clientX;
    const y = e.touches ? e.touches[0].clientY : e.clientY;
    return { x: x - r.left, y: y - r.top };
  }

  ['mousedown','touchstart'].forEach(ev=>canvas.addEventListener(ev, (e)=>{ drawing=true; const p=getPos(e); ctx.beginPath(); ctx.moveTo(p.x,p.y); e.preventDefault(); }));
  ['mousemove','touchmove'].forEach(ev=>canvas.addEventListener(ev, (e)=>{ if(!drawing)return; const p=getPos(e); ctx.lineTo(p.x,p.y); ctx.stroke(); e.preventDefault(); }));
  ['mouseup','touchend'].forEach(ev=>canvas.addEventListener(ev, ()=>drawing=false));

  document.getElementById('btn-apply-sig').addEventListener('click', () => {
    document.getElementById('out-sig-img').src = canvas.toDataURL();
    document.getElementById('out-sig-img').style.display = 'block';
  });
  document.getElementById('btn-clear-sig').addEventListener('click', () => {
    ctx.clearRect(0,0,canvas.width,canvas.height);
    document.getElementById('out-sig-img').style.display = 'none';
  });


  // --- 4. Download ---
  document.getElementById('btn-download').addEventListener('click', () => {
    const element = document.getElementById('cert-frame');
    
    html2canvas(element, {
      scale: 3, // High res
      useCORS: true,
      backgroundColor: null
    }).then(canvas => {
      const link = document.createElement('a');
      link.download = 'Certificate_' + document.getElementById('in-recipient').value + '.png';
      link.href = canvas.toDataURL('image/png');
      link.click();
    });
  });

</script>
</body>
</html>
