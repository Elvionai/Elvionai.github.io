<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Professional Certificate Generator</title>

  <link href="https://fonts.googleapis.com/css2?family=Cinzel+Decorative:wght@700;900&family=Montserrat:wght@300;400;500;700&family=Playfair+Display:ital,wght@0,700;1,700&display=swap" rel="stylesheet">

  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <style>
    :root {
      --navy: #1a2c5b;
      --navy-dark: #0f1a36;
      --gold: #d4af37;
      --gold-light: #f2dda6;
      --gold-dark: #aa8c2c;
      --cream-paper: #fdfbf7;
      --text-dark: #1a1a1a;
      --text-muted: #555c6b;
    }

    html, body {
      height: 100%;
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: #e0e5ec;
      -webkit-font-smoothing: antialiased;
    }

    .page {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 20px;
      box-sizing: border-box;
    }

    .panel {
      width: 1000px;
      max-width: 100%;
      display: flex;
      gap: 30px;
      align-items: flex-start;
      justify-content: center;
    }

    /* --- Certificate Container --- */
    .cert-container {
        position: relative;
        width: 740px;
        /* The outer Gold/Blue Frame */
        padding: 15px;
        background: linear-gradient(135deg, var(--gold) 0%, var(--gold-light) 50%, var(--gold) 100%);
        box-shadow: 0 20px 40px rgba(0,0,0,0.2);
        border-radius: 4px;
    }

    /* The "Bluish Fiery Edge" - Intricate glowing border */
    .cert-border-inner {
        position: relative;
        padding: 40px;
        background: var(--cream-paper);
        /* Complex guilloche pattern overlay */
        background-image: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%231a2c5b' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
        
        /* The glowing blue edge effect */
        border: 2px solid var(--navy);
        box-shadow: 
            inset 0 0 0 3px var(--gold),
            inset 0 0 30px rgba(26, 44, 91, 0.2),
            0 0 15px rgba(26, 44, 91, 0.4); /* Outer blue glow */
    }

    /* --- Decorative Corners --- */
    .corner-ornament {
        position: absolute;
        width: 60px;
        height: 60px;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='%231a2c5b'%3E%3Cpath d='M0 0h24v24H0V0z' fill='none'/%3E%3Cpath d='M12 2l-5.5 9h11L12 2zm0 3.8L14.3 9H9.7L12 5.8zM4 14h16v2H4v-2zm0 4h16v2H4v-2z' opacity='.3'/%3E%3Cpath d='M2 20h20v4H2zM4 14h16v2H4z'/%3E%3C/svg%3E"); /* Placeholder decorative element */
        background-size: contain;
        background-repeat: no-repeat;
        opacity: 0.8;
    }
    .co-tl { top: 10px; left: 10px; transform: rotate(0deg); }
    .co-tr { top: 10px; right: 10px; transform: rotate(90deg); }
    .co-bl { bottom: 10px; left: 10px; transform: rotate(-90deg); }
    .co-br { bottom: 10px; right: 10px; transform: rotate(180deg); }


    /* --- Watermark --- */
    .watermark {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 400px;
      height: 400px;
      /* Using a professional placeholder logo, replace with yours */
      background-image: url('https://cdn-icons-png.flaticon.com/512/2421/2421258.png'); 
      background-position: center;
      background-size: contain;
      background-repeat: no-repeat;
      opacity: 0.04; /* Very faint */
      filter: grayscale(100%) sepia(100%) hue-rotate(200deg) saturate(200%); /* Tinting it navy/gold */
      z-index: 0;
      pointer-events: none;
    }

    /* --- Content Styling --- */
    .cert-content {
        position: relative;
        z-index: 2;
        text-align: center;
        color: var(--text-dark);
    }

    .org-logo-top {
        height: 60px;
        margin-bottom: 10px;
        /* Replace with actual logo URL */
        content: url('https://cdn-icons-png.flaticon.com/512/2421/2421258.png');
    }

    .org-name {
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: var(--navy);
        font-size: 14px;
        margin-bottom: 25px;
    }

    .cert-title {
        font-family: 'Cinzel Decorative', serif;
        font-size: 42px;
        font-weight: 900;
        color: var(--navy);
        text-transform: uppercase;
        letter-spacing: 1px;
        line-height: 1.1;
        margin: 0 0 15px 0;
        /* Gold shadow for depth */
        text-shadow: 2px 2px 0px var(--gold-light);
    }

    .cert-subtitle {
        font-size: 14px;
        color: var(--text-muted);
        max-width: 80%;
        margin: 0 auto 30px auto;
        font-style: italic;
    }

    .presented-to {
        font-size: 13px;
        text-transform: uppercase;
        letter-spacing: 2px;
        color: var(--gold-dark);
        font-weight: 600;
        margin-bottom: 10px;
    }

    .recipient-name {
        font-family: 'Playfair Display', serif;
        font-size: 38px;
        font-weight: 700;
        color: var(--navy-dark);
        margin: 0 0 20px 0;
        padding-bottom: 10px;
        border-bottom: 2px solid var(--gold);
        display: inline-block;
        min-width: 300px;
    }

    .for-completion {
        font-size: 14px;
        color: var(--text-muted);
        margin-bottom: 10px;
    }

    .course-title {
        font-family: 'Playfair Display', serif;
        font-size: 24px;
        font-weight: 700;
        color: var(--navy);
        margin-bottom: 30px;
    }

    /* --- Bottom Section --- */
    .bottom-row {
        display: flex;
        justify-content: space-between;
        align-items: flex-end;
        margin-top: 50px;
        padding: 0 20px;
    }

    .sign-block {
        text-align: center;
        width: 200px;
    }

    .signature-img {
        height: 60px;
        margin-bottom: -10px;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    .sign-line {
        height: 2px;
        background: var(--navy);
        margin-bottom: 8px;
    }

    .sign-name {
        font-weight: 700;
        color: var(--navy);
        font-size: 14px;
    }
    .sign-title {
        font-size: 11px;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 1px;
    }

    /* --- Realistic Seals --- */
    .seals-container {
        display: flex;
        gap: 20px;
        align-items: center;
    }

    .seal-gold {
        width: 90px;
        height: 90px;
        border-radius: 50%;
        background: radial-gradient(ellipse at center, var(--gold-light) 0%, var(--gold) 70%, var(--gold-dark) 100%);
        box-shadow: 0 4px 10px rgba(0,0,0,0.3), inset 0 2px 5px rgba(255,255,255,0.5);
        display: flex;
        align-items: center;
        justify-content: center;
        color: var(--navy-dark);
        font-weight: 900;
        font-size: 16px;
        text-shadow: 0 1px 0 rgba(255,255,255,0.4);
        border: 3px double var(--gold-dark);
    }

    .seal-red {
        width: 80px;
        height: 80px;
        border-radius: 50%;
        /* Realistic wax look */
        background: radial-gradient(circle at 30% 30%, #e74c3c 0%, #c0392b 60%, #922b21 100%);
        box-shadow: 0 6px 12px rgba(0,0,0,0.4), inset 0 2px 5px rgba(255,255,255,0.3);
        border: 2px dashed #a93226;
        display: flex;
        align-items: center;
        justify-content: center;
        color: rgba(255,255,255,0.9);
        font-family: 'Cinzel Decorative', serif;
        font-size: 12px;
        text-align: center;
    }

    .cert-id-strip {
        position: absolute;
        bottom: -2px;
        left: 50%;
        transform: translateX(-50%);
        background: var(--navy);
        color: var(--gold);
        padding: 4px 20px;
        font-size: 10px;
        letter-spacing: 2px;
        border-radius: 4px 4px 0 0;
    }

    /* --- Controls Panel (Right Side) --- */
    .controls {
      width: 280px;
      background: #fff;
      padding: 25px;
      border-radius: 8px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.08);
      display: flex;
      flex-direction: column;
      gap: 15px;
      height: fit-content;
    }

    .controls h4 {
        margin: 0 0 15px 0;
        color: var(--navy);
        font-size: 16px;
        text-transform: uppercase;
        border-bottom: 2px solid var(--gold);
        padding-bottom: 10px;
    }
    .control-group label { display: block; font-size: 12px; font-weight: 600; color: var(--navy); margin-bottom: 5px; }
    .control-group input, .control-group textarea {
        width: 100%; box-sizing: border-box; padding: 10px; border: 1px solid #ddd; border-radius: 4px; font-family: 'Montserrat';
    }
    .control-group input:focus { outline: none; border-color: var(--navy); }

    .btn {
        padding: 12px; border: none; border-radius: 4px; font-weight: 700; cursor: pointer; transition: all 0.2s; text-transform: uppercase; font-size: 12px; letter-spacing: 1px;
    }
    .btn-primary { background: var(--navy); color: var(--gold); box-shadow: 0 4px 10px rgba(26, 44, 91, 0.3); }
    .btn-primary:hover { background: var(--navy-dark); transform: translateY(-1px); }
    .btn-secondary { background: #f0f0f0; color: var(--text-muted); border: 1px solid #ccc; }

    #sigpad { width: 100%; height: 100px; border: 1px dashed var(--text-muted); background: #fafafa; cursor: crosshair; }

    @media (max-width: 1050px) {
      .panel { flex-direction: column; align-items: center; }
      .controls { width: 100%; max-width: 740px; }
    }
  </style>
</head>
<body>

<div class="page">
  <div class="panel">

    <div class="cert-container">
        <div class="cert-border-inner" id="certificate-to-export">
            
            <div class="watermark"></div>
            <div class="corner-ornament co-tl"></div>
            <div class="corner-ornament co-tr"></div>
            <div class="corner-ornament co-bl"></div>
            <div class="corner-ornament co-br"></div>

            <div class="cert-content">
                <img class="org-logo-top" alt="Organization Logo" />
                <div class="org-name" id="disp-org">Association of Professional Scholars</div>

                <h1 class="cert-title">Certificate of Completion</h1>
                <p class="cert-subtitle">This document certifies that the individual mentioned below has successfully met all requirements set forth by the organization.</p>

                <div class="presented-to">Presented To</div>
                <div class="recipient-name" id="disp-name">Vivian Claire Okeke</div>

                <div class="for-completion">For the successful completion of the course:</div>
                <div class="course-title" id="disp-course">Advanced Communication Strategies & Leadership</div>

                <div style="display:flex; justify-content:center; gap:30px; margin-bottom:30px; color:var(--text-muted); font-size:13px;">
                    <div><strong>Date Issued:</strong> <span id="disp-date">October 25, 2025</span></div>
                    <div><strong>Grade/Score:</strong> <span id="disp-grade">Distinction (94%)</span></div>
                </div>

                <div class="bottom-row">
                    <div class="sign-block">
                        <img id="sig-img-1" class="signature-image" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAANoAAAAyCAYAAABY9J8UAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAB1pVFh0Q29tbWVudDwraW5rc2NhcGU6dmVyc2lvbj0iMS4xLjIi7B9oEAAAA65JREFUeJztXTFuGzEQfXskRVIix4gT+QIFcgoH8SlcpHAKH8RHoK8QJ0gKn8IFDqL/40iOHCmWSAqJbH4JEAAB8j5y1u4CR4BIFrmzM3x8u1x24X/x/v4+3s9m/X5fX1xc2F4sFnH7+Hh/vV6b1j1dXV31Z2dnZrd7yA8PD/Hu7s7tdrv4+vqaj6+vLx+3t7fx9fU11tfX8fT0NLt7e4nLy0v7fD532+02Pjk54Y71w8MDd6yvrq44Xj85OVF7m83GfHx4cDs7O9O1B8rT05PrdDr4uN1uH2x76m1+7t2bH8153q9d7yF2x8fHl9fX13G73T76eG1uTq49P9/0/JkZ94yNn6fJ583P5u6F/u90g5/NZvy82+2824H3d/B5v9/X3W6X+/1+l8+7/W3v/r7f33r/t36t3f7e3t58vH53t9tt977e4/7+XtfX19q6J/X+63q99h/v5+12q+v1Wh/7eG16fnJz0x0fH4/49PQ0zsvlsstXGv8+9+r5+Zn/+fnZ/by+vm4+/u/7+1s/Pz/H1Wpl+/n5mf/5+dn9PD09Nce73W678/NzPj099R/v5+VyaZq/N3fP4+Pj3d16+1n6l3w398T+s8vLyy47N5tN9x73/r67uzP/3H6326m5J5c9OT1X3r71t7e33fFk73G/v/X2J7f9+/n+t7e33d3a3N3d+f72fG36/fPzU3N3Z7d9t/m/d/t7fHw0rd99vLd2c3Nzd3783+Vymd/d3d1d/tVq1fX+b/163q49rW/62aP3e73fX+9n87m+c39v7r/163nvz9L7c9Pr7c+v19fX0Xb36/Va7/f76OP9rOvr69H8jP1/a257937/fJ76vef3e2t7d+v93pr72Zqf6Xn+55znn6m5W5s778/7/eL3Z/Zz6c/O4862f689W/6z+d7c9/f3tXf/1dVV93O935vr/Wj/5p73eXp6sren6bU/283Njb17c8e7+fnw/Nnc9u5n97/m3nN+fnaX7/1e6/d3a8+m52ft+n/z6/X6enQ36N7d9f73/X792tP02r8H2vP7vfX8mfPzs9X/26+vr9HN3/f+bJ833d3d2c98eHgwrd89z6+fn7U71j+/Xm93f7aO2M/m5+z92dr7s3e/595/X3uP+/+f72f0fH2253f793p/1s7r1f/uFovFKD1D5hWw94hVwL4B65Wwd8C+AasV3t4B+waoV9DeAfsGiFfw3gH7BihX+N4B+waoV/jefZDeAfsGSFew/gH7BmhX2P4B+wZI13t790F6B+wbIN13H7B3wL4B6/1/oH0D7J/nF+hT9J/y8+rFAAAAAElFTkSuQmCC">
                        <div class="sign-line"></div>
                        <div class="sign-name" id="disp-sig1-name">Dr. Alistair E. Sterling</div>
                        <div class="sign-title" id="disp-sig1-title">President & Chairman</div>
                    </div>

                    <div class="seals-container">
                        <div class="seal-gold">
                            <span>2025</span>
                        </div>
                        <div class="seal-red">
                            OFFICIAL<br>SEAL
                        </div>
                    </div>

                    <div class="sign-block">
                        <img id="dynamic-sig-img" class="signature-image" src="" style="display:none;"/>
                        <div class="sign-line"></div>
                        <div class="sign-name" id="disp-sig2-name">Prof. Ngozi A. Balogun</div>
                        <div class="sign-title" id="disp-sig2-title">Lead Instructor</div>
                    </div>
                </div>
            </div>
            <div class="cert-id-strip">ID: APS-2025-CERT-8842A</div>
        </div>
    </div>
    <div class="controls">
      <h4>Customize Certificate</h4>

      <div class="control-group">
          <label>Recipient Name</label>
          <input type="text" id="in-name" value="Vivian Claire Okeke" />
      </div>

      <div class="control-group">
          <label>Course Title</label>
          <input type="text" id="in-course" value="Advanced Communication Strategies & Leadership" />
      </div>

      <div class="control-group" style="display:flex; gap:10px;">
        <div style="flex:1">
           <label>Date</label>
           <input type="date" id="in-date" />
        </div>
        <div style="flex:1">
           <label>Grade/Score</label>
           <input type="text" id="in-grade" value="Distinction (94%)" />
        </div>
      </div>

       <div class="control-group">
          <label>Organization Name</label>
          <input type="text" id="in-org" value="Association of Professional Scholars" />
      </div>

      <hr style="border:none; border-top:1px solid #eee; margin: 10px 0;">

      <div class="control-group">
          <label>Instructor Signature (Draw below)</label>
          <canvas id="sigpad"></canvas>
          <div style="margin-top:5px; display:flex; justify-content:space-between;">
              <button class="btn btn-secondary" id="clear-sig">Clear</button>
              <button class="btn btn-primary" id="apply-sig">Apply Signature</button>
          </div>
      </div>

      <hr style="border:none; border-top:1px solid #eee; margin: 10px 0;">

      <button id="update-btn" class="btn btn-primary" style="font-size:14px; padding:15px;">Update Details</button>
      <button id="download-btn" class="btn btn-primary" style="background: var(--gold-dark); color:white;">Download Certificate</button>
    </div>
    </div>
</div>

<script>
  // Initialize Date Picker to today
  const today = new Date().toISOString().split('T')[0];
  document.getElementById('in-date').value = today;

  // Function to update the certificate view with form data
  function updateCertificateData() {
    document.getElementById('disp-name').innerText = document.getElementById('in-name').value || 'Recipient Name';
    document.getElementById('disp-course').innerText = document.getElementById('in-course').value || 'Course Title';
    document.getElementById('disp-org').innerText = document.getElementById('in-org').value || 'Organization Name';
    document.getElementById('disp-grade').innerText = document.getElementById('in-grade').value;

    const dateVal = document.getElementById('in-date').value;
    if (dateVal) {
        const dateObj = new Date(dateVal);
        document.getElementById('disp-date').innerText = dateObj.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' });
    }
  }

  document.getElementById('update-btn').addEventListener('click', updateCertificateData);

  // --- Signature Pad Logic ---
  const canvas = document.getElementById('sigpad');
  const ctx = canvas.getContext('2d');
  let isDrawing = false;

  function resizeCanvas() {
      const ratio = Math.max(window.devicePixelRatio || 1, 1);
      canvas.width = canvas.offsetWidth * ratio;
      canvas.height = canvas.offsetHeight * ratio;
      ctx.scale(ratio, ratio);
      ctx.strokeStyle = "#1a2c5b"; // Navy color signature
      ctx.lineWidth = 2;
      ctx.lineCap = 'round';
  }
  window.addEventListener('resize', resizeCanvas);
  resizeCanvas(); // Initial size

  function getPos(e) {
      const rect = canvas.getBoundingClientRect();
      const clientX = e.touches ? e.touches[0].clientX : e.clientX;
      const clientY = e.touches ? e.touches[0].clientY : e.clientY;
      return { x: clientX - rect.left, y: clientY - rect.top };
  }

  ['mousedown', 'touchstart'].forEach(ev => {
      canvas.addEventListener(ev, (e) => {
          isDrawing = true;
          const pos = getPos(e);
          ctx.beginPath();
          ctx.moveTo(pos.x, pos.y);
          e.preventDefault();
      });
  });

  ['mousemove', 'touchmove'].forEach(ev => {
      canvas.addEventListener(ev, (e) => {
          if (!isDrawing) return;
          const pos = getPos(e);
          ctx.lineTo(pos.x, pos.y);
          ctx.stroke();
          e.preventDefault();
      });
  });

  ['mouseup', 'mouseleave', 'touchend'].forEach(ev => {
      canvas.addEventListener(ev, () => { isDrawing = false; });
  });

  document.getElementById('clear-sig').addEventListener('click', () => {
      ctx.clearRect(0, 0, canvas.width / window.devicePixelRatio, canvas.height / window.devicePixelRatio);
      document.getElementById('dynamic-sig-img').style.display = 'none';
  });

  document.getElementById('apply-sig').addEventListener('click', () => {
      const dataUrl = canvas.toDataURL('image/png');
      const sigImg = document.getElementById('dynamic-sig-img');
      sigImg.src = dataUrl;
      sigImg.style.display = 'block';
  });

  // --- Download Logic ---
  document.getElementById('download-btn').addEventListener('click', () => {
      updateCertificateData(); // Ensure data is synced
      const certElement = document.getElementById('certificate-to-export');

      // Use html2canvas to take a screenshot of the certificate div
      html2canvas(certElement, {
          scale: 3, // High resolution export
          useCORS: true, // Allow loading cross-origin images (like the placeholder logos)
          backgroundColor: null // Ensure transparent areas remain transparent
      }).then(canvasResult => {
          const link = document.createElement('a');
          const name = document.getElementById('in-name').value.replace(/\s+/g, '_') || 'certificate';
          link.download = `${name}_Certificate.png`;
          link.href = canvasResult.toDataURL('image/png');
          link.click();
      });
  });

  // Initial update on load
  updateCertificateData();
</script>
</body>
</html>

